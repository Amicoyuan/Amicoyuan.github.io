<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://xingyuanjie.top</id>
    <title>Amicoyuan</title>
    <link href="https://xingyuanjie.top" />
    <updated>2023-03-13T12:09:44.000Z</updated>
    <category term="AVX" />
    <category term="Data Structure" />
    <category term="String" />
    <category term="Find" />
    <category term="STL" />
    <category term="C++" />
    <category term="Set" />
    <category term="å›¢ä½“ç¨‹åºè®¾è®¡å¤©æ¢¯èµ›" />
    <category term="Sort" />
    <category term="LinkList" />
    <category term="åŒå‘é“¾è¡¨" />
    <category term="Graph" />
    <category term="é‚»æ¥è¡¨" />
    <category term="Vector" />
    <category term="Binary tree" />
    <category term="BFS" />
    <category term="æ¨¡æ‹Ÿ" />
    <category term="é‚»æ¥çŸ©é˜µ" />
    <category term="DFS" />
    <category term="ç»“æ„ä½“" />
    <category term="è´ªå¿ƒ" />
    <category term="Doubleç±»å‹ç›¸ç­‰æ¯”è¾ƒ" />
    <category term="å¹¶æŸ¥é›†" />
    <category term="Map" />
    <category term="Pair" />
    <category term="CMU" />
    <category term="CSAPP" />
    <category term="CUDA" />
    <category term="Linux" />
    <category term="Tensorflow" />
    <category term="Machine Learning" />
    <category term="MPI" />
    <category term="Matrix" />
    <category term="GEMM" />
    <category term="AVX2" />
    <category term="dgemm" />
    <category term="Cache" />
    <category term="Blocking" />
    <category term="Intel" />
    <category term="LeetCode" />
    <category term="åŒæŒ‡é’ˆ" />
    <category term="æ•°ç»„ç¿»è½¬" />
    <category term="å“ˆå¸Œè¡¨" />
    <category term="å‰ç¼€å’Œ" />
    <category term="Mirror" />
    <category term="ç‰›å®¢" />
    <category term="Numactl" />
    <category term="OpenMP" />
    <category term="C/C++" />
    <category term="register" />
    <category term="Slurm" />
    <category term="æ€§èƒ½åˆ†æå·¥å…·" />
    <category term="gcov" />
    <category term="bool" />
    <entry>
        <id>https://xingyuanjie.top/2023/03/13/CMU15-213001/</id>
        <title></title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/03/13/CMU15-213001/"/>
        <content type="html">&lt;h2 id=&#34;2015-CMU-15-213-CSAPP-æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ-Lecture-01-Course-Overview&#34;&gt;&lt;a href=&#34;#2015-CMU-15-213-CSAPP-æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ-Lecture-01-Course-Overview&#34; class=&#34;headerlink&#34; title=&#34;2015 CMU 15-213 CSAPP æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ Lecture 01: Course Overview&#34;&gt;&lt;/a&gt;2015 CMU 15-213 CSAPP æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ Lecture 01: Course Overview&lt;/h2&gt;&lt;h3 id=&#34;ä¾‹å­ä¸€ï¼š&#34;&gt;&lt;a href=&#34;#ä¾‹å­ä¸€ï¼š&#34; class=&#34;headerlink&#34; title=&#34;ä¾‹å­ä¸€ï¼š&#34;&gt;&lt;/a&gt;ä¾‹å­ä¸€ï¼š&lt;/h3&gt;&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;hljs-class&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;struct&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; a[&lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;];&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;double&lt;/span&gt; d;&lt;br&gt;&amp;#125;&lt;span class=&#34;hljs-keyword&#34;&gt;struct_t&lt;/span&gt;;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;double&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;fun&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;volatile&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;struct_t&lt;/span&gt; s;   &lt;span class=&#34;hljs-comment&#34;&gt;//volatileå…³é”®å­—&lt;/span&gt;&lt;br&gt;    s.d = &lt;span class=&#34;hljs-number&#34;&gt;3.14&lt;/span&gt;;&lt;br&gt;    s.a[i] = &lt;span class=&#34;hljs-number&#34;&gt;1073741824&lt;/span&gt;;   &lt;span class=&#34;hljs-comment&#34;&gt;/*Possibly out of bounds*/&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; s.d;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;fun(0)   -&amp;gt;   3.14&lt;br&gt;fun(1)   -&amp;gt;   3.14&lt;br&gt;fun(2)   -&amp;gt;   3.1399998664856&lt;br&gt;fun(3)   -&amp;gt;   2.00000061035156&lt;br&gt;fun(4)   -&amp;gt;   3.14&lt;br&gt;fun(6)   -&amp;gt;   Segmentation falut&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&#34;/2023/03/13/CMU15-213001/image-20230313201550219.png&#34; alt=&#34;image-20230313201550219&#34;&gt;&lt;/p&gt;
&lt;p&gt;ã€å›¾ä¸­å‡è®¾memory lineå¤§å°ä¸º4Bã€‘æ ¹æ®ç»“æ„ä½“å¯çŸ¥æˆ‘ä»¬æ‹¥æœ‰ä¸€ä¸ªintå‹çš„æ•°ç»„å¤§å°ä¸º2ï¼Œä¸€ä¸ªdoubleå‹çš„å˜é‡ã€‚å› ä¸ºintæ•°ç»„çš„å¤§å°ä¸º2ï¼Œå½“fun(0),fun(1)æ—¶ï¼Œs.a[i]è®¿é—®æ˜¯æ­£ç¡®çš„ï¼Œæ‰€ä»¥fun(0),fun(1)è¿”å›æ­£ç¡®å€¼s.dåŠ3.14ã€‚è€Œå½“fun(i):i&amp;gt;1æ—¶ï¼Œå°±ä¼šè¿”å›å¥‡æ€ªçš„ç»“æœï¼Œè¿™æ˜¯å› ä¸ºæ•°ç»„å¤§å°ä¸º2ï¼Œæˆ‘ä»¬è¶Šç•Œäº†ï¼Œå®é™…ä¸Šs.a[i]å†™çš„æ˜¯doubleçš„å†…å­˜ç©ºé—´ï¼Œå¦‚å›¾ä¸­çš„2ï¼Œ3ã€‚è€Œ6ä»£è¡¨ç¨‹åºçŠ¶æ€ï¼Œæˆ‘ä»¬å»ä¿®æ”¹å®ƒå°±ä¼šé€ æˆç¨‹åºçŠ¶æ€çš„æ”¹å˜ï¼Œå¯¼è‡´Segmentation faultã€‚è¿™é‡Œæé†’æˆ‘ä»¬åœ¨å†™Cä»£ç çš„æ—¶å€™ä¸€å®šè¦æ³¨æ„è¾¹ç•Œå¤„ç†ã€‚ã€è¿™é‡Œéœ€è¦æ¸…æ¥šCè¯­è¨€ä¸­å †åŒºå’Œæ ˆåŒºå­˜çš„æ˜¯ä»€ä¹ˆã€‘&lt;/p&gt;
&lt;h3 id=&#34;ä¾‹å­äºŒï¼š&#34;&gt;&lt;a href=&#34;#ä¾‹å­äºŒï¼š&#34; class=&#34;headerlink&#34; title=&#34;ä¾‹å­äºŒï¼š&#34;&gt;&lt;/a&gt;ä¾‹å­äºŒï¼š&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;/2023/03/13/CMU15-213001/image-20230313202535864.png&#34; alt=&#34;image-20230313202535864&#34;&gt;&lt;/p&gt;
&lt;p&gt;ã€srcå’Œdstæ˜¯å¤§å°2048*2048çš„äºŒç»´æ•°ç»„ã€‘ä¸Šé¢çš„å›¾ç‰‡ï¼Œæˆ‘ä»¬å¯ä»¥ååˆ†æ¸…æ¥šä»£ç çš„é€»è¾‘ã€‚ä»–æƒ³æŠŠsrcæ•°ç»„çš„å€¼æ‹·è´åˆ°dstã€‚è€Œå·¦å³ä»£ç çš„åŠŸèƒ½å®Œå…¨ä¸€æ ·ï¼Œä»…ä»…æ˜¯forå¾ªç¯é¡ºåºä¸ä¸€æ ·ï¼Œä½†æ˜¯å´ä¼šæœ‰è¿™ä¹ˆå¤§çš„æ€§èƒ½å·®è·ï¼Œè¿™æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿæ€»çš„æ¥è¯´å°±æ˜¯å·¦è¾¹ä»£ç cacheå‘½ä¸­ç‡é«˜ï¼Œå³è¾¹cacheå‘½ä¸­ç‡çš„ã€‚cacheå‘½ä¸­å’Œcache missçš„é€Ÿåº¦å·®è·å¾ˆå¤§ç”šè‡³æ˜¯æ•°é‡çº§åˆ«çš„å·®è·ï¼Œè¿™æ˜¯å¯¼è‡´ä¸¤è€…å·®è·å·¨å¤§çš„åŸå› ã€‚ã€æ³¨æ„è¿™é‡Œè¿˜å¯ä»¥æ›´ç»†è‡´çš„åˆ†æï¼Œä½†æ˜¯ä¼šæœ‰å¾ˆå¤šå…¶ä»–å› ç´ ä¼šå½±å“ã€‘&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;a href=&#34;#å‚è€ƒèµ„æ–™&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;p&gt;&lt;a href=&#34;http://www.cs.cmu.edu/afs/cs/academic/class/15213-f15/www/index.html&#34;&gt;15-213: Introduction to Computer Systems (cmu.edu)&lt;/a&gt;&lt;/p&gt;
</content>
        <category term="CMU" />
        <category term="CSAPP" />
        <updated>2023-03-13T12:09:44.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/03/13/CMU15-213/</id>
        <title>2015 CMU 15-213 CSAPP æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/03/13/CMU15-213/"/>
        <content type="html">&lt;h1 id=&#34;2015-CMU-15-213-CSAPP-æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ&#34;&gt;&lt;a href=&#34;#2015-CMU-15-213-CSAPP-æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ&#34; class=&#34;headerlink&#34; title=&#34;2015 CMU 15-213 CSAPP æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ&#34;&gt;&lt;/a&gt;2015 CMU 15-213 CSAPP æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;é¡¹ç›®åœ°å€ï¼š&lt;/strong&gt;&lt;a href=&#34;https://github.com/EugeneLiu/translationCSAPP&#34;&gt;EugeneLiu&amp;#x2F;translationCSAPP: ä¸º CSAPP è§†é¢‘è¯¾ç¨‹æä¾›å­—å¹•ï¼Œç¿»è¯‘ PPTï¼ŒLabã€‚ (github.com)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;bilibiliç¿»è¯‘ï¼š&lt;/strong&gt;&lt;a href=&#34;https://www.bilibili.com/video/av31289365/&#34;&gt;ã€ç²¾æ ¡ä¸­è‹±å­—å¹•ã€‘2015 CMU 15-213 CSAPP æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ è¯¾ç¨‹è§†é¢‘_å“”å“©å“”å“©_bilibili&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;CSAPP-3e-å®˜æ–¹é“¾æ¥&#34;&gt;&lt;a href=&#34;#CSAPP-3e-å®˜æ–¹é“¾æ¥&#34; class=&#34;headerlink&#34; title=&#34;CSAPP:3e å®˜æ–¹é“¾æ¥&#34;&gt;&lt;/a&gt;CSAPP:3e å®˜æ–¹é“¾æ¥&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://csapp.cs.cmu.edu/&#34;&gt;è¯¾ç¨‹ä¸»é¡µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.cs.cmu.edu/afs/cs/academic/class/15213-f15/www/schedule.html&#34;&gt;è¯¾ä»¶ä¸‹è½½é“¾æ¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://csapp.cs.cmu.edu/3e/labs.html&#34;&gt;è¯¾ç¨‹ Lab é¡µé¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://scs.hosted.panopto.com/Panopto/Pages/Sessions/List.aspx#folderID=%22b96d90ae-9871-4fae-91e2-b1627b43e25e%22&amp;sortColumn=0&amp;sortAscending=true&#34;&gt;è¯¾ç¨‹è§†é¢‘åœ°å€&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="CMU" />
        <category term="CSAPP" />
        <updated>2023-03-13T10:29:35.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/03/13/ML003/</id>
        <title>çº¿æ€§å›å½’çš„æ¢¯åº¦ä¸‹é™</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/03/13/ML003/"/>
        <content type="html">&lt;h2 id=&#34;çº¿æ€§å›å½’çš„æ¢¯åº¦ä¸‹é™&#34;&gt;&lt;a href=&#34;#çº¿æ€§å›å½’çš„æ¢¯åº¦ä¸‹é™&#34; class=&#34;headerlink&#34; title=&#34;çº¿æ€§å›å½’çš„æ¢¯åº¦ä¸‹é™&#34;&gt;&lt;/a&gt;çº¿æ€§å›å½’çš„æ¢¯åº¦ä¸‹é™&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;/2023/03/13/ML003/image-20230313145346118.png&#34; alt=&#34;image-20230313145346118&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;Goals&#34;&gt;&lt;a href=&#34;#Goals&#34; class=&#34;headerlink&#34; title=&#34;Goals&#34;&gt;&lt;/a&gt;Goals&lt;/h2&gt;&lt;p&gt;åœ¨æœ¬å®éªŒä¸­ï¼Œæ‚¨å°†:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨æ¢¯åº¦ä¸‹é™è‡ªåŠ¨ä¼˜åŒ–wå’Œbçš„è¿‡ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;Tools&#34;&gt;&lt;a href=&#34;#Tools&#34; class=&#34;headerlink&#34; title=&#34;Tools&#34;&gt;&lt;/a&gt;Tools&lt;/h2&gt;&lt;p&gt;åœ¨æœ¬å®éªŒä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;NumPyï¼Œä¸€ä¸ªç”¨äºç§‘å­¦è®¡ç®—çš„æµè¡Œåº“&lt;/li&gt;
&lt;li&gt;Matplotlibï¼Œç”¨äºç»˜åˆ¶æ•°æ®çš„æµè¡Œåº“&lt;/li&gt;
&lt;li&gt;åœ¨æœ¬åœ°ç›®å½•çš„lab_utils.pyæ–‡ä»¶ä¸­ç»˜åˆ¶ä¾‹ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;import&lt;/span&gt; math, copy&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;import&lt;/span&gt; numpy &lt;span class=&#34;hljs-keyword&#34;&gt;as&lt;/span&gt; np&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;import&lt;/span&gt; matplotlib.pyplot &lt;span class=&#34;hljs-keyword&#34;&gt;as&lt;/span&gt; plt&lt;br&gt;plt.style.use(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;./deeplearning.mplstyle&amp;#x27;&lt;/span&gt;)&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;from&lt;/span&gt; lab_utils_uni &lt;span class=&#34;hljs-keyword&#34;&gt;import&lt;/span&gt; plt_house_x, plt_contour_wgrad, plt_divergence, plt_gradients&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;Problem-Statement&#34;&gt;&lt;a href=&#34;#Problem-Statement&#34; class=&#34;headerlink&#34; title=&#34;Problem Statement&#34;&gt;&lt;/a&gt;Problem Statement&lt;/h2&gt;&lt;p&gt;è®©æˆ‘ä»¬ä½¿ç”¨ä¸ä¹‹å‰ç›¸åŒçš„ä¸¤ä¸ªæ•°æ®ç‚¹â€”â€”1000å¹³æ–¹è‹±å°ºçš„æˆ¿å­ä»¥30ä¸‡ç¾å…ƒçš„ä»·æ ¼å‡ºå”®ï¼Œ2000å¹³æ–¹è‹±å°ºçš„æˆ¿å­ä»¥50ä¸‡ç¾å…ƒçš„ä»·æ ¼å‡ºå”®ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Size(1000 sqft)&lt;/th&gt;
&lt;th&gt;Price(1000s of dollars)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;300&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;&lt;span class=&#34;hljs-comment&#34;&gt;#Load our data set&lt;/span&gt;&lt;br&gt;x_train = np.array([&lt;span class=&#34;hljs-number&#34;&gt;1.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;2.0&lt;/span&gt;])	&lt;span class=&#34;hljs-comment&#34;&gt;#features&lt;/span&gt;&lt;br&gt;y_train = np.array([&lt;span class=&#34;hljs-number&#34;&gt;300.0&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;500.0&lt;/span&gt;])	&lt;span class=&#34;hljs-comment&#34;&gt;#target value&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;Compute-Cost&#34;&gt;&lt;a href=&#34;#Compute-Cost&#34; class=&#34;headerlink&#34; title=&#34;Compute_Cost&#34;&gt;&lt;/a&gt;Compute_Cost&lt;/h2&gt;&lt;p&gt;è¿™æ˜¯ä¸Šä¸€ä¸ªå®éªŒå®¤å¼€å‘çš„ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œè¿˜ä¼šç”¨åˆ°å®ƒã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs pyhton&#34;&gt;#Function to calculate the cost&lt;br&gt;def compute_cost(x, y, w, b,):&lt;br&gt;	&lt;br&gt;	m = x.shape[0]&lt;br&gt;	cost = 0&lt;br&gt;	&lt;br&gt;	for i in range(m):&lt;br&gt;		f_wb = w * x[i] + b&lt;br&gt;		cost = cost + (f_wb - y[i])**2&lt;br&gt;	total_cost = 1 / (2 * m)*cost&lt;br&gt;	&lt;br&gt;	return total_cost&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;Gradient-descent-summary&#34;&gt;&lt;a href=&#34;#Gradient-descent-summary&#34; class=&#34;headerlink&#34; title=&#34;Gradient descent summary&#34;&gt;&lt;/a&gt;Gradient descent summary&lt;/h2&gt;&lt;p&gt;åˆ°ç›®å‰ä¸ºæ­¢ï¼Œåœ¨è¿™é—¨è¯¾ç¨‹ä¸­ï¼Œä½ å·²ç»å»ºç«‹äº†ä¸€ä¸ªçº¿æ€§æ¨¡å‹æ¥é¢„æµ‹f_w,b(x^i):&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/13/ML003/image-20230313150848463.png&#34; alt=&#34;image-20230313150848463&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨çº¿æ€§å›å½’ä¸­ï¼Œæ‚¨ä½¿ç”¨è¾“å…¥è®­ç»ƒæ•°æ®æ¥æ‹Ÿåˆå‚æ•°ğ‘¤,ğ‘;æ¥æœ€å°åŒ–æˆ‘ä»¬çš„é¢„æµ‹ä¹‹é—´çš„è¯¯å·®æµ‹é‡f_ğ‘¤ï¼Œğ‘(ğ‘¥^(ğ‘–))å’Œå®é™…æ•°æ®ğ‘¦(ğ‘–)ã€‚è¿™ç§æµ‹é‡æˆä¸ºä»£ä»·ï¼ŒJï¼ˆw,bï¼‰ã€‚åœ¨è®­ç»ƒä¸­ï¼Œä½ å¯ä»¥è¡¡é‡æˆ‘ä»¬æ‰€æœ‰è®­ç»ƒæ ·æœ¬çš„æˆæœ¬ğ‘¥(ğ‘–)ï¼Œğ‘¦(ğ‘–)ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/13/ML003/image-20230313151251919.png&#34; alt=&#34;image-20230313151251919&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¯¾å ‚ä¸Šï¼Œæ¢¯åº¦ä¸‹é™è¢«æè¿°ä¸º:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/13/ML003/image-20230313151329621.png&#34; alt=&#34;image-20230313151329621&#34;&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­å‚æ•°ğ‘¤,ğ‘åŒæ—¶æ›´æ–°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/13/ML003/image-20230313151450500.png&#34; alt=&#34;image-20230313151450500&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡ŒåŒæ—¶æ„å‘³ç€åœ¨æ›´æ–°ä»»ä½•å‚æ•°ä¹‹å‰è®¡ç®—æ‰€æœ‰å‚æ•°çš„åå¯¼æ•°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;Implement-Gradient-Descent&#34;&gt;&lt;a href=&#34;#Implement-Gradient-Descent&#34; class=&#34;headerlink&#34; title=&#34;Implement Gradient Descent&#34;&gt;&lt;/a&gt;Implement Gradient Descent&lt;/h2&gt;&lt;p&gt;ä½ å°†ä¸ºä¸€ä¸ªç‰¹å¾å®ç°æ¢¯åº¦ä¸‹é™ç®—æ³•ã€‚ä½ éœ€è¦ä¸‰ä¸ªå‡½æ•°ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;compute_gradientå®ç°ä¸Šè¿°å¼(4)å’Œ(5)&lt;/li&gt;
&lt;li&gt;ä¸Šé¢çš„compute_costå®ç°æ–¹ç¨‹(2)(ä»£ç æ¥è‡ªä»¥å‰çš„å®éªŒå®¤)&lt;/li&gt;
&lt;li&gt;gradient_descentï¼Œä½¿ç”¨compute_gradientå’Œcompute_cost&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Conventions:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/13/ML003/image-20230313151857315.png&#34; alt=&#34;image-20230313151857315&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;compute-gradient&#34;&gt;&lt;a href=&#34;#compute-gradient&#34; class=&#34;headerlink&#34; title=&#34;compute_gradient&#34;&gt;&lt;/a&gt;compute_gradient&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;/2023/03/13/ML003/image-20230313151947363.png&#34; alt=&#34;image-20230313151947363&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;compute_gradient&lt;/span&gt;(&lt;span class=&#34;hljs-params&#34;&gt;x, y, w, b&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    Computes the gradient for linear regression&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    Args:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    	x (ndarray (m,)): Data, m examples&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    	y (ndarray (m,)): target values&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    	w,b (scalar)	: model parameters&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    Returns&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    	dj_dw (scalar): The gradient of the cost w.r.t. the parameters w&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    	dj_db (scalar): The gradient of the cost w.r.t. the parameter b &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;#Number of training examples&lt;/span&gt;&lt;br&gt;    m = x.shape[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;]&lt;br&gt;    dj_de = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;&lt;br&gt;    dj_db = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; i &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;hljs-built_in&#34;&gt;range&lt;/span&gt;(m):&lt;br&gt;        f_wb = w * x[i] + b;&lt;br&gt;        dj_dw_i = (f_wb - y[i]) * x[i]&lt;br&gt;        dj_db_i = f_wb - y[i]&lt;br&gt;        dj_db += dj_db_i&lt;br&gt;        dj_dw += dj_dw_i&lt;br&gt;    dj_dw = dj_dw / m&lt;br&gt;    dj_db = dj_db / m&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; dj_dw, dj_db&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;è¯¾ç¨‹æè¿°äº†æ¢¯åº¦ä¸‹é™å¦‚ä½•åˆ©ç”¨åœ¨æŸä¸€ç‚¹ä¸Šå¯¹å‚æ•°ä»£ä»·çš„åå¯¼æ•°æ¥æ›´æ–°è¯¥å‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä»¬ä½¿ç”¨compute_gradientå‡½æ•°æ¥æŸ¥æ‰¾å¹¶ç»˜åˆ¶ä»£ä»·å‡½æ•°ç›¸å¯¹äºå…¶ä¸­ä¸€ä¸ªå‚æ•°ğ‘¤0çš„åå¯¼æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/13/ML003/image-20230313154012173.png&#34; alt=&#34;image-20230313154012173&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;plt_gradients(x_train,y_train, compute_cost, compute_gradient)&lt;br&gt;plt.show()&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&#34;/2023/03/13/ML003/image-20230313154210478.png&#34; alt=&#34;image-20230313154210478&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/13/ML003/image-20230313154333429.png&#34; alt=&#34;image-20230313154333429&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;Gradient-Descent&#34;&gt;&lt;a href=&#34;#Gradient-Descent&#34; class=&#34;headerlink&#34; title=&#34;Gradient Descent&#34;&gt;&lt;/a&gt;Gradient Descent&lt;/h2&gt;&lt;p&gt;ç°åœ¨å¯ä»¥è®¡ç®—æ¢¯åº¦ï¼Œä¸Šé¢å…¬å¼(3)ä¸­æè¿°çš„æ¢¯åº¦ä¸‹é™å¯ä»¥åœ¨ä¸‹é¢çš„gradient_descentä¸­å®ç°ã€‚æ³¨é‡Šä¸­æè¿°äº†å®ç°çš„ç»†èŠ‚ã€‚ä¸‹é¢ï¼Œæ‚¨å°†åˆ©ç”¨è¿™ä¸ªå‡½æ•°åœ¨è®­ç»ƒæ•°æ®ä¸Šæ‰¾åˆ°wå’Œbçš„æœ€ä½³å€¼ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;gradient_descent&lt;/span&gt;(&lt;span class=&#34;hljs-params&#34;&gt;x, y, w_in, b_in, alpha, num_iters, cost_function, gradient_function&lt;/span&gt;):&lt;/span&gt; &lt;br&gt;    &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    Performs gradient descent to fit w,b. Updates w,b by taking &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    num_iters gradient steps with learning rate alpha&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    Args:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;      x (ndarray (m,))  : Data, m examples &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;      y (ndarray (m,))  : target values&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;      w_in,b_in (scalar): initial values of model parameters  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;      alpha (float):     Learning rate&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;      num_iters (int):   number of iterations to run gradient descent&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;      cost_function:     function to call to produce cost&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;      gradient_function: function to call to produce gradient&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;      &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    Returns:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;      w (scalar): Updated value of parameter after running gradient descent&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;      b (scalar): Updated value of parameter after running gradient descent&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;      J_history (List): History of cost values&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;      p_history (list): History of parameters [w,b] &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;      &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;br&gt;    &lt;br&gt;    w = copy.deepcopy(w_in) &lt;span class=&#34;hljs-comment&#34;&gt;# avoid modifying global w_in&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;# An array to store cost J and w&amp;#x27;s at each iteration primarily for graphing later&lt;/span&gt;&lt;br&gt;    J_history = []&lt;br&gt;    p_history = []&lt;br&gt;    b = b_in&lt;br&gt;    w = w_in&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; i &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;hljs-built_in&#34;&gt;range&lt;/span&gt;(num_iters):&lt;br&gt;        &lt;span class=&#34;hljs-comment&#34;&gt;# Calculate the gradient and update the parameters using gradient_function&lt;/span&gt;&lt;br&gt;        dj_dw, dj_db = gradient_function(x, y, w , b)     &lt;br&gt;&lt;br&gt;        &lt;span class=&#34;hljs-comment&#34;&gt;# Update Parameters using equation (3) above&lt;/span&gt;&lt;br&gt;        b = b - alpha * dj_db                            &lt;br&gt;        w = w - alpha * dj_dw                            &lt;br&gt;&lt;br&gt;        &lt;span class=&#34;hljs-comment&#34;&gt;# Save cost J at each iteration&lt;/span&gt;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; i&amp;lt;&lt;span class=&#34;hljs-number&#34;&gt;100000&lt;/span&gt;:      &lt;span class=&#34;hljs-comment&#34;&gt;# prevent resource exhaustion &lt;/span&gt;&lt;br&gt;            J_history.append( cost_function(x, y, w , b))&lt;br&gt;            p_history.append([w,b])&lt;br&gt;        &lt;span class=&#34;hljs-comment&#34;&gt;# Print cost every at intervals 10 times or as many iterations if &amp;lt; 10&lt;/span&gt;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; i% math.ceil(num_iters/&lt;span class=&#34;hljs-number&#34;&gt;10&lt;/span&gt;) == &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;:&lt;br&gt;            &lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;Iteration &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;i:&lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt;&amp;#125;&lt;/span&gt;: Cost &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;J_history[-&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;]:&lt;span class=&#34;hljs-number&#34;&gt;0.2&lt;/span&gt;e&amp;#125;&lt;/span&gt; &amp;quot;&lt;/span&gt;,&lt;br&gt;                  &lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;dj_dw: &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;dj_dw: &lt;span class=&#34;hljs-number&#34;&gt;0.3&lt;/span&gt;e&amp;#125;&lt;/span&gt;, dj_db: &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;dj_db: &lt;span class=&#34;hljs-number&#34;&gt;0.3&lt;/span&gt;e&amp;#125;&lt;/span&gt;  &amp;quot;&lt;/span&gt;,&lt;br&gt;                  &lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;w: &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;w: &lt;span class=&#34;hljs-number&#34;&gt;0.3&lt;/span&gt;e&amp;#125;&lt;/span&gt;, b:&lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;b: &lt;span class=&#34;hljs-number&#34;&gt;0.5&lt;/span&gt;e&amp;#125;&lt;/span&gt;&amp;quot;&lt;/span&gt;)&lt;br&gt; &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; w, b, J_history, p_history &lt;span class=&#34;hljs-comment&#34;&gt;#return w and J,w history for graphing&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;Iteration    &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;: Cost &lt;span class=&#34;hljs-number&#34;&gt;7.93e+04&lt;/span&gt;  dj_dw: -&lt;span class=&#34;hljs-number&#34;&gt;6.500e+02&lt;/span&gt;, dj_db: -&lt;span class=&#34;hljs-number&#34;&gt;4.000e+02&lt;/span&gt;   w:  &lt;span class=&#34;hljs-number&#34;&gt;6.500e+00&lt;/span&gt;, b: &lt;span class=&#34;hljs-number&#34;&gt;4.00000e+00&lt;/span&gt;&lt;br&gt;Iteration &lt;span class=&#34;hljs-number&#34;&gt;1000&lt;/span&gt;: Cost &lt;span class=&#34;hljs-number&#34;&gt;3.41e+00&lt;/span&gt;  dj_dw: -&lt;span class=&#34;hljs-number&#34;&gt;3.712e-01&lt;/span&gt;, dj_db:  &lt;span class=&#34;hljs-number&#34;&gt;6.007e-01&lt;/span&gt;   w:  &lt;span class=&#34;hljs-number&#34;&gt;1.949e+02&lt;/span&gt;, b: &lt;span class=&#34;hljs-number&#34;&gt;1.08228e+02&lt;/span&gt;&lt;br&gt;Iteration &lt;span class=&#34;hljs-number&#34;&gt;2000&lt;/span&gt;: Cost &lt;span class=&#34;hljs-number&#34;&gt;7.93e-01&lt;/span&gt;  dj_dw: -&lt;span class=&#34;hljs-number&#34;&gt;1.789e-01&lt;/span&gt;, dj_db:  &lt;span class=&#34;hljs-number&#34;&gt;2.895e-01&lt;/span&gt;   w:  &lt;span class=&#34;hljs-number&#34;&gt;1.975e+02&lt;/span&gt;, b: &lt;span class=&#34;hljs-number&#34;&gt;1.03966e+02&lt;/span&gt;&lt;br&gt;Iteration &lt;span class=&#34;hljs-number&#34;&gt;3000&lt;/span&gt;: Cost &lt;span class=&#34;hljs-number&#34;&gt;1.84e-01&lt;/span&gt;  dj_dw: -&lt;span class=&#34;hljs-number&#34;&gt;8.625e-02&lt;/span&gt;, dj_db:  &lt;span class=&#34;hljs-number&#34;&gt;1.396e-01&lt;/span&gt;   w:  &lt;span class=&#34;hljs-number&#34;&gt;1.988e+02&lt;/span&gt;, b: &lt;span class=&#34;hljs-number&#34;&gt;1.01912e+02&lt;/span&gt;&lt;br&gt;Iteration &lt;span class=&#34;hljs-number&#34;&gt;4000&lt;/span&gt;: Cost &lt;span class=&#34;hljs-number&#34;&gt;4.28e-02&lt;/span&gt;  dj_dw: -&lt;span class=&#34;hljs-number&#34;&gt;4.158e-02&lt;/span&gt;, dj_db:  &lt;span class=&#34;hljs-number&#34;&gt;6.727e-02&lt;/span&gt;   w:  &lt;span class=&#34;hljs-number&#34;&gt;1.994e+02&lt;/span&gt;, b: &lt;span class=&#34;hljs-number&#34;&gt;1.00922e+02&lt;/span&gt;&lt;br&gt;Iteration &lt;span class=&#34;hljs-number&#34;&gt;5000&lt;/span&gt;: Cost &lt;span class=&#34;hljs-number&#34;&gt;9.95e-03&lt;/span&gt;  dj_dw: -&lt;span class=&#34;hljs-number&#34;&gt;2.004e-02&lt;/span&gt;, dj_db:  &lt;span class=&#34;hljs-number&#34;&gt;3.243e-02&lt;/span&gt;   w:  &lt;span class=&#34;hljs-number&#34;&gt;1.997e+02&lt;/span&gt;, b: &lt;span class=&#34;hljs-number&#34;&gt;1.00444e+02&lt;/span&gt;&lt;br&gt;Iteration &lt;span class=&#34;hljs-number&#34;&gt;6000&lt;/span&gt;: Cost &lt;span class=&#34;hljs-number&#34;&gt;2.31e-03&lt;/span&gt;  dj_dw: -&lt;span class=&#34;hljs-number&#34;&gt;9.660e-03&lt;/span&gt;, dj_db:  &lt;span class=&#34;hljs-number&#34;&gt;1.563e-02&lt;/span&gt;   w:  &lt;span class=&#34;hljs-number&#34;&gt;1.999e+02&lt;/span&gt;, b: &lt;span class=&#34;hljs-number&#34;&gt;1.00214e+02&lt;/span&gt;&lt;br&gt;Iteration &lt;span class=&#34;hljs-number&#34;&gt;7000&lt;/span&gt;: Cost &lt;span class=&#34;hljs-number&#34;&gt;5.37e-04&lt;/span&gt;  dj_dw: -&lt;span class=&#34;hljs-number&#34;&gt;4.657e-03&lt;/span&gt;, dj_db:  &lt;span class=&#34;hljs-number&#34;&gt;7.535e-03&lt;/span&gt;   w:  &lt;span class=&#34;hljs-number&#34;&gt;1.999e+02&lt;/span&gt;, b: &lt;span class=&#34;hljs-number&#34;&gt;1.00103e+02&lt;/span&gt;&lt;br&gt;Iteration &lt;span class=&#34;hljs-number&#34;&gt;8000&lt;/span&gt;: Cost &lt;span class=&#34;hljs-number&#34;&gt;1.25e-04&lt;/span&gt;  dj_dw: -&lt;span class=&#34;hljs-number&#34;&gt;2.245e-03&lt;/span&gt;, dj_db:  &lt;span class=&#34;hljs-number&#34;&gt;3.632e-03&lt;/span&gt;   w:  &lt;span class=&#34;hljs-number&#34;&gt;2.000e+02&lt;/span&gt;, b: &lt;span class=&#34;hljs-number&#34;&gt;1.00050e+02&lt;/span&gt;&lt;br&gt;Iteration &lt;span class=&#34;hljs-number&#34;&gt;9000&lt;/span&gt;: Cost &lt;span class=&#34;hljs-number&#34;&gt;2.90e-05&lt;/span&gt;  dj_dw: -&lt;span class=&#34;hljs-number&#34;&gt;1.082e-03&lt;/span&gt;, dj_db:  &lt;span class=&#34;hljs-number&#34;&gt;1.751e-03&lt;/span&gt;   w:  &lt;span class=&#34;hljs-number&#34;&gt;2.000e+02&lt;/span&gt;, b: &lt;span class=&#34;hljs-number&#34;&gt;1.00024e+02&lt;/span&gt;&lt;br&gt;(w,b) found by gradient descent: (&lt;span class=&#34;hljs-number&#34;&gt;199.9929&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;100.0116&lt;/span&gt;)&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;èŠ±ç‚¹æ—¶é—´ï¼Œæ³¨æ„ä¸Šé¢æ‰“å°çš„æ¢¯åº¦ä¸‹é™è¿‡ç¨‹çš„ä¸€äº›ç‰¹å¾ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ­£å¦‚è¯¾å ‚ä¸Šçš„å¹»ç¯ç‰‡æ‰€æè¿°çš„ï¼Œæˆæœ¬å¼€å§‹å¾ˆå¤§ï¼Œç„¶åè¿…é€Ÿä¸‹é™ã€‚&lt;/li&gt;
&lt;li&gt;åå¯¼æ•°dj_dwå’Œdj_dbä¹Ÿå˜å°äº†ï¼Œèµ·åˆå¾ˆå¿«ï¼Œç„¶åå˜æ…¢ã€‚æ­£å¦‚è¯¾å ‚ä¸Šçš„å›¾è¡¨æ‰€ç¤ºï¼Œéšç€è¿‡ç¨‹æ¥è¿‘â€œç¢—åº•â€ï¼Œç”±äºåœ¨è¿™ä¸€ç‚¹ä¸Šçš„å¯¼æ•°å€¼è¾ƒå°ï¼Œè¿›ç¨‹ä¼šå˜æ…¢ã€‚&lt;/li&gt;
&lt;li&gt;å°½ç®¡å­¦ä¹ ç‡alphaä¿æŒä¸å˜ï¼Œä½†è¿›ç¨‹ä¼šå‡æ…¢&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/13/ML003/image-20230313155614815.png&#34; alt=&#34;image-20230313155614815&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;Cost-versus-iterations-of-gradient-descent&#34;&gt;&lt;a href=&#34;#Cost-versus-iterations-of-gradient-descent&#34; class=&#34;headerlink&#34; title=&#34;Cost versus iterations of gradient descent&#34;&gt;&lt;/a&gt;Cost versus iterations of gradient descent&lt;/h2&gt;&lt;p&gt;æˆæœ¬ä¸è¿­ä»£çš„å…³ç³»å›¾æ˜¯è¡¡é‡æ¢¯åº¦ä¸‹é™æŠ€æœ¯è¿›å±•çš„æœ‰ç”¨æ–¹æ³•ã€‚åœ¨æˆåŠŸçš„è¿è¡Œä¸­ï¼Œæˆæœ¬æ€»æ˜¯ä¼šé™ä½ã€‚æœ€åˆæˆæœ¬çš„å˜åŒ–å¦‚æ­¤ä¹‹å¿«ï¼Œç”¨ä¸åŒäºæœ€ç»ˆä¸‹é™çš„å°ºåº¦æ¥æç»˜æœ€åˆçš„ä¸Šå‡æ˜¯æœ‰ç”¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¸‹é¢çš„å›¾è¡¨ä¸­ï¼Œè¯·æ³¨æ„è½´ä¸Šçš„æˆæœ¬è§„æ¨¡å’Œè¿­ä»£æ­¥éª¤ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# plot cost versus iteration  &lt;/span&gt;&lt;br&gt;fig, (ax1, ax2) = plt.subplots(&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;, constrained_layout=&lt;span class=&#34;hljs-literal&#34;&gt;True&lt;/span&gt;, figsize=(&lt;span class=&#34;hljs-number&#34;&gt;12&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt;))&lt;br&gt;ax1.plot(J_hist[:&lt;span class=&#34;hljs-number&#34;&gt;100&lt;/span&gt;])&lt;br&gt;ax2.plot(&lt;span class=&#34;hljs-number&#34;&gt;1000&lt;/span&gt; + np.arange(&lt;span class=&#34;hljs-built_in&#34;&gt;len&lt;/span&gt;(J_hist[&lt;span class=&#34;hljs-number&#34;&gt;1000&lt;/span&gt;:])), J_hist[&lt;span class=&#34;hljs-number&#34;&gt;1000&lt;/span&gt;:])&lt;br&gt;ax1.set_title(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;Cost vs. iteration(start)&amp;quot;&lt;/span&gt;);  ax2.set_title(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;Cost vs. iteration (end)&amp;quot;&lt;/span&gt;)&lt;br&gt;ax1.set_ylabel(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;Cost&amp;#x27;&lt;/span&gt;)            ;  ax2.set_ylabel(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;Cost&amp;#x27;&lt;/span&gt;) &lt;br&gt;ax1.set_xlabel(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;iteration step&amp;#x27;&lt;/span&gt;)  ;  ax2.set_xlabel(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;iteration step&amp;#x27;&lt;/span&gt;) &lt;br&gt;plt.show()&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&#34;/2023/03/13/ML003/image-20230313160112122.png&#34; alt=&#34;image-20230313160112122&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;Predictions&#34;&gt;&lt;a href=&#34;#Predictions&#34; class=&#34;headerlink&#34; title=&#34;Predictions&#34;&gt;&lt;/a&gt;Predictions&lt;/h2&gt;&lt;p&gt;ç°åœ¨æ‚¨å·²ç»å‘ç°äº†å‚æ•°ğ‘¤çš„æœ€ä½³å€¼å’Œğ‘ï¼Œæ‚¨ç°åœ¨å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å‹æ ¹æ®æˆ‘ä»¬å­¦ä¹ çš„å‚æ•°æ¥é¢„æµ‹æˆ¿å±‹ä»·å€¼ã€‚æ­£å¦‚é¢„æœŸçš„é‚£æ ·ï¼Œåœ¨ç›¸åŒçš„ä½æˆ¿æ¡ä»¶ä¸‹ï¼Œé¢„æµ‹å€¼ä¸è®­ç»ƒå€¼å‡ ä¹ç›¸åŒã€‚è¿›ä¸€æ­¥ï¼Œä¸åœ¨é¢„æµ‹ä¸­çš„å€¼ä¸æœŸæœ›å€¼ä¸€è‡´ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;1000 sqft house prediction &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;w_final*&lt;span class=&#34;hljs-number&#34;&gt;1.0&lt;/span&gt; + b_final:&lt;span class=&#34;hljs-number&#34;&gt;0.1&lt;/span&gt;f&amp;#125;&lt;/span&gt; Thousand dollars&amp;quot;&lt;/span&gt;)&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;1200 sqft house prediction &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;w_final*&lt;span class=&#34;hljs-number&#34;&gt;1.2&lt;/span&gt; + b_final:&lt;span class=&#34;hljs-number&#34;&gt;0.1&lt;/span&gt;f&amp;#125;&lt;/span&gt; Thousand dollars&amp;quot;&lt;/span&gt;)&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;2000 sqft house prediction &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;w_final*&lt;span class=&#34;hljs-number&#34;&gt;2.0&lt;/span&gt; + b_final:&lt;span class=&#34;hljs-number&#34;&gt;0.1&lt;/span&gt;f&amp;#125;&lt;/span&gt; Thousand dollars&amp;quot;&lt;/span&gt;)&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;&lt;span class=&#34;hljs-number&#34;&gt;1000&lt;/span&gt; sqft house prediction &lt;span class=&#34;hljs-number&#34;&gt;300.0&lt;/span&gt; Thousand dollars&lt;br&gt;&lt;span class=&#34;hljs-number&#34;&gt;1200&lt;/span&gt; sqft house prediction &lt;span class=&#34;hljs-number&#34;&gt;340.0&lt;/span&gt; Thousand dollars&lt;br&gt;&lt;span class=&#34;hljs-number&#34;&gt;2000&lt;/span&gt; sqft house prediction &lt;span class=&#34;hljs-number&#34;&gt;500.0&lt;/span&gt; Thousand dollars&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;Plotting&#34;&gt;&lt;a href=&#34;#Plotting&#34; class=&#34;headerlink&#34; title=&#34;Plotting&#34;&gt;&lt;/a&gt;Plotting&lt;/h2&gt;&lt;p&gt;æ‚¨å¯ä»¥é€šè¿‡åœ¨ä»£ä»·(w,b)çš„ç­‰é«˜çº¿å›¾ä¸Šç»˜åˆ¶è¿­ä»£çš„ä»£ä»·æ¥æ˜¾ç¤ºæ¢¯åº¦ä¸‹é™åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­çš„è¿›åº¦ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;fig, ax = plt.subplots(&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;, figsize=(&lt;span class=&#34;hljs-number&#34;&gt;12&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;6&lt;/span&gt;))&lt;br&gt;plt_contour_wgrad(x_train, y_train, p_hist, ax)&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&#34;/2023/03/13/ML003/image-20230313160446994.png&#34; alt=&#34;image-20230313160446994&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢çš„ç­‰é«˜çº¿å›¾æ˜¾ç¤ºäº†ğ‘¤å’Œğ‘èŒƒå›´å†…çš„ğ‘ğ‘œğ‘ ğ‘¡(ğ‘¤ï¼Œğ‘)ã€‚æˆæœ¬æ°´å¹³ç”±åœ†ç¯è¡¨ç¤ºã€‚ç”¨çº¢è‰²ç®­å¤´è¦†ç›–çš„æ˜¯æ¢¯åº¦ä¸‹é™çš„è·¯å¾„ã€‚è¿™é‡Œæœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„äº‹æƒ…:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿™æ¡è·¯å¾„æœç€å®ƒçš„ç›®æ ‡ç¨³æ­¥(å•è°ƒ)å‰è¿›ã€‚&lt;/li&gt;
&lt;li&gt;æœ€åˆçš„æ­¥éª¤æ¯”æ¥è¿‘ç›®æ ‡çš„æ­¥éª¤è¦å¤§å¾—å¤šã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ”¾å¤§ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ¢¯åº¦ä¸‹é™çš„æœ€åæ­¥éª¤ã€‚æ³¨æ„ï¼Œé˜¶æ¢¯ä¹‹é—´çš„è·ç¦»éšç€æ¢¯åº¦è¶‹è¿‘äºé›¶è€Œç¼©å°ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;fig, ax = plt.subplots(&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;, figsize=(&lt;span class=&#34;hljs-number&#34;&gt;12&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt;))&lt;br&gt;plt_contour_wgrad(x_train, y_train, p_hist, ax, w_range=[&lt;span class=&#34;hljs-number&#34;&gt;180&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;220&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;0.5&lt;/span&gt;], b_range=[&lt;span class=&#34;hljs-number&#34;&gt;80&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;120&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;0.5&lt;/span&gt;],&lt;br&gt;            contours=[&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;5&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;10&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;20&lt;/span&gt;],resolution=&lt;span class=&#34;hljs-number&#34;&gt;0.5&lt;/span&gt;)&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&#34;/2023/03/13/ML003/image-20230313160944244.png&#34; alt=&#34;image-20230313160944244&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;Increased-Learning-Rate&#34;&gt;&lt;a href=&#34;#Increased-Learning-Rate&#34; class=&#34;headerlink&#34; title=&#34;Increased Learning Rate&#34;&gt;&lt;/a&gt;Increased Learning Rate&lt;/h2&gt;&lt;p&gt;åœ¨è¿™èŠ‚è¯¾ä¸­ï¼Œåœ¨å¼(3)ä¸­æœ‰ä¸€ä¸ªå…³äºå­¦ä¹ ç‡çš„åˆé€‚å€¼ğ›¼çš„è®¨è®ºã€‚ğ›¼è¶Šå¤§ï¼Œæ¢¯åº¦ä¸‹é™æ”¶æ•›åˆ°è§£çš„é€Ÿåº¦å°±è¶Šå¿«ã€‚ä½†æ˜¯ï¼Œå¦‚æœå®ƒå¤ªå¤§ï¼Œæ¢¯åº¦ä¸‹é™å°±ä¼šå‘æ•£ã€‚ä¸Šé¢æœ‰ä¸€ä¸ªå¾ˆå¥½æ”¶æ•›çš„è§£çš„ä¾‹å­ã€‚è®©æˆ‘ä»¬è¯•ç€å¢åŠ ğ›¼çš„å€¼çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆ:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/13/ML003/image-20230313161516209.png&#34; alt=&#34;image-20230313161516209&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# initialize parameters&lt;/span&gt;&lt;br&gt;w_init = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;&lt;br&gt;b_init = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# set alpha to a large value&lt;/span&gt;&lt;br&gt;iterations = &lt;span class=&#34;hljs-number&#34;&gt;10&lt;/span&gt;&lt;br&gt;tmp_alpha = &lt;span class=&#34;hljs-number&#34;&gt;8.0e-1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# run gradient descent&lt;/span&gt;&lt;br&gt;w_final, b_final, J_hist, p_hist = gradient_descent(x_train ,y_train, w_init, b_init, tmp_alpha, &lt;br&gt;                                                    iterations, compute_cost, compute_gradient)&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs pyhton&#34;&gt;Iteration    0: Cost 2.58e+05  dj_dw: -6.500e+02, dj_db: -4.000e+02   w:  5.200e+02, b: 3.20000e+02&lt;br&gt;Iteration    1: Cost 7.82e+05  dj_dw:  1.130e+03, dj_db:  7.000e+02   w: -3.840e+02, b:-2.40000e+02&lt;br&gt;Iteration    2: Cost 2.37e+06  dj_dw: -1.970e+03, dj_db: -1.216e+03   w:  1.192e+03, b: 7.32800e+02&lt;br&gt;Iteration    3: Cost 7.19e+06  dj_dw:  3.429e+03, dj_db:  2.121e+03   w: -1.551e+03, b:-9.63840e+02&lt;br&gt;Iteration    4: Cost 2.18e+07  dj_dw: -5.974e+03, dj_db: -3.691e+03   w:  3.228e+03, b: 1.98886e+03&lt;br&gt;Iteration    5: Cost 6.62e+07  dj_dw:  1.040e+04, dj_db:  6.431e+03   w: -5.095e+03, b:-3.15579e+03&lt;br&gt;Iteration    6: Cost 2.01e+08  dj_dw: -1.812e+04, dj_db: -1.120e+04   w:  9.402e+03, b: 5.80237e+03&lt;br&gt;Iteration    7: Cost 6.09e+08  dj_dw:  3.156e+04, dj_db:  1.950e+04   w: -1.584e+04, b:-9.80139e+03&lt;br&gt;Iteration    8: Cost 1.85e+09  dj_dw: -5.496e+04, dj_db: -3.397e+04   w:  2.813e+04, b: 1.73730e+04&lt;br&gt;Iteration    9: Cost 5.60e+09  dj_dw:  9.572e+04, dj_db:  5.916e+04   w: -4.845e+04, b:-2.99567e+04&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&#34;/2023/03/13/ML003/image-20230313161636772.png&#34; alt=&#34;image-20230313161636772&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;plt_divergence(p_hist, J_hist,x_train, y_train)&lt;br&gt;plt.show()&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&#34;/2023/03/13/ML003/image-20230313161959222.png&#34; alt=&#34;image-20230313161959222&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾ä¸­ï¼Œå·¦å›¾æ˜¾ç¤ºäº†ğ‘¤åœ¨æ¢¯åº¦ä¸‹é™çš„å‰å‡ ä¸ªæ­¥éª¤ä¸­çš„è¿›å±•ã€‚ğ‘¤ä»æ­£æŒ¯è¡åˆ°è´Ÿï¼Œæˆæœ¬è¿…é€Ÿå¢é•¿ã€‚æ¢¯åº¦ä¸‹é™åŒæ—¶åœ¨ğ‘¤å’Œğ‘ä¸Šè¿è¡Œï¼Œæ‰€ä»¥éœ€è¦å³è¾¹çš„3då›¾æ‰èƒ½çœ‹åˆ°å®Œæ•´çš„å›¾ç‰‡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;Congratulations&#34;&gt;&lt;a href=&#34;#Congratulations&#34; class=&#34;headerlink&#34; title=&#34;Congratulations!&#34;&gt;&lt;/a&gt;Congratulations!&lt;/h2&gt;&lt;p&gt;åœ¨è¿™ä¸ªå®éªŒå®¤é‡Œï¼Œä½ :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ·±å…¥ç ”ç©¶å•ä¸ªå˜é‡çš„æ¢¯åº¦ä¸‹é™çš„ç»†èŠ‚ã€‚&lt;/li&gt;
&lt;li&gt;å¼€å‘äº†ä¸€ä¸ªè®¡ç®—æ¢¯åº¦çš„ç¨‹åº&lt;/li&gt;
&lt;li&gt;çœ‹çœ‹æ¢¯åº¦æ˜¯ä»€ä¹ˆ&lt;/li&gt;
&lt;li&gt;å®Œæˆä¸€ä¸ªæ¢¯åº¦ä¸‹é™ç¨‹åº&lt;/li&gt;
&lt;li&gt;åˆ©ç”¨æ¢¯åº¦ä¸‹é™æ³•å¯»æ‰¾å‚æ•°&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥äº†å­¦ä¹ ç‡å¤§å°çš„å½±å“&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;a href=&#34;#å‚è€ƒèµ„æ–™&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;p&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1Pa411X76s?p=5&amp;amp;vd_source=3ae32e36058f58c5b85935fca9b77797&#34;&gt;https://www.bilibili.com/video/BV1Pa411X76s?p=5&amp;amp;vd_source=3ae32e36058f58c5b85935fca9b77797&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/kaieye/2022-Machine-Learning-Specialization&#34;&gt;kaieye&amp;#x2F;2022-Machine-Learning-Specialization (github.com)&lt;/a&gt;&lt;/p&gt;
</content>
        <category term="Tensorflow" />
        <category term="Machine Learning" />
        <updated>2023-03-13T06:37:12.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/03/12/ML002/</id>
        <title>ä»£ä»·å‡½æ•°</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/03/12/ML002/"/>
        <content type="html">&lt;h2 id=&#34;ä»£ä»·å‡½æ•°&#34;&gt;&lt;a href=&#34;#ä»£ä»·å‡½æ•°&#34; class=&#34;headerlink&#34; title=&#34;ä»£ä»·å‡½æ•°&#34;&gt;&lt;/a&gt;ä»£ä»·å‡½æ•°&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;/2023/03/12/ML002/image-20230312164306128.png&#34; alt=&#34;image-20230312164306128&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç›®æ ‡&#34;&gt;&lt;a href=&#34;#ç›®æ ‡&#34; class=&#34;headerlink&#34; title=&#34;ç›®æ ‡&#34;&gt;&lt;/a&gt;ç›®æ ‡&lt;/h2&gt;&lt;p&gt;åœ¨æœ¬å®éªŒä¸­ï¼Œä½ å°†:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½ å°†å®ç°å’Œæ¢ç´¢æˆæœ¬å‡½æ•°çš„çº¿æ€§å›å½’ä¼´éšä¸€ä¸ªå˜é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å·¥å…·&#34;&gt;&lt;a href=&#34;#å·¥å…·&#34; class=&#34;headerlink&#34; title=&#34;å·¥å…·&#34;&gt;&lt;/a&gt;å·¥å…·&lt;/h2&gt;&lt;p&gt;åœ¨æœ¬å®éªŒå®¤ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;NumPyï¼Œä¸€ä¸ªç”¨äºç§‘å­¦è®¡ç®—çš„æµè¡Œåº“&lt;/li&gt;
&lt;li&gt;Matplotlibï¼Œç”¨äºç»˜åˆ¶æ•°æ®çš„æµè¡Œåº“&lt;/li&gt;
&lt;li&gt;æœ¬åœ°ç›®å½•çš„lab_utils_uni.pyæ–‡ä»¶ä¸­çš„æœ¬åœ°ç»˜å›¾ä¾‹ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;import&lt;/span&gt; nunpy &lt;span class=&#34;hljs-keyword&#34;&gt;as&lt;/span&gt; np&lt;br&gt;%matplotlib widget&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;import&lt;/span&gt; matplotlib.pyplot &lt;span class=&#34;hljs-keyword&#34;&gt;as&lt;/span&gt; plt&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;from&lt;/span&gt; lab_utils_uni &lt;span class=&#34;hljs-keyword&#34;&gt;import&lt;/span&gt; plt_intuition, plt_stationary, plt_updata_onclick, soup_bowl&lt;br&gt;plt.style.use(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;./deeplearning.mplstyle&amp;#x27;&lt;/span&gt;)&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;é—®é¢˜æ„å¢ƒ&#34;&gt;&lt;a href=&#34;#é—®é¢˜æ„å¢ƒ&#34; class=&#34;headerlink&#34; title=&#34;é—®é¢˜æ„å¢ƒ&#34;&gt;&lt;/a&gt;é—®é¢˜æ„å¢ƒ&lt;/h2&gt;&lt;p&gt;ä½ æƒ³è¦ä¸€ä¸ªæ¨¡å‹ï¼Œå®ƒå¯ä»¥æ ¹æ®æˆ¿å­çš„å¤§å°é¢„æµ‹æˆ¿ä»·ã€‚è®©æˆ‘ä»¬ä½¿ç”¨ä¸ä¸Šä¸€ä¸ªå®éªŒå®¤ä¹‹å‰ç›¸åŒçš„ä¸¤ä¸ªæ•°æ®ç‚¹â€”â€”ä¸€ä¸ª1000å¹³æ–¹è‹±å°ºçš„æˆ¿å­å–äº†30ä¸‡ç¾å…ƒï¼Œä¸€ä¸ª2000å¹³æ–¹è‹±å°ºçš„æˆ¿å­å–äº†50ä¸‡ç¾å…ƒã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Size(1000 sqft)&lt;/th&gt;
&lt;th&gt;Price(1000s of dollars)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;300&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;x_train = np.array([&lt;span class=&#34;hljs-number&#34;&gt;1.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;2.0&lt;/span&gt;])   &lt;span class=&#34;hljs-comment&#34;&gt;#(size in 1000 square feet)&lt;/span&gt;&lt;br&gt;y_train = np.zrray([&lt;span class=&#34;hljs-number&#34;&gt;300.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;500.0&lt;/span&gt;])	&lt;span class=&#34;hljs-comment&#34;&gt;#(price in 1000s of dollars)&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;è®¡ç®—ä»£ä»·&#34;&gt;&lt;a href=&#34;#è®¡ç®—ä»£ä»·&#34; class=&#34;headerlink&#34; title=&#34;è®¡ç®—ä»£ä»·&#34;&gt;&lt;/a&gt;è®¡ç®—ä»£ä»·&lt;/h2&gt;&lt;p&gt;è¿™ä¸ªä½œä¸šä¸­çš„æœ¯è¯­â€œæˆæœ¬â€å¯èƒ½ä¼šè®©äººæœ‰ç‚¹å›°æƒ‘ï¼Œå› ä¸ºæ•°æ®æ˜¯ä½æˆ¿æˆæœ¬ã€‚åœ¨è¿™é‡Œï¼Œæˆæœ¬æ˜¯è¡¡é‡æˆ‘ä»¬çš„æ¨¡å‹é¢„æµ‹æˆ¿å­ç›®æ ‡ä»·æ ¼çš„å¥½åã€‚â€œä»·æ ¼â€ä¸€è¯æŒ‡çš„æ˜¯ä½æˆ¿æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;å«ä¸€ä¸ªå˜é‡çš„æˆæœ¬æ–¹ç¨‹ä¸º:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/12/ML002/image-20230312165434160.png&#34; alt=&#34;image-20230312165434160&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿™é‡Œ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/12/ML002/image-20230312165503613.png&#34; alt=&#34;image-20230312165503613&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;f_w,b(x^i)æ˜¯æˆ‘ä»¬ä½¿ç”¨å‚æ•°w,bæ¥é¢„æµ‹ä¾‹å­iã€‚&lt;/li&gt;
&lt;li&gt;ï¼ˆf_w,b(x^i) - y^iï¼‰^2  æ˜¯ç›®æ ‡å€¼ä¸é¢„æµ‹å€¼ä¹‹é—´çš„å·®çš„å¹³æ–¹&lt;/li&gt;
&lt;li&gt;è¿™äº›å·®å¼‚è¢«åŠ åœ¨æ‰€æœ‰mä¾‹å­ä¸Šï¼Œå†é™¤ä»¥2mï¼Œå¾—åˆ°ä»£ä»·å‡½æ•° &lt;strong&gt;Jï¼ˆw,bï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ³¨æ„ï¼Œåœ¨è®²åº§ä¸­ï¼Œæ€»å’Œçš„èŒƒå›´é€šå¸¸æ˜¯ä»1åˆ°mï¼Œè€Œä»£ç å°†ä»0åˆ°m-1ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢çš„ä»£ç é€šè¿‡éå†æ¯ä¸ªç¤ºä¾‹æ¥è®¡ç®—æˆæœ¬ã€‚åœ¨æ¯ä¸ªå¾ªç¯ä¸­:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;f_wbï¼Œè®¡ç®—ä¸€ä¸ªé¢„æµ‹&lt;/li&gt;
&lt;li&gt;ç›®æ ‡å’Œé¢„æµ‹ä¹‹é—´çš„å·®å€¼è¢«è®¡ç®—å’Œå¹³æ–¹ã€‚&lt;/li&gt;
&lt;li&gt;è¿™è¢«åŠ åˆ°æ€»æˆæœ¬ä¸­ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;compute_cost&lt;/span&gt;(&lt;span class=&#34;hljs-params&#34;&gt;x, y, w, b&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    Computes the cost function for linear regression&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    Args:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    	x (ndarray (m,)):Data, m examples&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    	y (ndarray (m,)):target values&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    	w,b (scalar)	:model parameters&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    Returns&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    	total_cost (float):The cost of using w,b as the parameters for linear regression to fit the data points in x and y&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;#number of training examples&lt;/span&gt;&lt;br&gt;    m = x.shape[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;]&lt;br&gt;    &lt;br&gt;    cost_sum = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; i &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;hljs-built_in&#34;&gt;range&lt;/span&gt;(m):&lt;br&gt;        f_wb = w * x[i] + b&lt;br&gt;        cost = (f_wb - y[i])**&lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;&lt;br&gt;        cost_sum = cost_sum + cost&lt;br&gt;    total_cost = (&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;/(&lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;*m)) * cost_sum&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; total_cost&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;Cost-Function-Intuition&#34;&gt;&lt;a href=&#34;#Cost-Function-Intuition&#34; class=&#34;headerlink&#34; title=&#34;Cost Function Intuition&#34;&gt;&lt;/a&gt;Cost Function Intuition&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;/2023/03/12/ML002/image-20230312172325465.png&#34; alt=&#34;image-20230312172325465&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;plt_intuition(x_train, y_train)&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&#34;/2023/03/12/ML002/image-20230313144221393.png&#34; alt=&#34;image-20230313144221393&#34;&gt;&lt;/p&gt;
&lt;p&gt;æƒ…èŠ‚ä¸­æœ‰å‡ ç‚¹å€¼å¾—ä¸€æã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“ğ‘¤&amp;#x3D;200æ—¶ï¼Œæˆæœ¬æœ€å°åŒ–ï¼Œè¿™ä¸ä¹‹å‰å®éªŒå®¤çš„ç»“æœç›¸å»åˆã€‚&lt;/li&gt;
&lt;li&gt;å› ä¸ºåœ¨æˆæœ¬æ–¹ç¨‹ä¸­ï¼Œç›®æ ‡å’Œé¢„æµ‹ä¹‹é—´çš„å·®å¼‚æ˜¯å¹³æ–¹ï¼Œå½“ğ‘¤æ—¶ï¼Œæˆæœ¬è¿…é€Ÿå¢åŠ ä¸æ˜¯å¤ªå¤§å°±æ˜¯å¤ªå°ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨é€šè¿‡æœ€å°åŒ–æˆæœ¬é€‰æ‹©çš„wå’Œbï¼Œå¯ä»¥å¾—åˆ°ä¸æ•°æ®å®Œç¾åŒ¹é…çš„ç›´çº¿ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;Cost-Function-Visualiztion-3D&#34;&gt;&lt;a href=&#34;#Cost-Function-Visualiztion-3D&#34; class=&#34;headerlink&#34; title=&#34;Cost Function Visualiztion-3D&#34;&gt;&lt;/a&gt;Cost Function Visualiztion-3D&lt;/h2&gt;&lt;p&gt;ä½ å¯ä»¥é€šè¿‡ä¸‰ç»´ç»˜å›¾æˆ–ç­‰é«˜çº¿å›¾çœ‹åˆ°æˆæœ¬æ˜¯å¦‚ä½•éšwå’Œbå˜åŒ–çš„ã€‚&lt;/p&gt;
&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™é—¨è¯¾çš„ä¸€äº›æƒ…èŠ‚ä¼šå˜å¾—ç›¸å½“å¤æ‚ã€‚æœ¬æ–‡æä¾›äº†ç»˜å›¾ä¾‹ç¨‹ï¼Œè™½ç„¶é€šè¯»ä»£ç ä»¥ç†Ÿæ‚‰è¿™äº›æ–¹æ³•æ˜¯æœ‰æŒ‡å¯¼æ„ä¹‰çš„ï¼Œä½†è¦æˆåŠŸå®Œæˆè¯¾ç¨‹å¹¶ä¸éœ€è¦è¿™æ ·åšã€‚ä¾‹ç¨‹åœ¨æœ¬åœ°ç›®å½•lab_utils_uni.pyä¸­ã€‚&lt;/p&gt;
&lt;h2 id=&#34;Larger-Data-Set&#34;&gt;&lt;a href=&#34;#Larger-Data-Set&#34; class=&#34;headerlink&#34; title=&#34;Larger Data Set&#34;&gt;&lt;/a&gt;Larger Data Set&lt;/h2&gt;&lt;p&gt;è¾ƒå¤§çš„æ•°æ®é›†ç”¨æ›´å¤šçš„æ•°æ®ç‚¹æ¥è§‚å¯Ÿä¸€ä¸ªåœºæ™¯æ˜¯å¾ˆæœ‰æŒ‡å¯¼æ„ä¹‰çš„ã€‚è¯¥æ•°æ®é›†åŒ…æ‹¬ä¸åœ¨åŒä¸€çº¿ä¸Šçš„æ•°æ®ç‚¹ã€‚è¿™å¯¹æˆæœ¬æ–¹ç¨‹æ„å‘³ç€ä»€ä¹ˆ?æˆ‘ä»¬èƒ½æ‰¾åˆ°ğ‘¤ã€ğ‘é‚£æ ·ä½¿å¾—ä»£ä»·æ˜¯0?&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;x_train = np.array([&lt;span class=&#34;hljs-number&#34;&gt;1.0&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1.7&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;2.0&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;2.5&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;3.0&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;3.2&lt;/span&gt;])&lt;br&gt;y_train = np.array([&lt;span class=&#34;hljs-number&#34;&gt;250&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;300&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;480&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;430&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;630&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;730&lt;/span&gt;])&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;åœ¨ç­‰é«˜çº¿å›¾ä¸­ï¼Œç‚¹å‡»ä¸€ä¸ªç‚¹ï¼Œé€‰æ‹©wå’Œbï¼Œä»¥è¾¾åˆ°æœ€ä½çš„æˆæœ¬ã€‚ä½¿ç”¨è½®å»“æ¥æŒ‡å¯¼ä½ çš„é€‰æ‹©ã€‚æ³¨æ„ï¼Œæ›´æ–°å›¾å½¢å¯èƒ½éœ€è¦å‡ ç§’é’Ÿçš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;plt.close(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;all&amp;#x27;&lt;/span&gt;)&lt;br&gt;fig, ax ,dyn_items = plt_stationary(x_train, y_train)&lt;br&gt;updater = plt_update_onclick(fig, ax, x_train,y_train,dyn_items)&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ä¸Šé¢ï¼Œæ³¨æ„å·¦è¾¹å›¾ä¸­çš„è™šçº¿ã€‚è¿™äº›ä»£è¡¨äº†ä½ çš„è®­ç»ƒé›†ä¸­æ¯ä¸ªä¾‹å­æ‰€è´¡çŒ®çš„ä»£ä»·çš„éƒ¨åˆ†ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œå€¼çº¦ä¸ºğ‘¤&amp;#x3D;209å’Œğ‘&amp;#x3D; 2.4æä¾›ä½ä»£ä»·ã€‚è¯·æ³¨æ„ï¼Œå› ä¸ºæˆ‘ä»¬çš„è®­ç»ƒç¤ºä¾‹ä¸åœ¨ä¸€æ¡çº¿ä¸Šï¼Œæ‰€ä»¥æœ€å°ä»£ä»·ä¸ä¸ºé›¶ã€‚&lt;/p&gt;
&lt;h2 id=&#34;Convex-Cost-surface&#34;&gt;&lt;a href=&#34;#Convex-Cost-surface&#34; class=&#34;headerlink&#34; title=&#34;Convex Cost surface&#34;&gt;&lt;/a&gt;Convex Cost surface&lt;/h2&gt;&lt;p&gt;æˆæœ¬å‡½æ•°å¹³æ–¹æŸå¤±çš„äº‹å®ç¡®ä¿äº†â€œè¯¯å·®æ›²é¢â€åƒæ±¤ç¢—ä¸€æ ·å‡¸å‡ºã€‚å®ƒæ€»æ˜¯æœ‰ä¸€ä¸ªæœ€å°å€¼ï¼Œå¯ä»¥é€šè¿‡åœ¨æ‰€æœ‰ç»´åº¦ä¸Šè·Ÿéšæ¢¯åº¦æ¥è¾¾åˆ°ã€‚åœ¨å‰é¢çš„å›¾ä¸­ï¼Œå› ä¸ºğ‘¤å’Œğ‘å°ºå¯¸æ¯”ä¾‹ä¸åŒï¼Œè¿™æ˜¯ä¸å®¹æ˜“è¯†åˆ«çš„ã€‚ä¸‹å›¾ï¼Œå…¶ä¸­ğ‘¤å’Œğ‘éƒ½æ˜¯å¯¹ç§°çš„ï¼Œåœ¨è®²åº§ä¸­å±•ç¤ºè¿‡:&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;soup_bowl()&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;Congratulations&#34;&gt;&lt;a href=&#34;#Congratulations&#34; class=&#34;headerlink&#34; title=&#34;Congratulations!&#34;&gt;&lt;/a&gt;Congratulations!&lt;/h2&gt;&lt;p&gt;æ‚¨å·²ç»å­¦ä¹ äº†ä»¥ä¸‹å†…å®¹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æˆæœ¬æ–¹ç¨‹æä¾›äº†ä¸€ç§è¡¡é‡é¢„æµ‹ä¸è®­ç»ƒæ•°æ®åŒ¹é…ç¨‹åº¦çš„æ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;æœ€å°åŒ–æˆæœ¬å¯ä»¥æä¾›ğ‘¤å’Œbçš„æœ€ä¼˜å€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;a href=&#34;#å‚è€ƒèµ„æ–™&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;p&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1Pa411X76s?p=5&amp;amp;vd_source=3ae32e36058f58c5b85935fca9b77797&#34;&gt;https://www.bilibili.com/video/BV1Pa411X76s?p=5&amp;amp;vd_source=3ae32e36058f58c5b85935fca9b77797&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/kaieye/2022-Machine-Learning-Specialization&#34;&gt;kaieye&amp;#x2F;2022-Machine-Learning-Specialization (github.com)&lt;/a&gt;&lt;/p&gt;
</content>
        <category term="Tensorflow" />
        <category term="Machine Learning" />
        <updated>2023-03-12T08:33:17.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/03/10/avx006/</id>
        <title>å¦‚ä½•ä½¿ç”¨AVXå’ŒAVX2å¤„ç†æ•°æ®(ä¸ªäººç¿»è¯‘)</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/03/10/avx006/"/>
        <content type="html">&lt;h2 id=&#34;1-æ–‡ç« æ¥æº&#34;&gt;&lt;a href=&#34;#1-æ–‡ç« æ¥æº&#34; class=&#34;headerlink&#34; title=&#34;1.æ–‡ç« æ¥æº&#34;&gt;&lt;/a&gt;1.æ–‡ç« æ¥æº&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;Matt Scarpinoï¼ˆUSAï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.codeproject.com/Articles/874396/Crunching-Numbers-with-AVX-and-AVX&#34;&gt;Crunching Numbers with AVX and AVX2 - CodeProject&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;2-ä»‹ç»&#34;&gt;&lt;a href=&#34;#2-ä»‹ç»&#34; class=&#34;headerlink&#34; title=&#34;2.ä»‹ç»&#34;&gt;&lt;/a&gt;2.ä»‹ç»&lt;/h2&gt;&lt;p&gt;åœ¨2003å¹´ï¼Œ&lt;a href=&#34;https://www.codeproject.com/script/Membership/View.aspx?mid=22834&#34;&gt;Alex Fr&lt;/a&gt;å†™äº†ä¸€ç¯‡ä¼˜ç§€çš„&lt;a href=&#34;https://www.codeproject.com/Articles/4522/Introduction-to-SSE-Programming&#34;&gt;æ–‡ç« &lt;/a&gt;[è¯¥æ–‡ç« ç°åœ¨å·²ç»è¢«åŸä½œè€…åˆ é™¤]ï¼Œè§£é‡Šäº†å¦‚ä½•ä½¿ç”¨Intelçš„æµå¼SIMDæ‰©å±•(SSE)æ‰§è¡ŒSIMD(å•æŒ‡ä»¤ï¼Œå¤šæ•°æ®)å¤„ç†ã€‚SSEæ˜¯è‹±ç‰¹å°”å¤„ç†å™¨æ”¯æŒçš„ä¸€ç»„æŒ‡ä»¤ï¼Œå¯å¯¹å¤§é‡æ•°æ®æ‰§è¡Œé«˜é€Ÿè¿ç®—ã€‚&lt;/p&gt;
&lt;p&gt;2008å¹´ï¼Œè‹±ç‰¹å°”æ¨å‡ºäº†ä¸€å¥—æ–°çš„é«˜æ€§èƒ½æŒ‡ä»¤ï¼Œç§°ä¸ºé«˜çº§å‘é‡æ‰©å±•(AVX)ã€‚AVXæ‰§è¡Œè®¸å¤šä¸SSEæŒ‡ä»¤ç›¸åŒçš„æ“ä½œï¼Œä½†ä»¥æ›´å¿«çš„é€Ÿåº¦å¯¹æ›´å¤§çš„æ•°æ®å—è¿›è¡Œæ“ä½œã€‚æœ€è¿‘ï¼Œè‹±ç‰¹å°”åœ¨AVX2å’ŒAVX512ç³»åˆ—ä¸­å‘å¸ƒäº†é¢å¤–çš„æŒ‡ä»¤ã€‚æœ¬æ–‡çš„é‡ç‚¹æ˜¯é€šè¿‡ç§°ä¸ºintrinsic funtionsçš„ç‰¹æ®ŠCå‡½æ•°è®¿é—®AVXå’ŒAVX2æŒ‡ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä¸ä»‹ç»æ•´ä¸ªAVX&amp;#x2F;AVX2 intrinsicsï¼Œè€Œæ˜¯ä¾§é‡äºæ•°å­¦è®¡ç®—ã€‚ç‰¹åˆ«åœ°ï¼Œç›®æ ‡æ˜¯å¤æ•°ç›¸ä¹˜ã€‚è¦ä½¿ç”¨AVX&amp;#x2F;AVX2æ‰§è¡Œæ­¤æ“ä½œï¼Œéœ€è¦ä¸‰ç§ç±»å‹çš„intrinsic:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Initialization intrinscis&lt;/li&gt;
&lt;li&gt;Arithmetic intrinsics&lt;/li&gt;
&lt;li&gt;Permute&amp;#x2F;shuffle intrinsics&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;		&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡è®¨è®ºæ¯ä¸ªç±»åˆ«ä¸­çš„intrinsicsï¼Œå¹¶è§£é‡Šå¦‚ä½•åœ¨ä»£ç ä¸­ä½¿ç”¨å®ƒä»¬ã€‚æœ¬æ–‡çš„æœ€åå°†å±•ç¤ºå¦‚ä½•ç”¨è¿™äº›intrinsicè¿›è¡Œä¹˜æ³•å¤æ•°è¿ç®—ã€‚&lt;/p&gt;
&lt;p&gt;ç†è§£å¤„ç†å™¨æŒ‡ä»¤å’Œintrinsic functionä¹‹é—´çš„åŒºåˆ«æ˜¯å¾ˆé‡è¦çš„ã€‚AVXæŒ‡ä»¤æ˜¯æ‰§è¡Œä¸å¯åˆ†å‰²æ“ä½œçš„æ±‡ç¼–å‘½ä»¤ã€‚ä¾‹å¦‚ï¼ŒAVXæŒ‡ä»¤vaddpsæ·»åŠ äº†ä¸¤ä¸ªæ“ä½œæ•°ï¼Œå¹¶å°†ç»“æœæ”¾åœ¨ç¬¬ä¸‰ä¸ªæ“ä½œæ•°ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;è¦åœ¨C&amp;#x2F;C++ä¸­æ‰§è¡Œæ“ä½œï¼Œthe intrinsic funtion _mm256_add_ps()ç›´æ¥æ˜ å°„åˆ°vaddpsï¼Œå°†æ±‡ç¼–çš„æ€§èƒ½ä¸é«˜çº§å‡½æ•°çš„ä¾¿åˆ©æ€§ç»“åˆèµ·æ¥ã€‚An intrinsic funtionä¸ä¸€å®šæ˜ å°„åˆ°å•ä¸ªæŒ‡ä»¤ï¼Œä½†ä¸å…¶ä»–C&amp;#x2F; C++å‡½æ•°ç›¸æ¯”ï¼ŒAVX&amp;#x2F;AVX2 intrinsicsæä¾›äº†å¯é çš„é«˜æ€§èƒ½ã€‚&lt;/p&gt;
&lt;h2 id=&#34;3-åŸºæœ¬è¦æ±‚&#34;&gt;&lt;a href=&#34;#3-åŸºæœ¬è¦æ±‚&#34; class=&#34;headerlink&#34; title=&#34;3.åŸºæœ¬è¦æ±‚&#34;&gt;&lt;/a&gt;3.åŸºæœ¬è¦æ±‚&lt;/h2&gt;&lt;p&gt;è¦ç†è§£æœ¬æ–‡çš„å†…å®¹ï¼Œæ‚¨éœ€è¦åŸºæœ¬ç†Ÿæ‚‰Cè¯­è¨€å’ŒSIMDå¤„ç†ã€‚è¦æ‰§è¡Œä»£ç ï¼Œæ‚¨éœ€è¦ä¸€ä¸ªæ”¯æŒAVXæˆ–AVX&amp;#x2F;AVX2çš„CPUã€‚ä»¥ä¸‹æ˜¯æ”¯æŒAVXçš„cpu:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Intelâ€™s Sandy Bridge&amp;#x2F;Sandy Bridge E&amp;#x2F;Ivy Bridge&amp;#x2F;Ivy Bridge E&lt;/li&gt;
&lt;li&gt;Intelâ€™s Haswell&amp;#x2F;Haswell E&amp;#x2F;Broadwell&amp;#x2F;Broadwell E&lt;/li&gt;
&lt;li&gt;AMDâ€™s Bulldozer&amp;#x2F;Piledriver&amp;#x2F;Steamroller&amp;#x2F;Excavator&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ”¯æŒAVX2çš„CPUä¹Ÿæ”¯æŒAVXã€‚ä»¥ä¸‹æ˜¯è¿™äº›è®¾å¤‡:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Intelâ€™s Haswell&amp;#x2F;Haswell E&amp;#x2F;Broadwell&amp;#x2F;Broadwell E&lt;/li&gt;
&lt;li&gt;AMDâ€™s Excavator&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ¬æ–‡ä¸­è®¨è®ºçš„å¤§å¤šæ•°å‡½æ•°éƒ½æ˜¯ç”±AVXæä¾›çš„ã€‚ä½†ä¹Ÿæœ‰ä¸€äº›æ˜¯AVX2ç‰¹æœ‰çš„ã€‚ä¸ºäº†åŒºåˆ†å®ƒä»¬ï¼Œåœ¨æœ¬æ–‡çš„è¡¨ä¸­ï¼Œæˆ‘åœ¨AVX2 intrinsicçš„åç§°å‰é¢åŠ ä¸Š(2)ã€‚&lt;/p&gt;
&lt;p&gt;[ä¸ªäººè¡¥å……]&lt;/p&gt;
&lt;p&gt;åˆ¤æ–­è‡ªå·±ç”µè„‘CPUæ˜¯å¦æ”¯æŒAVXå’ŒAVX2ï¼Œæœ€ç®€å•çš„å°±æ˜¯åœ¨å‘½ä»¤è¡Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;lscpu&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ä½ ä¼šå¾—åˆ°ä»¥ä¸‹ç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/10/avx006/image-20230129153048825.png&#34; alt=&#34;image-20230129153048825&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨Flagsé‡Œé¢ä½ å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°ä½ çš„ç”µè„‘æ˜¯å¦æ”¯æŒAVXä»¥åŠAVX2ã€‚&lt;/p&gt;
&lt;h2 id=&#34;4-å‘é‡åŒ–æ¦‚è¿°&#34;&gt;&lt;a href=&#34;#4-å‘é‡åŒ–æ¦‚è¿°&#34; class=&#34;headerlink&#34; title=&#34;4.å‘é‡åŒ–æ¦‚è¿°&#34;&gt;&lt;/a&gt;4.å‘é‡åŒ–æ¦‚è¿°&lt;/h2&gt;&lt;p&gt;AVXæŒ‡ä»¤é€šè¿‡åŒæ—¶å¤„ç†å¤§å—å€¼è€Œä¸æ˜¯å•ç‹¬å¤„ç†å€¼æ¥æé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚è¿™äº›å€¼å¤§å—ç§°ä¸ºå‘é‡ï¼ŒAVXå‘é‡æœ€å¤šå¯ä»¥åŒ…å«256ä½æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;å¸¸è§çš„AVXå‘é‡åŒ…å«4ä¸ªdouble (4 x 64ä½&amp;#x3D; 256)ï¼Œ8ä¸ªfloat (8 x 32ä½&amp;#x3D; 256)æˆ–8ä¸ªint (8 x 32ä½&amp;#x3D; 256)ã€‚[double 8B, flout 4B, int 4B]&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªç¤ºä¾‹å°†æ¼”ç¤ºAVX&amp;#x2F;AVX2å¤„ç†çš„å¼ºå¤§åŠŸèƒ½ã€‚å‡è®¾ä¸€ä¸ªå‡½æ•°éœ€è¦å°†ä¸€ä¸ªæ•°ç»„çš„8ä¸ªæµ®ç‚¹æ•°ä¹˜ä»¥ç¬¬äºŒä¸ªæ•°ç»„çš„8ä¸ªæµ®ç‚¹æ•°ï¼Œå¹¶å°†ç»“æœæ·»åŠ åˆ°ç¬¬ä¸‰ä¸ªæ•°ç»„ã€‚å¦‚æœæ²¡æœ‰å‘é‡åŒ–ï¼Œå‡½æ•°å¯èƒ½æ˜¯è¿™æ ·çš„:&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;multiply_and_add&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;* a, &lt;span class=&#34;hljs-keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;* b, &lt;span class=&#34;hljs-keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;* c, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;* d) &amp;#123;  &lt;br&gt;&lt;br&gt;  &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i=&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;; i&amp;lt;&lt;span class=&#34;hljs-number&#34;&gt;8&lt;/span&gt;; i++) &amp;#123;&lt;br&gt;    d[i] = a[i] * b[i];&lt;br&gt;    d[i] = d[i] + c[i];&lt;br&gt;  &amp;#125;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ä¸‹é¢æ˜¯ä½¿ç”¨AVX2å‡½æ•°çš„ä¾‹å­:&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;__m256 &lt;span class=&#34;hljs-title&#34;&gt;multiply_and_add&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(__m256 a, __m256 b, __m256 c)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;br&gt;&lt;br&gt;  &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; _mm256_fmadd_ps(a, b, c);&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;This AVX2 intrinsic funtion &lt;strong&gt;_mm256_fmadd_ps&lt;/strong&gt;å¤„ç†24ä¸ªfloatsï¼Œä½†å®ƒä¸æ˜ å°„åˆ°å•ä¸ªæŒ‡ä»¤ã€‚ç›¸åï¼Œå®ƒæ‰§è¡Œä¸‰ä¸ªæŒ‡ä»¤:&lt;strong&gt;vfmadd132ps&lt;/strong&gt;ã€&lt;strong&gt;vfmadd213ps&lt;/strong&gt;å’Œ&lt;strong&gt;vfmadd231ps&lt;/strong&gt;ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå®ƒæ‰§è¡Œå¾—å¾ˆå¿«ï¼Œæ¯”éå†å•ä¸ªå…ƒç´ å¿«å¾—å¤šã€‚&lt;/p&gt;
&lt;p&gt;å°½ç®¡è‹±ç‰¹å°”çš„intrinsicsåŠŸèƒ½å¼ºå¤§ï¼Œä½†å®ƒä»¬è¿˜æ˜¯è®©è®¸å¤šç¨‹åºå‘˜æ„Ÿåˆ°ç´§å¼ ã€‚è¿™é€šå¸¸æœ‰ä¸¤ä¸ªåŸå› ã€‚é¦–å…ˆï¼Œæ•°æ®ç±»å‹æœ‰å¥‡æ€ªçš„åå­—ï¼Œæ¯”å¦‚**__m256&lt;strong&gt;ã€‚å…¶æ¬¡ï¼Œå‡½æ•°æœ‰å¥‡æ€ªçš„åç§°ï¼Œå¦‚&lt;/strong&gt;_mm256_fmadd_ps**ã€‚å› æ­¤ï¼Œåœ¨è¯¦ç»†è®¨è®ºintrinsic funtionsä¹‹å‰ï¼Œæˆ‘æƒ³å…ˆè®¨è®ºä¸€ä¸‹Intelçš„æ•°æ®ç±»å‹å’Œå‘½åçº¦å®šã€‚&lt;/p&gt;
&lt;h2 id=&#34;5-AVXç¼–ç¨‹åŸºç¡€&#34;&gt;&lt;a href=&#34;#5-AVXç¼–ç¨‹åŸºç¡€&#34; class=&#34;headerlink&#34; title=&#34;5.AVXç¼–ç¨‹åŸºç¡€&#34;&gt;&lt;/a&gt;5.AVXç¼–ç¨‹åŸºç¡€&lt;/h2&gt;&lt;p&gt;æœ¬æ–‡ä¸»è¦å…³æ³¨AVXå’ŒAVX2æä¾›çš„ä¸æ•°å­¦ç›¸å…³çš„intrinsic functionsã€‚ä½†åœ¨çœ‹å‡½æ•°ä¹‹å‰ï¼Œæœ‰ä¸‰ç‚¹å¾ˆé‡è¦:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Data types&lt;/li&gt;
&lt;li&gt;Function naming conventions&lt;/li&gt;
&lt;li&gt;Compiling AVX applications&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ¬èŠ‚æ¶‰åŠè¿™äº›è¦ç‚¹ï¼Œå¹¶æä¾›ä¸€ä¸ªç®€å•çš„åº”ç”¨ç¨‹åºï¼Œç”¨äºä¸€ä¸ªå‘é‡å‡å»å¦ä¸€ä¸ªå‘é‡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;5-1æ•°æ®ç±»å‹&#34;&gt;&lt;a href=&#34;#5-1æ•°æ®ç±»å‹&#34; class=&#34;headerlink&#34; title=&#34;5.1æ•°æ®ç±»å‹&#34;&gt;&lt;/a&gt;5.1æ•°æ®ç±»å‹&lt;/h3&gt;&lt;p&gt;å°‘æ•°intrinsicæ¥å—ä¼ ç»Ÿçš„æ•°æ®ç±»å‹ï¼Œå¦‚&lt;strong&gt;int&lt;/strong&gt;æˆ–&lt;strong&gt;float&lt;/strong&gt;ï¼Œä½†å¤§å¤šæ•°intrinsicæ“ä½œæœ‰ç‰¹å®šçš„AVXå’ŒAVX2çš„æ•°æ®ç±»å‹ã€‚æœ‰å…­ç§ä¸»è¦çš„å‘é‡ç±»å‹ï¼Œè¡¨1åˆ—å‡ºäº†å®ƒä»¬ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Table 1:AVX&amp;#x2F;AVX2 Data Types&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Data Type&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;&lt;code&gt;__m128&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;128-bit vector containing 4 &lt;code&gt;float&lt;/code&gt;s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;__m128d&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;128-bit vector containing 2 &lt;code&gt;double&lt;/code&gt;s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;__m128i&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;128-bit vector containing integers&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;__m256&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;256-bit vector containing 8 &lt;code&gt;float&lt;/code&gt;s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;__m256d&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;256-bit vector containing 4 &lt;code&gt;double&lt;/code&gt;s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;__m256i&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;256-bit vector containing integers&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;æ¯ç§ç±»å‹éƒ½ä»¥ä¸¤ä¸ªä¸‹åˆ’çº¿ã€ä¸€ä¸ªmå’Œå‘é‡çš„å®½åº¦(ä»¥ä½ä¸ºå•ä½)å¼€å§‹ã€‚AVX512æ”¯æŒä»¥_m512å¼€å¤´çš„512ä½å‘é‡ç±»å‹ï¼Œä½†AVX&amp;#x2F;AVX2å‘é‡ä¸è¶…è¿‡256ä½ã€‚å¦‚æœå‘é‡ç±»å‹ä»¥dç»“å°¾ï¼Œåˆ™ä»£è¡¨doubleï¼Œå¦‚æœæ²¡æœ‰åç¼€ï¼Œåˆ™ä»£è¡¨floatã€‚çœ‹èµ·æ¥_m128iå’Œ_m256iå‘é‡å¿…é¡»åŒ…å«intå‹ï¼Œä½†äº‹å®å¹¶éå¦‚æ­¤ã€‚æ•´æ•°å‘é‡ç±»å‹å¯ä»¥åŒ…å«ä»»ä½•ç±»å‹çš„æ•´æ•°ï¼Œfrom chars to shorts to unsigned long longs.That is, an _m256i may contain 32 chars, 16 shorts, 8 ints, or 4 longs.  These integers can be signed or unsigned.&lt;/p&gt;
&lt;h3 id=&#34;5-3å‡½æ•°å‘½åçº¦å®š&#34;&gt;&lt;a href=&#34;#5-3å‡½æ•°å‘½åçº¦å®š&#34; class=&#34;headerlink&#34; title=&#34;5.3å‡½æ•°å‘½åçº¦å®š&#34;&gt;&lt;/a&gt;5.3å‡½æ•°å‘½åçº¦å®š&lt;/h3&gt;&lt;p&gt;AVX&amp;#x2F;AVX2 intrinsicsçš„åç§°ä¸€å¼€å§‹å¯èƒ½ä»¤äººå›°æƒ‘ï¼Œä½†å‘½åçº¦å®šç¡®æ˜¯éå¸¸ç›´ç™½çš„ã€‚ä¸€æ—¦ä½ ç†è§£äº†å®ƒï¼Œä½ å°±å¯ä»¥é€šè¿‡çœ‹å®ƒçš„åå­—æ¥å¤§è‡´åˆ¤æ–­ä¸€ä¸ªå‡½æ•°æ˜¯åšä»€ä¹ˆçš„ã€‚AVX&amp;#x2F;AVX2 intrinsicsçš„ä¸€èˆ¬å½¢å¼å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;_mm&lt;bit_width&gt;_&lt;name&gt;_&lt;data_type&gt;&lt;/data_type&gt;&lt;/name&gt;&lt;/bit_width&gt;&lt;/p&gt;
&lt;p&gt;è¯¥æ ¼å¼çš„å„éƒ¨åˆ†å¦‚ä¸‹æ‰€ç¤º:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;bit_width&amp;gt;&lt;/code&gt; identifies the size of the vector returned by the function. For 128-bit vectors, this is empty. For 256-bit vectors, this is set to &lt;code&gt;256&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;name&amp;gt;&lt;/code&gt; describes the operation performed by the intrinsic&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;data_type&amp;gt;&lt;/code&gt; identifies the data type of the functionâ€™s primary arguments&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æœ€åä¸€éƒ¨åˆ†&lt;data_type&gt;æœ‰ç‚¹å¤æ‚ã€‚å®ƒæ ‡è¯†è¾“å…¥å€¼çš„å†…å®¹ï¼Œå¯ä»¥è®¾ç½®ä¸ºä»¥ä¸‹ä»»ä½•å€¼:&lt;/data_type&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ps&lt;/code&gt; - vectors contain &lt;code&gt;float&lt;/code&gt;s (&lt;code&gt;ps&lt;/code&gt; stands for packed single-precision)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pd&lt;/code&gt; - vectors contain &lt;code&gt;double&lt;/code&gt;s (&lt;code&gt;pd&lt;/code&gt; stands for packed double-precision)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;epi8/epi16/epi32/epi64&lt;/code&gt; - vectors contain 8-bit&amp;#x2F;16-bit&amp;#x2F;32-bit&amp;#x2F;64-bit signed integers&lt;/li&gt;
&lt;li&gt;&lt;code&gt;epu8/epu16/epu32/epu64&lt;/code&gt; - vectors contain 8-bit&amp;#x2F;16-bit&amp;#x2F;32-bit&amp;#x2F;64-bit unsigned integers&lt;/li&gt;
&lt;li&gt;&lt;code&gt;si128&lt;/code&gt;&amp;#x2F;&lt;code&gt;si256&lt;/code&gt; - unspecified 128-bit vector or 256-bit vector&lt;/li&gt;
&lt;li&gt;&lt;code&gt;m128/m128i/m128d/m256/m256i/m256d&lt;/code&gt; - identifies input vector types when theyâ€™re different than the type of the returned vector&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œè€ƒè™‘_mm256_srlv_epi64ã€‚å³ä½¿æ‚¨ä¸çŸ¥é“srlvæ˜¯ä»€ä¹ˆæ„æ€ï¼Œ_mm256å‰ç¼€å‘Šè¯‰æ‚¨è¯¥å‡½æ•°è¿”å›ä¸€ä¸ª256ä½å‘é‡ï¼Œ_epi64å‘Šè¯‰æ‚¨å‚æ•°åŒ…å«64ä½æœ‰ç¬¦å·æ•´æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ä½œä¸ºç¬¬äºŒä¸ªç¤ºä¾‹ï¼Œè€ƒè™‘_mm_testnzc_psã€‚_mmè¡¨ç¤ºå‡½æ•°è¿”å›ä¸€ä¸ª128ä½çš„å‘é‡ã€‚æœ«å°¾çš„_psè¡¨ç¤ºå‚æ•°å‘é‡åŒ…å«æµ®ç‚¹æ•°ã€‚&lt;/p&gt;
&lt;p&gt;AVXæ•°æ®ç±»å‹ä»¥ä¸¤ä¸ªä¸‹åˆ’çº¿å’Œä¸€ä¸ªmå¼€å¤´ã€‚å‡½æ•°ä»¥ä¸€ä¸ªä¸‹åˆ’çº¿å’Œä¸¤ä¸ªmå¼€å¤´ã€‚æˆ‘å¾ˆå®¹æ˜“ææ··è¿™ä¸€ç‚¹ï¼Œæ‰€ä»¥æˆ‘æƒ³å‡ºäº†ä¸€ç§æ–¹æ³•æ¥è®°ä½å®ƒä»¬çš„åŒºåˆ«:æ•°æ®ç±»å‹ä»£è¡¨å†…å­˜ï¼ˆ&lt;strong&gt;m&lt;/strong&gt;emoryï¼‰ï¼Œå‡½æ•°ä»£è¡¨å¤šåª’ä½“æ“ä½œï¼ˆ&lt;strong&gt;m&lt;/strong&gt;ulti&lt;strong&gt;m&lt;/strong&gt;ediaï¼‰ã€‚è¿™æ˜¯æˆ‘èƒ½åšçš„æœ€å¥½çš„äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;5-4æ„å»ºAVXåº”ç”¨ç¨‹åº&#34;&gt;&lt;a href=&#34;#5-4æ„å»ºAVXåº”ç”¨ç¨‹åº&#34; class=&#34;headerlink&#34; title=&#34;5.4æ„å»ºAVXåº”ç”¨ç¨‹åº&#34;&gt;&lt;/a&gt;5.4æ„å»ºAVXåº”ç”¨ç¨‹åº&lt;/h3&gt;&lt;p&gt;è¦æ„å»ºä½¿ç”¨AVX intrinsicçš„åº”ç”¨ç¨‹åºï¼Œä¸éœ€è¦é“¾æ¥ä»»ä½•åº“ã€‚ä½†æ˜¯æ‚¨éœ€è¦åŒ…å«&lt;strong&gt;imminrin .h&lt;/strong&gt;å¤´æ–‡ä»¶ã€‚æ­¤å¤´æ–‡ä»¶åŒ…æ‹¬å°†AVX&amp;#x2F;AVX2å‡½æ•°æ˜ å°„åˆ°æŒ‡ä»¤çš„å…¶ä»–å¤´æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;hello_avx.cä¸­çš„ä»£ç æ˜¾ç¤ºäº†ä¸€ä¸ªåŸºæœ¬çš„AVXåº”ç”¨ç¨‹åºçš„æ ·å­:&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;hljs-meta-string&#34;&gt;&amp;lt;immintrin.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;hljs-meta-string&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;br&gt;&lt;br&gt;  &lt;span class=&#34;hljs-comment&#34;&gt;/* Initialize the two argument vectors */&lt;/span&gt;			&lt;span class=&#34;hljs-comment&#34;&gt;//åˆå§‹åŒ–&lt;/span&gt;&lt;br&gt;  __m256 evens = _mm256_set_ps(&lt;span class=&#34;hljs-number&#34;&gt;2.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;4.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;6.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;8.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;10.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;12.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;14.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;16.0&lt;/span&gt;);&lt;br&gt;  __m256 odds = _mm256_set_ps(&lt;span class=&#34;hljs-number&#34;&gt;1.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;3.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;5.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;7.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;9.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;11.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;13.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;15.0&lt;/span&gt;);&lt;br&gt;&lt;br&gt;  &lt;span class=&#34;hljs-comment&#34;&gt;/* Compute the difference between the two vectors */&lt;/span&gt;&lt;br&gt;  __m256 result = _mm256_sub_ps(evens, odds);			&lt;span class=&#34;hljs-comment&#34;&gt;//å‡æ³•&lt;/span&gt;&lt;br&gt;&lt;br&gt;  &lt;span class=&#34;hljs-comment&#34;&gt;/* Display the elements of the result vector */&lt;/span&gt;&lt;br&gt;  &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;* f = (&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;*)&amp;amp;result;					&lt;span class=&#34;hljs-comment&#34;&gt;//ç±»å‹è½¬æ¢&lt;/span&gt;&lt;br&gt;  &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;%f %f %f %f %f %f %f %f\n&amp;quot;&lt;/span&gt;,&lt;br&gt;    f[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;], f[&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;], f[&lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;], f[&lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt;], f[&lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt;], f[&lt;span class=&#34;hljs-number&#34;&gt;5&lt;/span&gt;], f[&lt;span class=&#34;hljs-number&#34;&gt;6&lt;/span&gt;], f[&lt;span class=&#34;hljs-number&#34;&gt;7&lt;/span&gt;]);&lt;br&gt;&lt;br&gt;  &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;è¦æ„å»ºåº”ç”¨ç¨‹åºï¼Œéœ€è¦å‘Šè¯‰ç¼–è¯‘å™¨è¯¥ä½“ç³»ç»“æ„æ”¯æŒAVXã€‚è¿™ä¸ªæ ‡å¿—å–å†³äºç¼–è¯‘å™¨ï¼Œgccéœ€è¦-mavxæ ‡å¿—ã€‚å› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç¼–è¯‘hello_avx.cæºæ–‡ä»¶:&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;gcc -mavx -o hello_avx hello_avx.c&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;åœ¨æœ¬ä¾‹ä¸­ï¼Œæ‰€æœ‰å‡½æ•°éƒ½ä»¥_mm256å¼€å§‹ï¼Œä»¥_psç»“æŸï¼Œå› æ­¤æˆ‘å¸Œæœ›æ‰€æœ‰æ“ä½œéƒ½æ¸…æ¥šåœ°æ¶‰åŠåŒ…å«floatsçš„256ä½å‘é‡ã€‚æˆ‘è¿˜å¸Œæœ›ç»“æœå‘é‡ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½ç­‰äº1.0ã€‚å¦‚æœè¿è¡Œåº”ç”¨ç¨‹åºï¼Œæ‚¨å°†çœ‹åˆ°æƒ…å†µå°±æ˜¯è¿™æ ·ã€‚&lt;/p&gt;
&lt;p&gt;[è¿™å°±æ˜¯ä¸€ä¸ªç®€å•çš„å‘é‡å‡æ³•ä¾‹å­ï¼Œå¤§å®¶å¯ä»¥å¯¹åº”æ•°æ®çœ‹ä¸€ä¸‹]&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000 1.000000&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;5-5åˆå§‹åŒ–intrinsics&#34;&gt;&lt;a href=&#34;#5-5åˆå§‹åŒ–intrinsics&#34; class=&#34;headerlink&#34; title=&#34;5.5åˆå§‹åŒ–intrinsics&#34;&gt;&lt;/a&gt;5.5åˆå§‹åŒ–intrinsics&lt;/h3&gt;&lt;p&gt;åœ¨å¯¹AVXå‘é‡è¿›è¡Œæ“ä½œä¹‹å‰ï¼Œéœ€è¦ç”¨æ•°æ®å¡«å……å‘é‡ã€‚å› æ­¤ï¼Œæœ¬æ–‡è®¨è®ºçš„ç¬¬ä¸€ç»„intrinsicsç”¨æ•°æ®åˆå§‹åŒ–å‘é‡ã€‚æœ‰ä¸¤ç§æ–¹æ³•:ç”¨æ ‡é‡å€¼åˆå§‹åŒ–å‘é‡å’Œç”¨ä»å†…å­˜åŠ è½½çš„æ•°æ®åˆå§‹åŒ–å‘é‡ã€‚&lt;/p&gt;
&lt;h4 id=&#34;5-5-1ä½¿ç”¨æ ‡é‡å€¼åˆå§‹åŒ–&#34;&gt;&lt;a href=&#34;#5-5-1ä½¿ç”¨æ ‡é‡å€¼åˆå§‹åŒ–&#34; class=&#34;headerlink&#34; title=&#34;5.5.1ä½¿ç”¨æ ‡é‡å€¼åˆå§‹åŒ–&#34;&gt;&lt;/a&gt;5.5.1ä½¿ç”¨æ ‡é‡å€¼åˆå§‹åŒ–&lt;/h4&gt;&lt;p&gt;AVXæä¾›äº†å°†ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ç»„åˆæˆ256ä½å‘é‡çš„intrinsics funtionsã€‚è¡¨2åˆ—å‡ºäº†å®ƒä»¬çš„åç§°ï¼Œå¹¶æä¾›äº†æ¯ä¸ªåç§°çš„æè¿°ã€‚ä¹Ÿæœ‰ç±»ä¼¼çš„intrinsicsåˆå§‹åŒ–128ä½å‘é‡ï¼Œä½†å®ƒä»¬æ˜¯ç”±SSEæä¾›çš„ï¼Œè€Œä¸æ˜¯AVXã€‚å‡½æ•°åçš„å”¯ä¸€åŒºåˆ«æ˜¯_mm256_è¢«æ›¿æ¢ä¸º_mm_ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Table 2: Initialization Intrinsics&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Function&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_setzero_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Returns a floating-point vector filled with zeros&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_setzero_si256&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Returns an integer vector whose bytes are set to zero&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_set1_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Fill a vector with a floating-point value&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_set1_epi8/epi16&lt;/code&gt; &lt;code&gt;_mm256_set1_epi32/epi64&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Fill a vector with an integer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_set_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Initialize a vector with eight floats (ps) or four doubles (pd)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_set_epi8/epi16&lt;/code&gt; &lt;code&gt;_mm256_set_epi32/epi64&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Initialize a vector with integers&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_set_m128/m128d/&lt;/code&gt; &lt;code&gt;_mm256_set_m128i&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Initialize a 256-bit vector with two 128-bit vectors&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_setr_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Initialize a vector with eight floats (ps) or four doubles (pd) in reverse order&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_setr_epi8/epi16&lt;/code&gt; &lt;code&gt;_mm256_setr_epi32/epi64&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Initialize a vector with integers in reverse order&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå‡½æ•°æ˜¯æœ€å®¹æ˜“ç†è§£çš„ã€‚_m256_setzero_psè¿”å›ä¸€ä¸ª__m256å‘é‡ï¼ŒåŒ…å«8ä¸ªè®¾ç½®ä¸º0çš„æµ®ç‚¹æ•°ã€‚ç±»ä¼¼åœ°ï¼Œ_m256_setzero_si256è¿”å›ä¸€ä¸ª__m256iå‘é‡ï¼Œå…¶å­—èŠ‚è¢«è®¾ç½®ä¸º0ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢è¿™è¡Œä»£ç åˆ›å»ºäº†ä¸€ä¸ª256ä½çš„å‘é‡ï¼Œå…¶ä¸­åŒ…å«4ä¸ªè®¾ä¸º0çš„double:&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;_m256d dbl_vector = _m256_setzero_pd();&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;åç§°ä¸­åŒ…å«set1çš„å‡½æ•°æ¥å—ä¸€ä¸ªå€¼ï¼Œå¹¶åœ¨æ•´ä¸ªå‘é‡ä¸­é‡å¤è¯¥å€¼ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢è¿™è¡Œä»£ç åˆ›å»ºäº†ä¸€ä¸ª__m256iï¼Œå®ƒçš„16ä¸ªshort valueè¢«è®¾ç½®ä¸º47:&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;_m256i short_vector = _m256_set1_pd();&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;è¡¨2ä¸­çš„å…¶ä»–å‡½æ•°åŒ…å«_set_æˆ–_setr_ã€‚è¿™äº›å‡½æ•°æ¥å—ä¸€ç³»åˆ—å€¼ï¼Œæ¯ä¸ªå‘é‡çš„å…ƒç´ å¯¹åº”ä¸€ä¸ªå€¼ã€‚è¿™äº›å€¼è¢«æ”¾ç½®åœ¨è¿”å›çš„å‘é‡ä¸­ï¼Œç†è§£é¡ºåºå¾ˆé‡è¦ã€‚ä¸‹é¢çš„å‡½æ•°è°ƒç”¨è¿”å›ä¸€ä¸ªåŒ…å«8ä¸ªæ•´æ•°çš„å‘é‡ï¼Œå…¶å€¼èŒƒå›´ä¸º1åˆ°8:&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;_m256i int_vector = _m256_set_epi32(&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;5&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;6&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;7&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;8&lt;/span&gt;);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;æ‚¨å¯èƒ½å¸Œæœ›å€¼æŒ‰ç…§ç»™å®šçš„é¡ºåºå­˜å‚¨ã€‚ä½†è‹±ç‰¹å°”çš„æ¶æ„æ˜¯&lt;strong&gt;å°ç«¯&lt;/strong&gt;å­˜å‚¨ç±»å‹çš„[è¿™é‡Œå¾ˆé‡è¦]ï¼Œæ‰€ä»¥æœ€ä½æœ‰æ•ˆå€¼(8)å…ˆå­˜å‚¨ï¼Œæœ€é«˜æœ‰æ•ˆå€¼(1)æœ€åå­˜å‚¨ã€‚æ‚¨å¯ä»¥é€šè¿‡å°†int_vectorè½¬æ¢ä¸ºintæŒ‡é’ˆå¹¶æ‰“å°å­˜å‚¨çš„å€¼æ¥éªŒè¯è¿™ä¸€ç‚¹ã€‚å¦‚ä¸‹ä»£ç æ‰€ç¤º:&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;__m256i int_vector = _mm256_set_epi32(&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;5&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;6&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;7&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;8&lt;/span&gt;);&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; *ptr = (&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;*)&amp;amp;int_vector;&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;%d %d %d %d %d %d %d %d\n&amp;quot;&lt;/span&gt;, ptr[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;], ptr[&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;], ptr[&lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;], ptr[&lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt;], ptr[&lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt;], ptr[&lt;span class=&#34;hljs-number&#34;&gt;5&lt;/span&gt;], ptr[&lt;span class=&#34;hljs-number&#34;&gt;6&lt;/span&gt;], ptr[&lt;span class=&#34;hljs-number&#34;&gt;7&lt;/span&gt;]);&lt;br&gt;--&amp;gt; &lt;span class=&#34;hljs-number&#34;&gt;8&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;7&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;6&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å¦‚æœå¸Œæœ›å€¼æŒ‰ç»™å®šé¡ºåºå­˜å‚¨ï¼Œå¯ä»¥ä½¿ç”¨_setr_å‡½æ•°ä¹‹ä¸€åˆ›å»ºå‘é‡ï¼Œå…¶ä¸­rå¯èƒ½ä»£è¡¨reverseã€‚ä¸‹é¢çš„ä»£ç å±•ç¤ºäº†å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„:&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;__m256i int_vector = _mm256_setr_epi32(&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;5&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;6&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;7&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;8&lt;/span&gt;);&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; *ptr = (&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;*)&amp;amp;int_vector;&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;%d %d %d %d %d %d %d %d\n&amp;quot;&lt;/span&gt;, ptr[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;], ptr[&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;], ptr[&lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;], ptr[&lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt;], ptr[&lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt;], ptr[&lt;span class=&#34;hljs-number&#34;&gt;5&lt;/span&gt;], ptr[&lt;span class=&#34;hljs-number&#34;&gt;6&lt;/span&gt;], ptr[&lt;span class=&#34;hljs-number&#34;&gt;7&lt;/span&gt;]);&lt;br&gt;--&amp;gt; &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;6&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;7&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;æœ‰è¶£çš„æ˜¯ï¼ŒAVXå’ŒAVX2éƒ½æ²¡æœ‰æä¾›ç”¨æ— ç¬¦å·æ•´æ•°åˆå§‹åŒ–å‘é‡çš„intrinsicã€‚ä½†æ˜¯ï¼Œå®ƒä»¬æä¾›äº†å¯¹å¸¦æ— ç¬¦å·æ•´æ•°çš„å‘é‡è¿›è¡Œæ“ä½œçš„å‡½æ•°ã€‚&lt;/p&gt;
&lt;h4 id=&#34;5-5-2ä»å†…å­˜åŠ è½½æ•°æ®&#34;&gt;&lt;a href=&#34;#5-5-2ä»å†…å­˜åŠ è½½æ•°æ®&#34; class=&#34;headerlink&#34; title=&#34;5.5.2ä»å†…å­˜åŠ è½½æ•°æ®&#34;&gt;&lt;/a&gt;5.5.2ä»å†…å­˜åŠ è½½æ•°æ®&lt;/h4&gt;&lt;p&gt;AVX&amp;#x2F;AVX2çš„ä¸€ä¸ªå¸¸è§ç”¨æ³•æ˜¯å°†æ•°æ®ä»å†…å­˜åŠ è½½åˆ°å‘é‡ä¸­ï¼Œå¯¹å‘é‡è¿›è¡Œå¤„ç†ï¼Œå¹¶å°†ç»“æœå­˜å‚¨å›å†…å­˜ã€‚ç¬¬ä¸€æ­¥æ˜¯ä½¿ç”¨è¡¨3ä¸­åˆ—å‡ºçš„intrinsic funtionså®Œæˆçš„ã€‚æœ€åä¸¤ä¸ªå‡½æ•°å‰é¢æœ‰(2)ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ç”±AVX2è€Œä¸æ˜¯AVXæä¾›çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Table 3: Vector Load Intrinsics&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Data Type&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_load_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Loads a floating-point vector from an  aligned memory address&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_load_si256&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Loads an integer vector from an aligned memory address&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_loadu_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Loads a floating-point vector from an  unaligned memory address&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_loadu_si256&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Loads an integer vector from an unaligned memory address&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm_maskload_ps/pd&lt;/code&gt; &lt;code&gt;_mm256_maskload_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Load portions of a 128-bit&amp;#x2F;256-bit floating-point vector according to a mask&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm_maskload_epi32/64&lt;/code&gt; &lt;code&gt;(2)_mm256_maskload_epi32/64&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Load portions of a 128-bit&amp;#x2F;256-bit integer vector according to a mask&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;å½“å°†æ•°æ®åŠ è½½åˆ°å‘é‡ä¸­æ—¶ï¼Œå†…å­˜å¯¹é½å˜å¾—ç‰¹åˆ«é‡è¦ã€‚æ¯ä¸ª&lt;strong&gt;_mm256_load_&lt;/strong&gt;* intrinsicæ¥å—ä¸€ä¸ªå¿…é¡»åœ¨32å­—èŠ‚è¾¹ç•Œä¸Šå¯¹é½çš„å†…å­˜åœ°å€ã€‚å³åœ°å€å¿…é¡»èƒ½è¢«32æ•´é™¤ã€‚ä¸‹é¢çš„ä»£ç å±•ç¤ºäº†å¦‚ä½•åœ¨å®è·µä¸­ä½¿ç”¨å®ƒ:&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;* aligned_floats = (&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;*)&lt;span class=&#34;hljs-built_in&#34;&gt;aligned_alloc&lt;/span&gt;(&lt;span class=&#34;hljs-number&#34;&gt;32&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;64&lt;/span&gt; * &lt;span class=&#34;hljs-built_in&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;sizeof&lt;/span&gt;&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;));		&lt;span class=&#34;hljs-comment&#34;&gt;//è¿™é‡Œä½¿ç”¨äº†å†…å­˜å¯¹é½&lt;/span&gt;&lt;br&gt;... Initialize data ...&lt;br&gt;__m256 vec = _mm256_load_ps(aligned_floats);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ã€ä¸ªäººè¡¥å……ã€‘å…³äºå†…å­˜å¯¹é½ä»¥åŠç›¸å…³å‡½æ•°&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://xingyuanjie.top/2022/06/12/%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/&#34;&gt;å†…å­˜å¯¹é½ - Amicoyuan (xingyuanjie.top)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://xingyuanjie.top/2022/06/12/AVX%E5%90%91%E9%87%8F%E5%8C%96%E5%AD%A6%E4%B9%A0(%E4%BA%8C)-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90%E7%9A%84%E5%BA%94%E7%94%A8/&#34;&gt;AVXå‘é‡åŒ–å­¦ä¹ (äºŒ)-å†…å­˜å¯¹é½çš„åº”ç”¨ - Amicoyuan (xingyuanjie.top)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»»ä½•ä½¿ç”¨_m256_load_*åŠ è½½æœªå¯¹é½æ•°æ®çš„å°è¯•éƒ½ä¼šé€ æˆ&lt;strong&gt;segmentation fault&lt;/strong&gt;ã€‚å¦‚æœæ•°æ®ä¸æ˜¯ä»¥32ä½è¾¹ç•Œå¯¹é½ï¼Œåˆ™åº”è¯¥ä½¿ç”¨_m256_loadu_*å‡½æ•°ã€‚å¦‚ä¸‹ä»£ç æ‰€ç¤º:&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;* unaligned_floats = (&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;*)&lt;span class=&#34;hljs-built_in&#34;&gt;malloc&lt;/span&gt;(&lt;span class=&#34;hljs-number&#34;&gt;64&lt;/span&gt; * &lt;span class=&#34;hljs-built_in&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;sizeof&lt;/span&gt;&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;));				&lt;span class=&#34;hljs-comment&#34;&gt;//æœªä½¿ç”¨å†…å­˜å¯¹é½&lt;/span&gt;&lt;br&gt;... Initialize data ...&lt;br&gt;__m256 vec = _mm256_loadu_ps(unaligned_floats);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å‡è®¾ä½ æƒ³ç”¨AVXå‘é‡å¤„ç†ä¸€ä¸ªæµ®ç‚¹æ•°ç»„(float)ï¼Œä½†æ˜¯æ•°ç»„çš„é•¿åº¦æ˜¯11ï¼Œä¸èƒ½è¢«8æ•´é™¤ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç¬¬äºŒä¸ª__m256å‘é‡çš„æœ€åäº”ä¸ªæµ®ç‚¹æ•°éœ€è¦è®¾ç½®ä¸º0[æˆ–è€…ä½¿ç”¨éå‘é‡è®¡ç®—æ‰‹æ®µ]ï¼Œè¿™æ ·å®ƒä»¬å°±ä¸ä¼šå½±å“è®¡ç®—ã€‚è¿™ç§é€‰æ‹©æ€§åŠ è½½å¯ä»¥ç”¨è¡¨3åº•éƒ¨çš„**_maskload_**å‡½æ•°æ¥å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸ª_maskload_å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°:ä¸€ä¸ªå†…å­˜åœ°å€å’Œä¸€ä¸ªä¸è¿”å›å‘é‡å…ƒç´ æ•°é‡ç›¸åŒçš„æ•´æ•°å‘é‡ã€‚å¯¹äºæ•´æ•°å‘é‡ä¸­æœ€é«˜ä½ä¸º1çš„æ¯ä¸ªå…ƒç´ ï¼Œå°†ä»å†…å­˜ä¸­è¯»å–è¿”å›å‘é‡ä¸­ç›¸åº”çš„å…ƒç´ ã€‚å¦‚æœæ•´æ•°å‘é‡ä¸­çš„æœ€é«˜ä½ä¸ºé›¶ï¼Œåˆ™è¿”å›å‘é‡ä¸­çš„ç›¸åº”å…ƒç´ è¢«è®¾ç½®ä¸ºé›¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªç¤ºä¾‹å°†è¯´æ˜å¦‚ä½•ä½¿ç”¨è¿™äº›å‡½æ•°ã€‚mask_load.cä¸­çš„ä»£ç å°†8ä¸ªæ•´å‹è¯»å…¥ä¸€ä¸ªå‘é‡ï¼Œæœ€å3ä¸ªåº”è¯¥è®¾ç½®ä¸º0ã€‚è¦ä½¿ç”¨çš„å‡½æ•°æ˜¯_mm256_maskload_epi32ï¼Œå®ƒçš„ç¬¬äºŒä¸ªå‚æ•°åº”è¯¥æ˜¯__m256iæ©ç å‘é‡ã€‚è¿™ä¸ªæ©ç å‘é‡åŒ…å«5ä¸ªæœ€é«˜ä½ä¸º1çš„æ•´æ•°å’Œ3ä¸ªæœ€é«˜ä½ä¸º0çš„æ•´æ•°ã€‚ä¸‹é¢æ˜¯ä»£ç çš„æ ·å­:&lt;/p&gt;
&lt;p&gt;ã€intå‹åœ¨è®¡ç®—æœºçš„å­˜å‚¨æ˜¯è¡¥ç ï¼Œæ­£æ•°çš„è¡¥ç æœ€é«˜ä½ä¸º0ï¼Œæ‰€ä»¥è¿™é‡Œè¿”å›0ï¼Œè´Ÿæ•°çš„è¡¥ç æœ€é«˜ä½ä¸º1ï¼Œæ‰€ä»¥è¿™é‡Œè¿”å›çš„æ˜¯å†…å­˜ä¸­ç›¸åº”çš„å…ƒç´ ã€‘&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;hljs-meta-string&#34;&gt;&amp;lt;immintrin.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;hljs-meta-string&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;br&gt;&lt;br&gt;  &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i;&lt;br&gt;  &lt;br&gt;  &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; int_array[&lt;span class=&#34;hljs-number&#34;&gt;8&lt;/span&gt;] = &amp;#123;&lt;span class=&#34;hljs-number&#34;&gt;100&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;200&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;300&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;400&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;500&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;600&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;700&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;800&lt;/span&gt;&amp;#125;;&lt;br&gt;  &lt;br&gt;  &lt;span class=&#34;hljs-comment&#34;&gt;/* Initialize the mask vector */&lt;/span&gt;&lt;br&gt;  __m256i mask = _mm256_setr_epi32(&lt;span class=&#34;hljs-number&#34;&gt;-20&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;-72&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;-48&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;-9&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;-100&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;5&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;8&lt;/span&gt;);	&lt;span class=&#34;hljs-comment&#34;&gt;//è¿™é‡Œéœ€è¦å……åˆ†ç†è§£è®¡ç®—æœºç»„æˆåŸç†ä¸­çš„è¡¥ç &lt;/span&gt;&lt;br&gt;&lt;br&gt;  &lt;span class=&#34;hljs-comment&#34;&gt;/* Selectively load data into the vector */&lt;/span&gt;&lt;br&gt;  __m256i result = _mm256_maskload_epi32(int_array, mask);&lt;br&gt;  &lt;br&gt;  &lt;span class=&#34;hljs-comment&#34;&gt;/* Display the elements of the result vector */&lt;/span&gt;&lt;br&gt;  &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;* res = (&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;*)&amp;amp;result;&lt;br&gt;  &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;%d %d %d %d %d %d %d %d\n&amp;quot;&lt;/span&gt;, &lt;br&gt;    res[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;], res[&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;], res[&lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;], res[&lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt;], res[&lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt;], res[&lt;span class=&#34;hljs-number&#34;&gt;5&lt;/span&gt;], res[&lt;span class=&#34;hljs-number&#34;&gt;6&lt;/span&gt;], res[&lt;span class=&#34;hljs-number&#34;&gt;7&lt;/span&gt;]);&lt;br&gt;  &lt;br&gt;  &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å¦‚æœæ‚¨åœ¨æ”¯æŒAVX2çš„ç³»ç»Ÿä¸Šè¿è¡Œæ­¤åº”ç”¨ç¨‹åºï¼Œå®ƒå°†æ‰“å°ä»¥ä¸‹ç»“æœ:&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-number&#34;&gt;100&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;200&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;300&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;400&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;500&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;æœ‰ä¸‰ç‚¹æ˜¯éœ€è¦æ³¨æ„çš„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»£ç ä½¿ç”¨_setr_å‡½æ•°è€Œä¸æ˜¯_set_æ¥è®¾ç½®æ©ç å‘é‡çš„å†…å®¹ï¼Œå› ä¸ºå®ƒåœ¨å°†å‘é‡å…ƒç´ ä¼ é€’ç»™å‡½æ•°æ—¶å¯¹å®ƒä»¬è¿›è¡Œæ’åºã€‚&lt;/li&gt;
&lt;li&gt;è´Ÿæ•´æ•°çš„æœ€é«˜ä½æ€»æ˜¯1ã€‚è¿™å°±æ˜¯æ©ç å‘é‡åŒ…å«äº”ä¸ªè´Ÿæ•°å’Œä¸‰ä¸ªæ­£æ•°çš„åŸå› ã€‚&lt;/li&gt;
&lt;li&gt;_mm256_maskload_epi32å‡½æ•°ç”±AVX2æä¾›ï¼Œè€Œä¸æ˜¯AVXã€‚å› æ­¤ï¼Œè¦ç”¨gccç¼–è¯‘è¿™æ®µä»£ç ï¼Œå¿…é¡»ä½¿ç”¨-mavx2æ ‡å¿—è€Œä¸æ˜¯-mavxã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é™¤äº†è¡¨3ä¸­åˆ—å‡ºçš„å‡½æ•°ä¹‹å¤–ï¼ŒAVX2è¿˜æä¾›äº†ä»å†…å­˜åŠ è½½ç´¢å¼•æ•°æ®çš„é›†åˆå‡½æ•°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;6-Arithmetic-Intrinsics&#34;&gt;&lt;a href=&#34;#6-Arithmetic-Intrinsics&#34; class=&#34;headerlink&#34; title=&#34;6.Arithmetic Intrinsics&#34;&gt;&lt;/a&gt;6.Arithmetic Intrinsics&lt;/h2&gt;&lt;p&gt;æ•°å­¦æ˜¯AVXå­˜åœ¨çš„ä¸»è¦åŸå› ï¼ŒåŸºæœ¬æ“ä½œæ˜¯åŠ ã€å‡ã€ä¹˜å’Œé™¤ã€‚æœ¬èŠ‚å°†ä»‹ç»æ‰§è¡Œè¿™äº›æ“ä½œçš„intrinsic funtionsï¼Œè¿˜å°†ä»‹ç»AVX2æä¾›çš„æ–°çš„èåˆä¹˜æ³•å’ŒåŠ æ³•å‡½æ•°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;6-1åŠ æ³•å’Œå‡æ³•&#34;&gt;&lt;a href=&#34;#6-1åŠ æ³•å’Œå‡æ³•&#34; class=&#34;headerlink&#34; title=&#34;6.1åŠ æ³•å’Œå‡æ³•&#34;&gt;&lt;/a&gt;6.1åŠ æ³•å’Œå‡æ³•&lt;/h3&gt;&lt;p&gt;è¡¨4åˆ—å‡ºäº†æ‰§è¡ŒåŠ æ³•å’Œå‡æ³•çš„AVX&amp;#x2F;AVX2 intrinsicã€‚ç”±äºè€ƒè™‘åˆ°é¥±å’Œåº¦ï¼Œå®ƒä»¬å¤§å¤šæ•°éƒ½ä½œç”¨äºåŒ…å«æ•´æ•°çš„å‘é‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Table 4: Addition and Subtraction Intrinsics&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Data Type&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_add_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Add two floating-point vectors&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_sub_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Subtract two floating-point vectors&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm256_add_epi8/16/32/64 &lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Add two integer vectors&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm236_sub_epi8/16/32/64&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Subtract two integer vectors&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm256_adds_epi8/16&lt;/code&gt; &lt;code&gt;(2)_mm256_adds_epu8/16 &lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Add two integer vectors with saturation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm256_subs_epi8/16&lt;/code&gt; &lt;code&gt;(2)_mm256_subs_epu8/16&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Subtract two integer vectors with saturation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_hadd_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Add two floating-point vectors horizontally&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_hsub_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Subtract two floating-point vectors horizontally&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm256_hadd_epi16/32&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Add two integer vectors horizontally&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm256_hsub_epi16/32&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Subtract two integer vectors horizontally&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm256_hadds_epi16&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Add two vectors containing shorts horizontally with saturation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm256_hsubs_epi16&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Subtract two vectors containing shorts horizontally with saturation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_addsub_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Add and subtract two floating-point vectors&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;åŠ æ³•å’Œå‡æ³•æ•´æ•°å‘é‡æ—¶ï¼Œé‡è¦çš„æ˜¯è¦æŸ¥çœ‹_add_&amp;#x2F;_sub_å‡½æ•°å’Œ_adds_&amp;#x2F;_subs_å‡½æ•°ä¹‹é—´çš„åŒºåˆ«ã€‚é¢å¤–çš„sä»£è¡¨é¥±å’Œï¼Œå½“ç»“æœéœ€è¦çš„å†…å­˜è¶…è¿‡å‘é‡å¯ä»¥å­˜å‚¨çš„å†…å­˜æ—¶ï¼Œå°±ä¼šäº§ç”Ÿé¥±å’Œã€‚Functions that take saturation into account clamp the result to the minimum&amp;#x2F;maximum value that can be stored.æ²¡æœ‰é¥±å’Œçš„å‡½æ•°åœ¨å‘ç”Ÿé¥±å’Œæ—¶å¿½ç•¥å†…å­˜é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå‡è®¾ä¸€ä¸ªå‘é‡åŒ…å«æœ‰ç¬¦å·å­—èŠ‚ï¼Œé‚£ä¹ˆæ¯ä¸ªå…ƒç´ çš„æœ€å¤§å€¼æ˜¯127 (0x7F)ã€‚å¦‚æœä¸€ä¸ªè¿ç®—å°†98åŠ åˆ°85ï¼Œæ•°å­¦å’Œæ˜¯183 (0xB7)ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœä½¿ç”¨_mm256_add_epi8æ·»åŠ è¿™äº›å€¼ï¼Œé¥±å’Œåº¦å°†è¢«å¿½ç•¥ï¼Œå­˜å‚¨çš„ç»“æœå°†æ˜¯-73 (0xB7)ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä½¿ç”¨_mm256_adds_epi8æ·»åŠ è¿™äº›å€¼ï¼Œç»“æœå°†è¢«å›ºå®šä¸ºæœ€å¤§å€¼127 (0x7F)ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½œä¸ºå¦ä¸€ä¸ªä¾‹å­ï¼Œè€ƒè™‘ä¸¤ä¸ªåŒ…å«æœ‰ç¬¦å·çŸ­æ•´æ•°çš„å‘é‡ã€‚æœ€å°å€¼ä¸º-32,768ã€‚å¦‚æœè®¡ç®—-18,000 - 19,000ï¼Œæ•°å­¦ç»“æœæ˜¯-37,000 (0xFFFF6F78ä½œä¸º32ä½æ•´æ•°)ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœç”¨_mm256_sub_epi16å‡å»è¿™äº›å€¼ï¼Œé¥±å’Œåº¦å°†è¢«å¿½ç•¥ï¼Œå­˜å‚¨çš„ç»“æœå°†æ˜¯28,536 (0x6F78)ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœç”¨_mm256_subs_epi16å‡å»è¿™äº›å€¼ï¼Œç»“æœå°†è¢«å‹ç¼©åˆ°æœ€å°å€¼-32,768 (0x8000)ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;_hadd_&amp;#x2F;_hsub_å‡½æ•°æ°´å¹³æ‰§è¡ŒåŠ æ³•å’Œå‡æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬ä¸æ˜¯æ·»åŠ æˆ–å‡å»ä¸åŒå‘é‡çš„å…ƒç´ ï¼Œè€Œæ˜¯åœ¨æ¯ä¸ªå‘é‡ä¸­æ·»åŠ æˆ–å‡å»&lt;strong&gt;ç›¸é‚»&lt;/strong&gt;çš„å…ƒç´ ã€‚ç»“æœä»¥äº¤é”™çš„æ–¹å¼å­˜å‚¨ã€‚å›¾1æ˜¾ç¤ºäº†_mm256_hadd_pdçš„å·¥ä½œåŸç†ï¼Œå®ƒæ°´å¹³åœ°æ·»åŠ äº†ä¸¤ä¸ªå‘é‡Aå’ŒB:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/10/avx006/Fig1.jpg&#34; alt=&#34;Image 1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Figure 1: Horizontal Addition of Two Vectors&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ°´å¹³åŠ å‡å…ƒç´ çœ‹èµ·æ¥å¯èƒ½å¾ˆå¥‡æ€ªï¼Œä½†è¿™äº›æ“ä½œåœ¨å¤æ•°ç›¸ä¹˜æ—¶å¾ˆæœ‰ç”¨ã€‚æœ¬æ–‡ç¨åå°†å¯¹æ­¤è¿›è¡Œè§£é‡Šã€‚è¡¨4ä¸­çš„æœ€åä¸€ä¸ªå‡½æ•°_mm256_addsub_ps&amp;#x2F;pdäº¤æ›¿å‡æ³•å’ŒåŠ æ³•ä¸¤ä¸ªæµ®ç‚¹å‘é‡çš„å…ƒç´ ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¶æ•°å…ƒç´ è¢«å‡å»ï¼Œå¥‡æ•°å…ƒç´ è¢«åŠ ä¸Šã€‚ä¾‹å¦‚ï¼Œå¦‚æœvec_aåŒ…å«(0.1,0.2,0.3,0.4)ï¼Œvec_båŒ…å«(0.5,0.6,0.7,0.8)ï¼Œåˆ™_mm256_addsub_pd(vec_a, vec_b)ç­‰äº(-0.4,0.8ï¼Œ-0.4,1.2)ã€éœ€è¦æ³¨æ„æ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹ã€‘ã€‚&lt;/p&gt;
&lt;h3 id=&#34;6-2ä¹˜æ³•å’Œé™¤æ³•&#34;&gt;&lt;a href=&#34;#6-2ä¹˜æ³•å’Œé™¤æ³•&#34; class=&#34;headerlink&#34; title=&#34;6.2ä¹˜æ³•å’Œé™¤æ³•&#34;&gt;&lt;/a&gt;6.2ä¹˜æ³•å’Œé™¤æ³•&lt;/h3&gt;&lt;p&gt;è¡¨5åˆ—å‡ºäº†æ‰§è¡Œä¹˜æ³•å’Œé™¤æ³•çš„AVX&amp;#x2F;AVX2 intrinsicã€‚ä¸åŠ æ³•å’Œå‡æ³•ä¸€æ ·ï¼Œå¯¹æ•´æ•°è¿›è¡Œè¿ç®—ä¹Ÿæœ‰ä¸€äº›ç‰¹æ®Šçš„ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Table 5: Multiplication and Division Intrinsics&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Data Type&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_mul_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Multiply two floating-point vectors&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm256_mul_epi32/&lt;/code&gt; &lt;code&gt;(2)_mm256_mul_epu32 &lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Multiply the lowest four elements of vectors containing 32-bit integers&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm256_mullo_epi16/32&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Multiply integers and store low halves&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm256_mulhi_epi16/&lt;/code&gt; &lt;code&gt;(2)_mm256_mulhi_epu16&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Multiply integers and store high halves&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm256_mulhrs_epi16&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Multiply 16-bit elements to form 32-bit elements&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_div_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Divide two floating-point vectors&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;å¦‚æœä¸¤ä¸ªNä½çš„æ•°å­—åœ¨è®¡ç®—æœºä¸Šç›¸ä¹˜ï¼Œç»“æœå¯ä»¥å ç”¨2Nä½ã€è¿™é‡Œä½ éœ€è¦ç†Ÿæ‚‰è®¡ç®—æœºç»„æˆåŸç†ä¸­çš„ä¹˜æ³•åŸç†ï¼ŒåŒæ—¶æ€è€ƒä¼šä¸ä¼šåœ¨æŸäº›å‡½æ•°å‡ºç°ç²¾åº¦æŸå¤±çš„æƒ…å†µã€‘ã€‚å› æ­¤ï¼Œåªæœ‰_mm256_mul_epi32å’Œ_mm256_mul_epu32çš„å››ä¸ªä½å…ƒç´ è¢«ä¹˜åœ¨ä¸€èµ·ï¼Œç»“æœæ˜¯ä¸€ä¸ªåŒ…å«å››ä¸ªé•¿æ•´æ•°çš„å‘é‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;___m256i _mm256_mul_epi32 (m256i a, __m256i b)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Description&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Multiply the low signed 32-bit integers from each packed 64-bit element in a and b, and store the signed 64-bit results in dst.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Operation&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight apache&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs apache&#34;&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;FOR&lt;/span&gt; j := &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt; to &lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt; &lt;br&gt;	&lt;span class=&#34;hljs-attribute&#34;&gt;i&lt;/span&gt; := j*&lt;span class=&#34;hljs-number&#34;&gt;64&lt;/span&gt; &lt;br&gt;	&lt;span class=&#34;hljs-attribute&#34;&gt;dst&lt;/span&gt;[i+&lt;span class=&#34;hljs-number&#34;&gt;63&lt;/span&gt;:i] := SignExtend&lt;span class=&#34;hljs-number&#34;&gt;64&lt;/span&gt;(a[i+&lt;span class=&#34;hljs-number&#34;&gt;31&lt;/span&gt;:i]) * SignExtend&lt;span class=&#34;hljs-number&#34;&gt;64&lt;/span&gt;(b[i+&lt;span class=&#34;hljs-number&#34;&gt;31&lt;/span&gt;:i]) &lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;ENDFOR&lt;/span&gt; &lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;dst&lt;/span&gt;[MAX:&lt;span class=&#34;hljs-number&#34;&gt;256&lt;/span&gt;] := &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;å›¾2:æ•´æ•°å‘é‡çš„ä½å…ƒç´ ç›¸ä¹˜&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;_mullo_å‡½æ•°ç±»ä¼¼äºæ•´æ•°_mul_å‡½æ•°ï¼Œä½†å®ƒä»¬ä¸æ˜¯ä¹˜ä½å…ƒç´ ï¼Œè€Œæ˜¯ä¹˜ä¸¤ä¸ªå‘é‡çš„æ¯ä¸ªå…ƒç´ ï¼Œåªå­˜å‚¨æ¯ä¸ªä¹˜ç§¯çš„ä½ä¸€åŠã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Synopsis&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;m256i _mm256_mullo_epi32 (m256i a, __m256i b)&lt;/strong&gt;&lt;br&gt;#include &amp;lt;immintrin.h&amp;gt;&lt;br&gt;Instruction: vpmulld ymm, ymm, ymm&lt;br&gt;CPUID Flags: AVX2&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Description&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Multiply the packed signed 32-bit integers in a and b, producing intermediate 64-bit integers, and store the low 32 bits of the intermediate integers in dst.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Operation&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight apache&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs apache&#34;&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;FOR&lt;/span&gt; j := &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt; to &lt;span class=&#34;hljs-number&#34;&gt;7&lt;/span&gt; &lt;br&gt;		&lt;span class=&#34;hljs-attribute&#34;&gt;i&lt;/span&gt; := j*&lt;span class=&#34;hljs-number&#34;&gt;32&lt;/span&gt; &lt;br&gt;		&lt;span class=&#34;hljs-attribute&#34;&gt;tmp&lt;/span&gt;[&lt;span class=&#34;hljs-number&#34;&gt;63&lt;/span&gt;:&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;] := a[i+&lt;span class=&#34;hljs-number&#34;&gt;31&lt;/span&gt;:i] * b[i+&lt;span class=&#34;hljs-number&#34;&gt;31&lt;/span&gt;:i] &lt;br&gt;		&lt;span class=&#34;hljs-attribute&#34;&gt;dst&lt;/span&gt;[i+&lt;span class=&#34;hljs-number&#34;&gt;31&lt;/span&gt;:i] := tmp[&lt;span class=&#34;hljs-number&#34;&gt;31&lt;/span&gt;:&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;] &lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;ENDFOR&lt;/span&gt; &lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;dst&lt;/span&gt;[MAX:&lt;span class=&#34;hljs-number&#34;&gt;256&lt;/span&gt;] := &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;å›¾3:æ•´æ•°ç›¸ä¹˜å’Œå­˜å‚¨ä½äºŒåˆ†ä¹‹ä¸€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;_mm256_mulhi_epi16å’Œ_mm256_mulhi_epu16 intrinsicsç±»ä¼¼ï¼Œä½†æ˜¯å®ƒä»¬å­˜å‚¨æ•´æ•°ç§¯çš„é«˜ä¸€åŠã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Synopsis&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;m256i _mm256_mulhi_epi16 (m256i a, __m256i b)&lt;/strong&gt;&lt;br&gt;#include &amp;lt;immintrin.h&amp;gt;&lt;br&gt;Instruction: vpmulhw ymm, ymm, ymm&lt;br&gt;CPUID Flags: AVX2&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Description&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Multiply the packed signed 16-bit integers in a and b, producing intermediate 32-bit integers, and store the high 16 bits of the intermediate integers in dst.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Operation&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight apache&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs apache&#34;&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;FOR&lt;/span&gt; j := &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt; to &lt;span class=&#34;hljs-number&#34;&gt;15&lt;/span&gt; &lt;br&gt;	&lt;span class=&#34;hljs-attribute&#34;&gt;i&lt;/span&gt; := j*&lt;span class=&#34;hljs-number&#34;&gt;16&lt;/span&gt; &lt;br&gt;	&lt;span class=&#34;hljs-attribute&#34;&gt;tmp&lt;/span&gt;[&lt;span class=&#34;hljs-number&#34;&gt;31&lt;/span&gt;:&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;] := SignExtend&lt;span class=&#34;hljs-number&#34;&gt;32&lt;/span&gt;(a[i+&lt;span class=&#34;hljs-number&#34;&gt;15&lt;/span&gt;:i]) * SignExtend&lt;span class=&#34;hljs-number&#34;&gt;32&lt;/span&gt;(b[i+&lt;span class=&#34;hljs-number&#34;&gt;15&lt;/span&gt;:i]) 		   	   dst[i+&lt;span class=&#34;hljs-number&#34;&gt;15&lt;/span&gt;:i] := tmp[&lt;span class=&#34;hljs-number&#34;&gt;31&lt;/span&gt;:&lt;span class=&#34;hljs-number&#34;&gt;16&lt;/span&gt;] &lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;ENDFOR&lt;/span&gt; &lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;dst&lt;/span&gt;[MAX:&lt;span class=&#34;hljs-number&#34;&gt;256&lt;/span&gt;] := &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;h3 id=&#34;6-3Fused-Multiply-and-Add-FMA&#34;&gt;&lt;a href=&#34;#6-3Fused-Multiply-and-Add-FMA&#34; class=&#34;headerlink&#34; title=&#34;6.3Fused Multiply and Add (FMA)&#34;&gt;&lt;/a&gt;6.3Fused Multiply and Add (FMA)&lt;/h3&gt;&lt;p&gt;å¦‚å‰æ‰€è¿°ï¼Œä¸¤ä¸ªNä½æ•°å­—ç›¸ä¹˜çš„ç»“æœå¯ä»¥å ç”¨2Nä½ã€‚å› æ­¤ï¼Œå½“æ‚¨å°†ä¸¤ä¸ªæµ®ç‚¹å€¼aå’Œbç›¸ä¹˜æ—¶ï¼Œç»“æœå®é™…ä¸Šæ˜¯å››èˆäº”å…¥(a * b)ï¼Œå…¶ä¸­å››èˆäº”å…¥(x)è¿”å›æœ€æ¥è¿‘xçš„æµ®ç‚¹å€¼ã€‚éšç€è¿›ä¸€æ­¥æ“ä½œçš„æ‰§è¡Œï¼Œè¿™ç§ç²¾åº¦æŸå¤±ä¼šå¢åŠ ã€‚ã€è¿™é‡Œéœ€è¦æ³¨æ„åˆ†éƒ¨ä¹˜åŠ ï¼Œå…ˆä¹˜æ³•ååŠ æ³•å’Œä½¿ç”¨FMAä¸¤è€…çš„è®¡ç®—ç²¾åº¦ã€‘&lt;/p&gt;
&lt;p&gt;AVX2æä¾›äº†å°†ä¹˜æ³•å’ŒåŠ æ³•èåˆåœ¨ä¸€èµ·çš„æŒ‡ä»¤ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬ä¸æ˜¯è¿”å›æ•´æ•°(æ•´æ•°(a * b) + c)ï¼Œè€Œæ˜¯è¿”å›æ•´æ•°(a * b + c)ã€‚å› æ­¤ï¼Œè¿™äº›æŒ‡ä»¤æ¯”åˆ†åˆ«æ‰§è¡Œä¹˜æ³•å’ŒåŠ æ³•æä¾›äº†æ›´é«˜çš„é€Ÿåº¦å’Œå‡†ç¡®æ€§ã€è¿™é‡Œæ­£æ˜¯FMAçš„ç‰¹ç‚¹ã€‘ã€‚&lt;/p&gt;
&lt;p&gt;è¡¨6åˆ—å‡ºäº†AVX2æä¾›çš„FMA intrinsicï¼Œå¹¶åŒ…æ‹¬å¯¹æ¯ä¸ªå‡½æ•°çš„æè¿°ã€‚è¡¨ä¸­çš„æ¯æ¡æŒ‡ä»¤éƒ½æ¥å—ä¸‰ä¸ªè¾“å…¥å‘é‡ï¼Œæˆ‘æŠŠå®ƒä»¬åˆ†åˆ«ç§°ä¸ºaã€bå’Œcã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Table 6: FMA Intrinsics&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Data Type&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm_fmadd_ps/pd/&lt;/code&gt; &lt;code&gt;(2)_mm256_fmadd_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Multiply two vectors and add the product to a third (res &amp;#x3D; a * b + c)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm_fmsub_ps/pd/&lt;/code&gt; &lt;code&gt;(2)_mm256_fmsub_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Multiply two vectors and subtract a vector from the product (res &amp;#x3D; a * b - c)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm_fmadd_ss/sd &lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Multiply and add the lowest element in the vectors (res[0] &amp;#x3D; a[0] * b[0] + c[0])&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm_fmsub_ss/sd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Multiply and subtract the lowest element in the vectors (res[0] &amp;#x3D; a[0] * b[0] - c[0])&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm_fnmadd_ps/pd&lt;/code&gt; &lt;code&gt;(2)_mm256_fnmadd_ps/pd &lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Multiply two vectors and add the negated product to a third (res &amp;#x3D; -(a * b) + c)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm_fnmsub_ps/pd/&lt;/code&gt; &lt;code&gt;(2)_mm256_fnmsub_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Multiply two vectors and add the negated product to a third (res &amp;#x3D; -(a * b) - c)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm_fnmadd_ss/sd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Multiply the two lowest elements and add the negated product to the lowest element of the third vector (res[0] &amp;#x3D; -(a[0] * b[0]) + c[0])&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm_fnmsub_ss/sd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Multiply the lowest elements and subtract the lowest element of the third vector from the negated product (res[0] &amp;#x3D; -(a[0] * b[0]) - c[0])&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm_fmaddsub_ps/pd/&lt;/code&gt; &lt;code&gt;(2)_mm256_fmaddsub_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Multiply two vectors and alternately add and subtract from the product (res &amp;#x3D; a * b - c)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm_fmsubadd_ps/pd/&lt;/code&gt; &lt;code&gt;(2)_mmf256_fmsubadd_ps/pd &lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Multiply two vectors and alternately subtract and add from the product (res &amp;#x3D; a * b - c)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ªå†…å¾çš„åç§°ä»¥_psæˆ–_pdç»“å°¾ï¼Œåˆ™è¾“å…¥å‘é‡çš„æ¯ä¸ªå…ƒç´ éƒ½åŒ…å«åœ¨è¿ç®—ä¸­ã€‚å¦‚æœintrinsicçš„åç§°ä»¥_ssæˆ–_sdç»“å°¾ï¼Œåˆ™åªåŒ…æ‹¬æœ€ä½çš„å…ƒç´ ã€‚è¾“å‡ºå‘é‡ä¸­çš„å…¶ä½™å…ƒç´ è¢«è®¾ç½®ä¸ºä¸ç¬¬ä¸€ä¸ªè¾“å…¥å‘é‡ä¸­çš„å…ƒç´ ç›¸ç­‰ã€‚ä¾‹å¦‚,å‡è®¾vec_a &amp;#x3D; (1.0, 2.0)ï¼Œ vec_b &amp;#x3D; (5.0, 10.0)ï¼Œ vec_c &amp;#x3D;(7.0, 14.0)ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œ_mm_fmadd_sd(vec_a, vec_b, vec_c)è¿”å›(12.0,2.0)ï¼Œå› ä¸º(1.0 * 5.0)+ 7.0 &amp;#x3D; 12.0,2.0æ˜¯vec_açš„ç¬¬äºŒä¸ªå…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;äº†è§£_fmadd_&amp;#x2F;_fmsub_å’Œ_fnmadd_&amp;#x2F;_fnmsub_ intrinsicä¹‹é—´çš„åŒºåˆ«å¾ˆé‡è¦ã€‚åä¸€ç§å‡½æ•°åœ¨åŠ ä¸Šæˆ–å‡å»ç¬¬ä¸‰ä¸ªè¾“å…¥å‘é‡ä¹‹å‰ï¼Œå¯¹å‰ä¸¤ä¸ªè¾“å…¥å‘é‡çš„ä¹˜ç§¯æ±‚åã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Synopsis&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;__m256d _mm256_fnmadd_pd (m256d a, m256d b, m256d c)&lt;/strong&gt;&lt;br&gt;#include &amp;lt;immintrin.h&amp;gt;&lt;br&gt;Instruction: vfnmadd132pd ymm, ymm, ymm&lt;br&gt;       vfnmadd213pd ymm, ymm, ymm&lt;br&gt;       vfnmadd231pd ymm, ymm, ymm&lt;br&gt;CPUID Flags: FMA&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Description&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Multiply packed double-precision (64-bit) floating-point elements in a and b, add the negated intermediate result to packed elements in c, and store the results in dst.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Operation&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight apache&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs apache&#34;&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;FOR&lt;/span&gt; j := &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt; to &lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt; &lt;br&gt;		&lt;span class=&#34;hljs-attribute&#34;&gt;i&lt;/span&gt; := j*&lt;span class=&#34;hljs-number&#34;&gt;64&lt;/span&gt; &lt;br&gt;		&lt;span class=&#34;hljs-attribute&#34;&gt;dst&lt;/span&gt;[i+&lt;span class=&#34;hljs-number&#34;&gt;63&lt;/span&gt;:i] := -(a[i+&lt;span class=&#34;hljs-number&#34;&gt;63&lt;/span&gt;:i] * b[i+&lt;span class=&#34;hljs-number&#34;&gt;63&lt;/span&gt;:i]) + c[i+&lt;span class=&#34;hljs-number&#34;&gt;63&lt;/span&gt;:i] &lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;ENDFOR&lt;/span&gt;	 &lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;dst&lt;/span&gt;[MAX:&lt;span class=&#34;hljs-number&#34;&gt;256&lt;/span&gt;] := &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;_fmaddsub_å’Œ_fmsubadd_å†…åœ¨å‡½æ•°åœ¨ç¬¬ä¸‰ä¸ªå‘é‡çš„åŠ æ³•å’Œå‡æ³•å…ƒç´ ä¹‹é—´äº¤æ›¿ä½¿ç”¨ã€‚_fmaddsub_ intrinsicå¥‡æ•°å…ƒç´ åšåŠ æ³•è€Œå¶æ•°å…ƒç´ åšå‡æ³•ã€‚_fmsubadd_ intrinsicå¥‡æ•°å…ƒç´ åšå‡æ³•è€Œå¶æ•°å…ƒç´ åšåŠ æ³•ã€‚fmatest.cä¸­çš„ä»£ç å±•ç¤ºäº†å¦‚ä½•åœ¨å®è·µä¸­ä½¿ç”¨_mm256_fmaddsub_pd intrinsicã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;hljs-meta-string&#34;&gt;&amp;lt;immintrin.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;hljs-meta-string&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;br&gt;  &lt;br&gt;  __m256d veca = _mm256_setr_pd(&lt;span class=&#34;hljs-number&#34;&gt;6.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;6.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;6.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;6.0&lt;/span&gt;);&lt;br&gt;&lt;br&gt;  __m256d vecb = _mm256_setr_pd(&lt;span class=&#34;hljs-number&#34;&gt;2.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;2.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;2.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;2.0&lt;/span&gt;);&lt;br&gt;  &lt;br&gt;  __m256d vecc = _mm256_setr_pd(&lt;span class=&#34;hljs-number&#34;&gt;7.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;7.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;7.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;7.0&lt;/span&gt;);&lt;br&gt;  &lt;br&gt;  &lt;span class=&#34;hljs-comment&#34;&gt;/* Alternately subtract and add the third vector&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;     from the product of the first and second vectors */&lt;/span&gt;&lt;br&gt;  __m256d result = _mm256_fmaddsub_pd(veca, vecb, vecc);&lt;br&gt;  &lt;br&gt;  &lt;span class=&#34;hljs-comment&#34;&gt;/* Display the elements of the result vector */&lt;/span&gt;&lt;br&gt;  &lt;span class=&#34;hljs-keyword&#34;&gt;double&lt;/span&gt;* res = (&lt;span class=&#34;hljs-keyword&#34;&gt;double&lt;/span&gt;*)&amp;amp;result;&lt;br&gt;  &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;%lf %lf %lf %lf\n&amp;quot;&lt;/span&gt;, res[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;], res[&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;], res[&lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;], res[&lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt;]);&lt;br&gt;  &lt;br&gt;  &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å½“è¿™æ®µä»£ç åœ¨æ”¯æŒAVX2çš„å¤„ç†å™¨ä¸Šç¼–è¯‘å’Œæ‰§è¡Œæ—¶ï¼Œæ‰“å°çš„ç»“æœå¦‚ä¸‹:&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-number&#34;&gt;5.000000&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;19.000000&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;5.000000&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;19.000000&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;FMAæŒ‡ä»¤æ˜¯ç”±AVX2æä¾›çš„ï¼Œå› æ­¤æ‚¨å¯èƒ½è®¤ä¸ºä½¿ç”¨gccæ„å»ºåº”ç”¨ç¨‹åºéœ€è¦ä½¿ç”¨-mavx2æ ‡å¿—ã€‚ä½†æ˜¯æˆ‘å‘ç°-mfmaæ ‡å¿—æ˜¯&lt;strong&gt;å¿…éœ€&lt;/strong&gt;çš„ã€‚å¦åˆ™ï¼Œæˆ‘ä¼šå¾—åˆ°å¥‡æ€ªçš„ç¼–è¯‘é”™è¯¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;7-Permuting-and-Shuffling&#34;&gt;&lt;a href=&#34;#7-Permuting-and-Shuffling&#34; class=&#34;headerlink&#34; title=&#34;7.Permuting and Shuffling&#34;&gt;&lt;/a&gt;7.Permuting and Shuffling&lt;/h2&gt;&lt;p&gt;è®¸å¤šåº”ç”¨ç¨‹åºå¿…é¡»é‡æ–°æ’åˆ—å‘é‡å…ƒç´ ï¼Œä»¥ç¡®ä¿æ­£ç¡®æ‰§è¡Œæ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;AVX&amp;#x2F;AVX2ä¸ºæ­¤ç›®çš„æä¾›äº†è®¸å¤šintrinsic funtionï¼Œå…¶ä¸­ä¸¤å¤§ç±»æ˜¯_permute_å‡½æ•°å’Œ_shuffle_å‡½æ•°ã€‚æœ¬èŠ‚ä»‹ç»è¿™ä¸¤ç§ç±»å‹çš„intrinsicã€‚&lt;/p&gt;
&lt;h3 id=&#34;7-1Permuting&#34;&gt;&lt;a href=&#34;#7-1Permuting&#34; class=&#34;headerlink&#34; title=&#34;7.1Permuting&#34;&gt;&lt;/a&gt;7.1Permuting&lt;/h3&gt;&lt;p&gt;AVXæä¾›äº†è¿”å›ä¸€ä¸ªå‘é‡çš„å‡½æ•°ï¼Œè¯¥å‘é‡åŒ…å«ä¸€ä¸ªå‘é‡çš„é‡æ–°æ’åˆ—çš„å…ƒç´ ã€‚è¡¨7åˆ—å‡ºäº†è¿™äº›æ’åˆ—å‡½æ•°ï¼Œå¹¶æä¾›äº†å¯¹æ¯ä¸ªå‡½æ•°çš„æè¿°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Table 7: Permute Intrinsics&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Data Type&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm_permute_ps/pd/&lt;/code&gt; &lt;code&gt;_mm256_permute_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Select elements from the input vector based on an 8-bit control value&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm256_permute4x64_pd/&lt;/code&gt; &lt;code&gt;(2)_mm256_permute4x64_epi64&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Select 64-bit elements from the input vector based on an 8-bit control value&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_permute2f128_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Select 128-bit chunks from two input vectors based on an 8-bit control value&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_permute2f128_si256 &lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Select 128-bit chunks from two input vectors based on an 8-bit control value&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm_permutevar_ps/pd&lt;/code&gt; &lt;code&gt;_mm256_permutevar_ps/pd &lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Select elements from the input vector based on bits in an integer vector&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm256_permutevar8x32_ps&lt;/code&gt;&amp;#x2F; &lt;code&gt;(2)_mm256_permutevar8x32_epi32&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Select 32-bit elements (&lt;code&gt;float&lt;/code&gt;s and &lt;code&gt;int&lt;/code&gt;s) using indices in an integer vector&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;_permute_ intrinsicæ¥å—ä¸¤ä¸ªå‚æ•°:ä¸€ä¸ªè¾“å…¥å‘é‡å’Œä¸€ä¸ª8ä½æ§åˆ¶å€¼ã€‚æ§åˆ¶å€¼çš„ä½å†³å®šè¾“å…¥å‘é‡çš„å“ªä¸ªå…ƒç´ æ’å…¥åˆ°è¾“å‡ºä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº_mm256_permute_psï¼Œæ¯å¯¹æ§åˆ¶ä½é€šè¿‡é€‰æ‹©è¾“å…¥å‘é‡ä¸­çš„ä¸€ä¸ªä¸Šæˆ–ä¸‹å…ƒç´ æ¥ç¡®å®šä¸€ä¸ªä¸Šæˆ–ä¸‹è¾“å‡ºå…ƒç´ ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;hljs-meta-string&#34;&gt;&amp;lt;immintrin.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;hljs-meta-string&#34;&gt;&amp;lt;bits/stdc++.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;using&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;namespace&lt;/span&gt; std;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;br&gt;  &lt;br&gt;  __m128 v1 = _mm_setr_ps(&lt;span class=&#34;hljs-number&#34;&gt;2.3&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;4.1&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;6.2&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;8.4&lt;/span&gt;);&lt;br&gt;  &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; * a =(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;*)&amp;amp;v1;&lt;br&gt;   &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;; i&amp;lt; &lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt; ;i++)&lt;br&gt;   &amp;#123;&lt;br&gt;   	 cout&amp;lt;&amp;lt;a[i]&amp;lt;&amp;lt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot; &amp;quot;&lt;/span&gt;;&lt;br&gt;   &amp;#125;&lt;br&gt;   cout&amp;lt;&amp;lt;endl;&lt;br&gt;   __m128 v2 = _mm_permute_ps (v1, &lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt;);&lt;br&gt;   &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; * b =(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;*)&amp;amp;v2;&lt;br&gt;   &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;; i&amp;lt; &lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt; ;i++)&lt;br&gt;   &amp;#123;&lt;br&gt;   	 cout&amp;lt;&amp;lt;b[i]&amp;lt;&amp;lt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot; &amp;quot;&lt;/span&gt;;&lt;br&gt;   &amp;#125;&lt;br&gt;  &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight apache&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs apache&#34;&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;2&lt;/span&gt;.&lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt;.&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;6&lt;/span&gt;.&lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;8&lt;/span&gt;.&lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;8&lt;/span&gt;.&lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;.&lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;.&lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;.&lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;Figure 4: Operation of the Permute Intrinsic Function&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚å›¾æ‰€ç¤ºï¼Œè¾“å…¥å‘é‡çš„å€¼å¯ä»¥åœ¨è¾“å‡ºä¸­é‡å¤å¤šæ¬¡ã€‚å…¶ä»–è¾“å…¥å€¼å¯èƒ½æ ¹æœ¬ä¸è¢«é€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨_mm256_permute_pdä¸­ï¼Œæ§åˆ¶å€¼çš„ä½å››ä½åœ¨ç›¸é‚»çš„åŒç²¾åº¦æ•°å¯¹ä¹‹é—´è¿›è¡Œé€‰æ‹©ã€‚_mm256_permute4x4_pdç±»ä¼¼ï¼Œä½†ä½¿ç”¨æ‰€æœ‰æ§åˆ¶ä½æ¥é€‰æ‹©å°†å“ªä¸ª64ä½å…ƒç´ æ”¾åœ¨è¾“å‡ºä¸­ã€‚åœ¨_permute2f128_ intrinsicä¸­ï¼Œæ§åˆ¶å€¼ä»ä¸¤ä¸ªè¾“å…¥å‘é‡ä¸­é€‰æ‹©128ä½å—ï¼Œè€Œä¸æ˜¯ä»ä¸€ä¸ªè¾“å…¥å‘é‡ä¸­é€‰æ‹©å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;_permutevar_ intrinsicæ‰§è¡Œä¸_permute_ intrinsicç›¸åŒçš„æ“ä½œã€‚ä½†æ˜¯å®ƒä»¬ä¸æ˜¯ä½¿ç”¨8ä½æ§åˆ¶å€¼æ¥é€‰æ‹©å…ƒç´ ï¼Œè€Œæ˜¯ä¾èµ–äºä¸è¾“å…¥å‘é‡å¤§å°ç›¸åŒçš„æ•´æ•°å‘é‡ã€‚ä¾‹å¦‚ï¼Œ_mm256_permute_psçš„è¾“å…¥å‘é‡æ˜¯_mm256ï¼Œå› æ­¤æ•´æ•°å‘é‡æ˜¯_mm256iã€‚æ•´æ•°å‘é‡çš„é«˜ä½æ‰§è¡Œé€‰æ‹©çš„æ–¹å¼ä¸_permute_ intrinsicçš„8ä½æ§åˆ¶å€¼çš„ä½ç›¸åŒã€‚&lt;/p&gt;
&lt;h3 id=&#34;7-2Shuffling&#34;&gt;&lt;a href=&#34;#7-2Shuffling&#34; class=&#34;headerlink&#34; title=&#34;7.2Shuffling&#34;&gt;&lt;/a&gt;7.2Shuffling&lt;/h3&gt;&lt;p&gt;åƒ_permute_ intrinsicä¸€æ ·ï¼Œ_shuffle_ intrinsicä»ä¸€ä¸ªæˆ–ä¸¤ä¸ªè¾“å…¥å‘é‡ä¸­é€‰æ‹©å…ƒç´ ï¼Œå¹¶å°†å®ƒä»¬æ”¾åœ¨è¾“å‡ºå‘é‡ä¸­ã€‚è¡¨8åˆ—å‡ºäº†è¿™äº›åŠŸèƒ½ï¼Œå¹¶æä¾›äº†æ¯ä¸ªåŠŸèƒ½çš„æè¿°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Table 8: Shuffle Intrinsics&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Data Type&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_shuffle_ps/pd&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Select floating-point elements according to an 8-bit value&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;_mm256_shuffle_epi8/&lt;/code&gt; &lt;code&gt;_mm256_shuffle_epi32&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Select integer elements according to an 8-bit value&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;(2)_mm256_shufflelo_epi16/ &lt;/code&gt; &lt;code&gt;(2)_mm256_shufflehi_epi16&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Select 128-bit chunks from two input vectors based on an 8-bit control value&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;æ‰€æœ‰çš„shuffle_ intrinsicè¿ç®—äº256ä½å‘é‡ã€‚åœ¨æ¯ç§æƒ…å†µä¸‹ï¼Œæœ€åä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª8ä½çš„å€¼ï¼Œå®ƒå†³å®šå“ªäº›è¾“å…¥å…ƒç´ åº”è¯¥æ”¾åœ¨è¾“å‡ºå‘é‡ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº_mm256_shuffle_psï¼Œåªä½¿ç”¨æ§ä»¶å€¼çš„é«˜å››ä½ã€‚å¦‚æœè¾“å…¥å‘é‡åŒ…å«æ•´å‹æˆ–æµ®ç‚¹æ•°ï¼Œåˆ™ä½¿ç”¨æ‰€æœ‰æ§åˆ¶ä½ã€‚å¯¹äº_mm256_shuffle_psï¼Œå‰ä¸¤å¯¹ä½é€‰æ‹©ç¬¬ä¸€ä¸ªå‘é‡ä¸­çš„å…ƒç´ ï¼Œåä¸¤å¯¹ä½é€‰æ‹©ç¬¬äºŒä¸ªå‘é‡ä¸­çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Synopsis&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;m256 _mm256_shuffle_ps (m256 a, __m256 b, const int imm8)&lt;/strong&gt;&lt;br&gt;#include &amp;lt;immintrin.h&amp;gt;&lt;br&gt;Instruction: vshufps ymm, ymm, ymm, imm8&lt;br&gt;CPUID Flags: AVX&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Description&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Shuffle single-precision (32-bit) floating-point elements in a within 128-bit lanes using the control in imm8, and store the results in dst.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Operation&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight stylus&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs stylus&#34;&gt;DEFINE SELECT4(&lt;span class=&#34;hljs-attribute&#34;&gt;src&lt;/span&gt;, control) &amp;#123; &lt;br&gt;		CASE(control&lt;span class=&#34;hljs-selector-attr&#34;&gt;[1:0]&lt;/span&gt;) OF &lt;br&gt;		&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;:	tmp&lt;span class=&#34;hljs-selector-attr&#34;&gt;[31:0]&lt;/span&gt; := &lt;span class=&#34;hljs-attribute&#34;&gt;src&lt;/span&gt;[&lt;span class=&#34;hljs-number&#34;&gt;31&lt;/span&gt;:&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;] &lt;br&gt;		&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;:	tmp&lt;span class=&#34;hljs-selector-attr&#34;&gt;[31:0]&lt;/span&gt; := &lt;span class=&#34;hljs-attribute&#34;&gt;src&lt;/span&gt;[&lt;span class=&#34;hljs-number&#34;&gt;63&lt;/span&gt;:&lt;span class=&#34;hljs-number&#34;&gt;32&lt;/span&gt;] &lt;br&gt;		&lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;:	tmp&lt;span class=&#34;hljs-selector-attr&#34;&gt;[31:0]&lt;/span&gt; := &lt;span class=&#34;hljs-attribute&#34;&gt;src&lt;/span&gt;[&lt;span class=&#34;hljs-number&#34;&gt;95&lt;/span&gt;:&lt;span class=&#34;hljs-number&#34;&gt;64&lt;/span&gt;] &lt;br&gt;		&lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt;:	tmp&lt;span class=&#34;hljs-selector-attr&#34;&gt;[31:0]&lt;/span&gt; := &lt;span class=&#34;hljs-attribute&#34;&gt;src&lt;/span&gt;[&lt;span class=&#34;hljs-number&#34;&gt;127&lt;/span&gt;:&lt;span class=&#34;hljs-number&#34;&gt;96&lt;/span&gt;] &lt;br&gt;		ESAC &lt;br&gt;		RETURN tmp&lt;span class=&#34;hljs-selector-attr&#34;&gt;[31:0]&lt;/span&gt; &lt;br&gt;		&amp;#125; &lt;br&gt;dst&lt;span class=&#34;hljs-selector-attr&#34;&gt;[31:0]&lt;/span&gt; := SELECT4(&lt;span class=&#34;hljs-selector-tag&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;hljs-selector-attr&#34;&gt;[127:0]&lt;/span&gt;, imm8&lt;span class=&#34;hljs-selector-attr&#34;&gt;[1:0]&lt;/span&gt;) &lt;br&gt;dst&lt;span class=&#34;hljs-selector-attr&#34;&gt;[63:32]&lt;/span&gt; := SELECT4(&lt;span class=&#34;hljs-selector-tag&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;hljs-selector-attr&#34;&gt;[127:0]&lt;/span&gt;, imm8&lt;span class=&#34;hljs-selector-attr&#34;&gt;[3:2]&lt;/span&gt;) &lt;br&gt;dst&lt;span class=&#34;hljs-selector-attr&#34;&gt;[95:64]&lt;/span&gt; := SELECT4(&lt;span class=&#34;hljs-selector-tag&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;hljs-selector-attr&#34;&gt;[127:0]&lt;/span&gt;, imm8&lt;span class=&#34;hljs-selector-attr&#34;&gt;[5:4]&lt;/span&gt;) &lt;br&gt;dst&lt;span class=&#34;hljs-selector-attr&#34;&gt;[127:96]&lt;/span&gt; := SELECT4(&lt;span class=&#34;hljs-selector-tag&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;hljs-selector-attr&#34;&gt;[127:0]&lt;/span&gt;, imm8&lt;span class=&#34;hljs-selector-attr&#34;&gt;[7:6]&lt;/span&gt;) &lt;br&gt;dst&lt;span class=&#34;hljs-selector-attr&#34;&gt;[159:128]&lt;/span&gt; := SELECT4(&lt;span class=&#34;hljs-selector-tag&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;hljs-selector-attr&#34;&gt;[255:128]&lt;/span&gt;, imm8&lt;span class=&#34;hljs-selector-attr&#34;&gt;[1:0]&lt;/span&gt;) &lt;br&gt;dst&lt;span class=&#34;hljs-selector-attr&#34;&gt;[191:160]&lt;/span&gt; := SELECT4(&lt;span class=&#34;hljs-selector-tag&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;hljs-selector-attr&#34;&gt;[255:128]&lt;/span&gt;, imm8&lt;span class=&#34;hljs-selector-attr&#34;&gt;[3:2]&lt;/span&gt;) &lt;br&gt;dst&lt;span class=&#34;hljs-selector-attr&#34;&gt;[223:192]&lt;/span&gt; := SELECT4(&lt;span class=&#34;hljs-selector-tag&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;hljs-selector-attr&#34;&gt;[255:128]&lt;/span&gt;, imm8&lt;span class=&#34;hljs-selector-attr&#34;&gt;[5:4]&lt;/span&gt;) &lt;br&gt;dst&lt;span class=&#34;hljs-selector-attr&#34;&gt;[255:224]&lt;/span&gt; := SELECT4(&lt;span class=&#34;hljs-selector-tag&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;hljs-selector-attr&#34;&gt;[255:128]&lt;/span&gt;, imm8&lt;span class=&#34;hljs-selector-attr&#34;&gt;[7:6]&lt;/span&gt;) &lt;br&gt;dst&lt;span class=&#34;hljs-selector-attr&#34;&gt;[MAX:256]&lt;/span&gt; := &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ä¸ºäº†shuffle16ä½å€¼ï¼ŒAVX2æä¾›äº†_mm256_shufflelo_epi16å’Œ_mm256_shufflehi_epi16ã€‚ä¸_mm256_shuffle_psä¸€æ ·ï¼Œæ§åˆ¶å€¼è¢«åˆ†æˆå››å¯¹ä»å…«ä¸ªå…ƒç´ ä¸­é€‰æ‹©çš„ä½ã€‚ä½†æ˜¯å¯¹äº_mm256_shufflelo_epi16, 8ä¸ªå…ƒç´ æ˜¯ä»8ä¸ªä½çš„16ä½å€¼ä¸­å–å‡ºçš„ã€‚å¯¹äº_mm256_shufflehi_epi16, 8ä¸ªå…ƒç´ å–è‡ª8ä¸ªé«˜çš„16ä½å€¼ã€‚&lt;/p&gt;
&lt;h2 id=&#34;8-Complex-Multiplication&#34;&gt;&lt;a href=&#34;#8-Complex-Multiplication&#34; class=&#34;headerlink&#34; title=&#34;8.Complex Multiplication&#34;&gt;&lt;/a&gt;8.Complex Multiplication&lt;/h2&gt;&lt;p&gt;åœ¨ä¿¡å·å¤„ç†åº”ç”¨ä¸­ï¼Œå¤æ•°ä¹˜æ³•æ˜¯ä¸€é¡¹å¿…é¡»åå¤æ‰§è¡Œçš„è€—æ—¶æ“ä½œã€‚æˆ‘ä¸ä¼šæ·±å…¥è®¨è®ºè¿™ä¸ªç†è®ºï¼Œä½†æ¯ä¸ªå¤æ•°éƒ½å¯ä»¥è¡¨ç¤ºä¸ºa + biï¼Œå…¶ä¸­aå’Œbæ˜¯æµ®ç‚¹å€¼ï¼Œiæ˜¯-1çš„å¹³æ–¹æ ¹ã€‚Aæ˜¯å®éƒ¨ï¼Œbæ˜¯è™šéƒ¨ã€‚å¦‚æœ(a + bi)å’Œ(c + di)ç›¸ä¹˜ï¼Œä¹˜ç§¯ç­‰äº(ac - bd) + (ad + bc)iã€‚&lt;/p&gt;
&lt;p&gt;å¤æ•°å¯ä»¥ä»¥äº¤é”™çš„æ–¹å¼å­˜å‚¨ï¼Œè¿™æ„å‘³ç€æ¯ä¸ªå®æ•°éƒ¨åˆ†åé¢è·Ÿç€è™šæ•°éƒ¨åˆ†ã€‚å‡è®¾vec1æ˜¯ä¸€ä¸ª__m256dï¼Œå­˜å‚¨ä¸¤ä¸ªå¤æ•°(a + bi)å’Œ(x + yi)ï¼Œ vec2æ˜¯ä¸€ä¸ª__m256dï¼Œå­˜å‚¨(c + di)å’Œ(z + wi)ã€‚å›¾6è¯´æ˜äº†å¦‚ä½•å­˜å‚¨è¿™äº›å€¼ã€‚å¦‚å›¾æ‰€ç¤ºï¼Œprodå‘é‡å­˜å‚¨äº†ä¸¤ä¸ªäº§ç‰©:(ac - bd) + (ad + bc)iå’Œ(xz - yw) + (xw + yz)iã€‚&lt;/p&gt;
&lt;p&gt;ã€å›¾ç‰‡ä¸¢å¤±ã€‘&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Figure 6: Complex Multiplication Using Vectors&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä¸çŸ¥é“ç”¨AVX&amp;#x2F;AVX2è®¡ç®—å¤æ‚ä¹˜ç§¯çš„æœ€å¿«æ–¹æ³•ã€‚ä½†æˆ‘æƒ³å‡ºäº†ä¸€ä¸ªæ–¹æ³•ï¼Œæ•ˆæœå¾ˆå¥½ã€‚å®ƒåŒ…æ‹¬äº”ä¸ªæ­¥éª¤:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å°†vec1å’Œvec2ç›¸ä¹˜ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨vec3ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;åˆ‡æ¢vec2çš„å®&amp;#x2F;è™šå€¼ã€‚&lt;/li&gt;
&lt;li&gt;æ±‚vec2çš„è™šæ•°çš„è´Ÿæ•°ã€‚&lt;/li&gt;
&lt;li&gt;å°†vec1å’Œvec2ç›¸ä¹˜ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨vec4ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹vec3å’Œvec4è¿›è¡Œæ°´å¹³ç›¸å‡ï¼Œå¾—åˆ°vec1ä¸­çš„ç­”æ¡ˆã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;complex_multi .cä¸­çš„ä»£ç å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨AVX intrinsicæ‰§è¡Œæ­¤æ“ä½œ:&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;hljs-meta-string&#34;&gt;&amp;lt;immintrin.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;hljs-meta-string&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;br&gt;&lt;br&gt;  __m256d vec1 = _mm256_setr_pd(&lt;span class=&#34;hljs-number&#34;&gt;4.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;5.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;13.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;6.0&lt;/span&gt;);&lt;br&gt;  __m256d vec2 = _mm256_setr_pd(&lt;span class=&#34;hljs-number&#34;&gt;9.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;3.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;6.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;7.0&lt;/span&gt;);&lt;br&gt;  __m256d neg = _mm256_setr_pd(&lt;span class=&#34;hljs-number&#34;&gt;1.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;-1.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;1.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;-1.0&lt;/span&gt;);&lt;br&gt;  &lt;br&gt;  &lt;span class=&#34;hljs-comment&#34;&gt;/* Step 1: Multiply vec1 and vec2 */&lt;/span&gt;&lt;br&gt;  __m256d vec3 = _mm256_mul_pd(vec1, vec2);&lt;br&gt;&lt;br&gt;  &lt;span class=&#34;hljs-comment&#34;&gt;/* Step 2: Switch the real and imaginary elements of vec2 */&lt;/span&gt;&lt;br&gt;  vec2 = _mm256_permute_pd(vec2, &lt;span class=&#34;hljs-number&#34;&gt;0x5&lt;/span&gt;);&lt;br&gt;  &lt;br&gt;  &lt;span class=&#34;hljs-comment&#34;&gt;/* Step 3: Negate the imaginary elements of vec2 */&lt;/span&gt;&lt;br&gt;  vec2 = _mm256_mul_pd(vec2, neg);  &lt;br&gt;  &lt;br&gt;  &lt;span class=&#34;hljs-comment&#34;&gt;/* Step 4: Multiply vec1 and the modified vec2 */&lt;/span&gt;&lt;br&gt;  __m256d vec4 = _mm256_mul_pd(vec1, vec2);&lt;br&gt;&lt;br&gt;  &lt;span class=&#34;hljs-comment&#34;&gt;/* Horizontally subtract the elements in vec3 and vec4 */&lt;/span&gt;&lt;br&gt;  vec1 = _mm256_hsub_pd(vec3, vec4);&lt;br&gt;  &lt;br&gt;  &lt;span class=&#34;hljs-comment&#34;&gt;/* Display the elements of the result vector */&lt;/span&gt;&lt;br&gt;  &lt;span class=&#34;hljs-keyword&#34;&gt;double&lt;/span&gt;* res = (&lt;span class=&#34;hljs-keyword&#34;&gt;double&lt;/span&gt;*)&amp;amp;vec1;&lt;br&gt;  &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;%lf %lf %lf %lf\n&amp;quot;&lt;/span&gt;, res[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;], res[&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;], res[&lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;], res[&lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt;]);&lt;br&gt;  &lt;br&gt;  &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight apache&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs apache&#34;&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;21&lt;/span&gt;.&lt;span class=&#34;hljs-number&#34;&gt;000000&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;57&lt;/span&gt;.&lt;span class=&#34;hljs-number&#34;&gt;000000&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;36&lt;/span&gt;.&lt;span class=&#34;hljs-number&#34;&gt;000000&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;127&lt;/span&gt;.&lt;span class=&#34;hljs-number&#34;&gt;000000&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;è¿™æ®µä»£ç ä½œç”¨äºåŒå‘é‡ï¼Œä½†æ˜¯å¯ä»¥å¾ˆå®¹æ˜“åœ°æ‰©å±•è¯¥æ–¹æ³•ä»¥æ”¯æŒæµ®ç‚¹å‘é‡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;9-Points-of-Interest&#34;&gt;&lt;a href=&#34;#9-Points-of-Interest&#34; class=&#34;headerlink&#34; title=&#34;9.Points of Interest&#34;&gt;&lt;/a&gt;9.Points of Interest&lt;/h2&gt;&lt;p&gt;è®¸å¤šå¼€å‘äººå‘˜å¯èƒ½ä¼šé¿å…å­¦ä¹ AVX&amp;#x2F;AVX2ï¼Œå¸Œæœ›ç¼–è¯‘å™¨èƒ½å¤Ÿæ‰§è¡Œè‡ªåŠ¨å‘é‡åŒ–ã€‚è‡ªåŠ¨å‘é‡åŒ–æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç‰¹æ€§ï¼Œä½†æ˜¯å¦‚æœæ‚¨äº†è§£æœ¬è´¨ï¼Œå°±å¯ä»¥é‡æ–°å®‰æ’ç®—æ³•ä»¥æ›´å¥½åœ°åˆ©ç”¨SIMDå¤„ç†ã€‚é€šè¿‡æ’å…¥AVX&amp;#x2F;AVX2 intrinsicï¼Œæˆ‘æå¤§åœ°æé«˜äº†ä¿¡å·å¤„ç†åº”ç”¨ç¨‹åºçš„å¤„ç†é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;h2 id=&#34;10-History&#34;&gt;&lt;a href=&#34;#10-History&#34; class=&#34;headerlink&#34; title=&#34;10.History&#34;&gt;&lt;/a&gt;10.History&lt;/h2&gt;&lt;p&gt;2&amp;#x2F;20 - Fixed formatting and image links&lt;/p&gt;
&lt;p&gt;4&amp;#x2F;2 - Fixed a couple typographical errors&lt;/p&gt;
&lt;h2 id=&#34;11-License&#34;&gt;&lt;a href=&#34;#11-License&#34; class=&#34;headerlink&#34; title=&#34;11.License&#34;&gt;&lt;/a&gt;11.License&lt;/h2&gt;&lt;p&gt;This article, along with any associated source code and files, is licensed under &lt;a href=&#34;http://www.codeproject.com/info/cpol10.aspx&#34;&gt;The Code Project Open License (CPOL)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Written By&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;https://www.codeproject.com/Members/mattscar&#34;&gt;Matt Scarpino&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/10/avx006/US.gif&#34; alt=&#34;United States&#34;&gt; United States&lt;/p&gt;
&lt;p&gt;Iâ€™ve been a programmer and engineer for over 20 years. Iâ€™m a certified Azure Developer Associate and an Azure IoT Developer Specialist.&lt;/p&gt;
</content>
        <category term="AVX" />
        <category term="AVX2" />
        <updated>2023-03-10T06:51:44.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/03/09/cuda015/</id>
        <title>CUDAä½¿ç”¨äºŒç»´ç½‘æ ¼å’ŒäºŒä½å—å¯¹çŸ©é˜µæ±‚å’Œ</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/03/09/cuda015/"/>
        <content type="html">&lt;h2 id=&#34;CUDAä½¿ç”¨äºŒç»´ç½‘æ ¼å’ŒäºŒä½å—å¯¹çŸ©é˜µæ±‚å’Œ&#34;&gt;&lt;a href=&#34;#CUDAä½¿ç”¨äºŒç»´ç½‘æ ¼å’ŒäºŒä½å—å¯¹çŸ©é˜µæ±‚å’Œ&#34; class=&#34;headerlink&#34; title=&#34;CUDAä½¿ç”¨äºŒç»´ç½‘æ ¼å’ŒäºŒä½å—å¯¹çŸ©é˜µæ±‚å’Œ&#34;&gt;&lt;/a&gt;CUDAä½¿ç”¨äºŒç»´ç½‘æ ¼å’ŒäºŒä½å—å¯¹çŸ©é˜µæ±‚å’Œ&lt;/h2&gt;&lt;p&gt;åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªäºŒç»´ç½‘æ ¼å’ŒäºŒä½å—æ¥ç¼–å†™ä¸€ä¸ªçŸ©é˜µåŠ æ³•æ ¸å‡½æ•°ã€‚é¦–å…ˆï¼Œåº”è¯¥ç¼–å†™ä¸€ä¸ªæ ¡éªŒä¸»å‡½æ•°ä»¥éªŒè¯çŸ©é˜µåŠ æ³•æ ¸å‡½æ•°æ˜¯å¦èƒ½å¾—å‡ºæ­£ç¡®çš„ç»“æœï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;sumMatrixOnhost&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *A, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *B, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *C, &lt;span class=&#34;hljs-keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; nx, &lt;span class=&#34;hljs-keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; ny)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *ia = A;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *ib = B;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *ic = C;&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; iy=&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;iy&amp;lt;ny;iy++)&amp;#123;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; ix=&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;ix&amp;lt;nx;ix++)&amp;#123;&lt;br&gt;            ic[ix]=ia[ix]+ib[ix];&lt;br&gt;        &amp;#125;&lt;br&gt;        ia += nx;&lt;br&gt;        ib += nx;&lt;br&gt;        ic += nx;&lt;br&gt;    &amp;#125;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ç„¶åï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„æ ¸å‡½æ•°ï¼Œç›®çš„æ˜¯é‡‡ç”¨ä¸€ä¸ªäºŒç»´çº¿ç¨‹å—æ¥è¿›è¡ŒçŸ©é˜µæ±‚å’Œï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;__global__ &lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;sumMatrixOnGPU2D&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *MatA, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *MatB, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *MatC, &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; nx, &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; ny)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; ix = threadIdx.x + blockIdx.x * blockDim.x;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; iy = threadIdx.y + blockIdx.y * blockDim.y;&lt;br&gt;    ubsigned &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; idx = iy*nx + ix;&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt;(ix &amp;lt; nx &amp;amp;&amp;amp; iy &amp;lt;ny)&lt;br&gt;        MatC[idx] = MatA[idx] + MatB[idx];&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;è¿™ä¸ªæ ¸å‡½æ•°çš„å…³é”®æ­¥éª¤æ˜¯å°†æ¯ä¸ªçº¿ç¨‹ä»å®ƒçš„çº¿ç¨‹ç´¢å¼•æ˜ å°„åˆ°å…¨å±€çº¿æ€§å†…å­˜ç´¢å¼•ä¸­ï¼Œå¦‚å›¾2-12æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæ¯ä¸ªç»´åº¦ä¸‹çš„çŸ©é˜µå¤§å°å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹æ³•è®¾ç½®ä¸º16384ä¸ªå…ƒç´ ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; nx = &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&amp;lt;&amp;lt;&lt;span class=&#34;hljs-number&#34;&gt;14&lt;/span&gt;;&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; ny = &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&amp;lt;&amp;lt;&lt;span class=&#34;hljs-number&#34;&gt;14&lt;/span&gt;;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ç„¶åï¼Œä½¿ç”¨ä¸€ä¸ªäºŒç»´ç½‘æ ¼å’ŒäºŒç»´å—æŒ‰å¦‚ä¸‹æ–¹æ³•è®¾ç½®æ ¸å‡½æ•°çš„æ‰§è¡Œé…ç½®ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/09/cuda015/image-20230309125059653.png&#34; alt=&#34;image-20230309125059653&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; dimx = &lt;span class=&#34;hljs-number&#34;&gt;32&lt;/span&gt;;&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; dimy = &lt;span class=&#34;hljs-number&#34;&gt;32&lt;/span&gt;;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;dim3 &lt;span class=&#34;hljs-title&#34;&gt;block&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(dimx, dimy)&lt;/span&gt;&lt;/span&gt;;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;dim3 &lt;span class=&#34;hljs-title&#34;&gt;grid&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;((nx + block.x - &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;)/block.x, (ny + block.y - &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;)/block.y)&lt;/span&gt;&lt;/span&gt;;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;æŠŠæ‰€æœ‰çš„ä»£ç æ•´åˆåˆ°åä¸ºsumMatrixOnGPU-2D-grid-2D-block.cuçš„æ–‡ä»¶ä¸­ã€‚ä¸»å‡½æ•°ä»£ç å¦‚ä»£ç æ¸…å•2-7æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;ä»£ç æ¸…å•2-7 ä½¿ç”¨ä¸€ä¸ªäºŒç»´ç½‘æ ¼å’ŒäºŒç»´å—çš„çŸ©é˜µåŠ æ³•(sumMatrixOnGPU-2D-grid-2D-block.cu)&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;83&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; argc, &lt;span class=&#34;hljs-keyword&#34;&gt;char&lt;/span&gt; **argv)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;%s Starting...\n&amp;quot;&lt;/span&gt;,zrgv[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;]);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//set up device&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; dev = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;    cudaDeviceProp deviceProp;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;CHECK&lt;/span&gt;(&lt;span class=&#34;hljs-built_in&#34;&gt;cudaGetDeviceProperties&lt;/span&gt;(&amp;amp;deviceProp, dev));&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;Using Device %d: %s\n&amp;quot;&lt;/span&gt;,dev, deviceProp.name);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;CHECK&lt;/span&gt;(&lt;span class=&#34;hljs-built_in&#34;&gt;cudaSetDevice&lt;/span&gt;(dev));&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//set up data size of matrix&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; nx = &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&amp;lt;&amp;lt;&lt;span class=&#34;hljs-number&#34;&gt;14&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; ny = &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&amp;lt;&amp;lt;&lt;span class=&#34;hljs-number&#34;&gt;14&lt;/span&gt;;&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; nxy = nx*ny;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; nBytes = nxy *&lt;span class=&#34;hljs-built_in&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;sizeof&lt;/span&gt;&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;Matrix size: nx %d ny %d\n&amp;quot;&lt;/span&gt;,nx,ny);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//malloc host memory&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *h_A, *h_B, *hostRef, *gpuRef;&lt;br&gt;    h_A = (&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *)&lt;span class=&#34;hljs-built_in&#34;&gt;malloc&lt;/span&gt;(nBytes);&lt;br&gt;    h_B = (&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *)&lt;span class=&#34;hljs-built_in&#34;&gt;malloc&lt;/span&gt;(nBytes);&lt;br&gt;    hostRef = (&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *)&lt;span class=&#34;hljs-built_in&#34;&gt;malloc&lt;/span&gt;(nBytes);&lt;br&gt;    gpuRef = (&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *)&lt;span class=&#34;hljs-built_in&#34;&gt;malloc&lt;/span&gt;(nBytes);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//initialize data at host side&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;double&lt;/span&gt; iStart = &lt;span class=&#34;hljs-built_in&#34;&gt;cpuSecond&lt;/span&gt;();&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;initialData&lt;/span&gt; (h_A, nxy);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;initialData&lt;/span&gt; (h_B, nxy);&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;double&lt;/span&gt; iElaps = &lt;span class=&#34;hljs-built_in&#34;&gt;cpuSecond&lt;/span&gt;() - iStart;&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;memset&lt;/span&gt;(hostRef, &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;, nBytes);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;memset&lt;/span&gt;(gpuRef, &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;, nBytes);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//add matrix at host side for result checks&lt;/span&gt;&lt;br&gt;    iStart = &lt;span class=&#34;hljs-built_in&#34;&gt;cpuSecond&lt;/span&gt;();&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;sumMatrixOnHost&lt;/span&gt; (h_A, h_B, hostRef, nx,ny);&lt;br&gt;    iElaps = &lt;span class=&#34;hljs-built_in&#34;&gt;cpuSecond&lt;/span&gt;() - iStart;&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//malloc device global memory&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *d_MatA, *d_MatB, *d_MatC;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMalloc&lt;/span&gt;((&lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; **)&amp;amp;d_MatA,nBytes);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMalloc&lt;/span&gt;((&lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; **)&amp;amp;d_MatB,nBytes);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMalloc&lt;/span&gt;((&lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; **)&amp;amp;d_MatC,nBytes);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//transfer data from host to device&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMemcpy&lt;/span&gt;(d_MatA, h_A, nBytes, cudaMemcpyHostToDevice);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMemcpy&lt;/span&gt;(d_MatB, h_B, nBytes, cudaMemcpyHostToDevice);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//invoke kernel at host side&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; dimx = &lt;span class=&#34;hljs-number&#34;&gt;32&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; dimy = &lt;span class=&#34;hljs-number&#34;&gt;32&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-function&#34;&gt;dim3 &lt;span class=&#34;hljs-title&#34;&gt;block&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(dimx,dimy)&lt;/span&gt;&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-function&#34;&gt;dim3 &lt;span class=&#34;hljs-title&#34;&gt;grid&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;((nx+block.x&lt;span class=&#34;hljs-number&#34;&gt;-1&lt;/span&gt;)/block.x,(ny+block.y&lt;span class=&#34;hljs-number&#34;&gt;-1&lt;/span&gt;)/block.y)&lt;/span&gt;&lt;/span&gt;;&lt;br&gt;    &lt;br&gt;    iStart = &lt;span class=&#34;hljs-built_in&#34;&gt;cpuSecond&lt;/span&gt;();&lt;br&gt;    sumMatrixOnGPU2D&amp;lt;&amp;lt;&amp;lt;grid,block&amp;gt;&amp;gt;&amp;gt;(d_MatA, d_MatB, d_MatC, nx,ny);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaDeviceSynchronize&lt;/span&gt;();&lt;br&gt;    iElaps = &lt;span class=&#34;hljs-built_in&#34;&gt;cpuSecond&lt;/span&gt;() - iStart;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;sumMatrixOnGPU2D&amp;lt;&amp;lt;&amp;lt;(%d,%d),(%d,%d)&amp;gt;&amp;gt;&amp;gt; elapsed %f sec\n&amp;quot;&lt;/span&gt;,grid.x, grid.y, block.x,block.y,iElaps);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//copy kernel result back to host side&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMemcpy&lt;/span&gt;(gpuRef, d_MatC, nBytes, cudaMemcpyDeviceToHost);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//check device results&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;checkResult&lt;/span&gt;(hostRef, gpuRef,nxy);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//free device global memory&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaFree&lt;/span&gt;(d_MatA);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaFree&lt;/span&gt;(d_MatB);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaFree&lt;/span&gt;(d_MatC);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//free host memory&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;free&lt;/span&gt;(h_A);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;free&lt;/span&gt;(h_B);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;free&lt;/span&gt;(hostRef);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;free&lt;/span&gt;(gpuRef);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//reset device&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaDeviceReset&lt;/span&gt;();&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; (&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;);&lt;br&gt;&amp;#125; &lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ç”¨ä»¥ä¸‹å‘½ä»¤ç¼–è¯‘å¹¶è¿è¡Œè¯¥ä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;nvcc -arch=sm_20 sumMatrixOnGPU-2D-grid-2D-block.cu -o matrix2D&lt;br&gt;./matrix2D&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;åœ¨Tesla M2070ä¸Šè¿è¡Œçš„ç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/09/cuda015/image-20230309224513603.png&#34; alt=&#34;image-20230309224513603&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œè°ƒæ•´å—çš„å°ºå¯¸ä¸º32Ã—16å¹¶é‡æ–°ç¼–è¯‘å’Œè¿è¡Œè¯¥ä»£ç ã€‚æ ¸å‡½æ•°çš„æ‰§è¡Œé€Ÿåº¦å‡ ä¹å¿«äº†ä¸¤å€ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/09/cuda015/image-20230309224626772.png&#34; alt=&#34;image-20230309224626772&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä½ å¯èƒ½å¥½å¥‡ä¸ºä»€ä¹ˆåªæ˜¯æ”¹å˜äº†æ‰§è¡Œé…ç½®ï¼Œå†…æ ¸æ€§èƒ½å°±å‡ ä¹ç¿»äº†ä¸€å€ã€‚ç›´è§‚åœ°è¯´ï¼Œä½ å¯èƒ½ä¼šè§‰å¾—è¿™æ˜¯å› ä¸ºç¬¬äºŒæ¬¡é…ç½®çš„çº¿ç¨‹å—æ•°æ˜¯ç¬¬ä¸€æ¬¡é…ç½®å—æ•°çš„ä¸¤å€ï¼Œæ‰€ä»¥å¹¶è¡Œæ€§ä¹Ÿæ˜¯ä¸¤å€ã€‚ä½ çš„ç›´è§‰æ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯ï¼Œå¦‚æœè¿›ä¸€æ­¥å‡å°å—çš„å¤§å°å˜ä¸º16Ã—16ï¼Œç›¸æ¯”ç¬¬ä¸€æ¬¡é…ç½®ä½ å·²ç»å°†å—çš„æ•°é‡ç¿»äº†å››å€ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼Œè¿™ç§é…ç½®æ¯”ç¬¬ä¸€ä¸ªç»“æœå¥½ä½†æ˜¯ä¸å¦‚ç¬¬äºŒä¸ªã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/09/cuda015/image-20230309224912499.png&#34; alt=&#34;image-20230309224912499&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¡¨2-3æ€»ç»“äº†ä¸åŒæ‰§è¡Œé…ç½®çš„æ€§èƒ½ã€‚ç»“æœæ˜¾ç¤ºï¼Œå¢åŠ å—çš„æ•°é‡ä¸ä¸€å®šèƒ½æå‡å†…æ ¸æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/09/cuda015/image-20230309225004531.png&#34; alt=&#34;image-20230309225004531&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;a href=&#34;#å‚è€ƒèµ„æ–™&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;p&gt;CUDA Cç¼–ç¨‹æƒå¨æŒ‡å— ç¨‹æ¶¦ä¼Ÿï¼ŒMax Grossman(ç¾)ï¼ŒTy Mckercher &lt;/p&gt;
</content>
        <category term="CUDA" />
        <updated>2023-03-09T04:34:51.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/03/09/cuda014/</id>
        <title>CUDAä½¿ç”¨å—å’Œçº¿ç¨‹å»ºç«‹çŸ©é˜µç´¢å¼•</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/03/09/cuda014/"/>
        <content type="html">&lt;h2 id=&#34;CUDAä½¿ç”¨å—å’Œçº¿ç¨‹å»ºç«‹çŸ©é˜µç´¢å¼•&#34;&gt;&lt;a href=&#34;#CUDAä½¿ç”¨å—å’Œçº¿ç¨‹å»ºç«‹çŸ©é˜µç´¢å¼•&#34; class=&#34;headerlink&#34; title=&#34;CUDAä½¿ç”¨å—å’Œçº¿ç¨‹å»ºç«‹çŸ©é˜µç´¢å¼•&#34;&gt;&lt;/a&gt;CUDAä½¿ç”¨å—å’Œçº¿ç¨‹å»ºç«‹çŸ©é˜µç´¢å¼•&lt;/h2&gt;&lt;p&gt;é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªçŸ©é˜µç”¨è¡Œä¼˜å…ˆçš„æ–¹æ³•åœ¨å…¨å±€å†…å­˜ä¸­è¿›è¡Œçº¿æ€§å­˜å‚¨ã€‚å›¾2-9æ‰€ç¤ºçš„æ˜¯ä¸€ä¸ª8Ã—6çŸ©é˜µçš„å°ä¾‹å­ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¸€ä¸ªçŸ©é˜µåŠ æ³•æ ¸å‡½æ•°ä¸­ï¼Œä¸€ä¸ªçº¿ç¨‹é€šå¸¸è¢«åˆ†é…ä¸€ä¸ªæ•°æ®å…ƒç´ æ¥å¤„ç†ã€‚é¦–å…ˆè¦å®Œæˆçš„ä»»åŠ¡æ˜¯ä½¿ç”¨å—å’Œçº¿ç¨‹ç´¢å¼•ä»å…¨å±€å†…å­˜ä¸­è®¿é—®æŒ‡å®šçš„æ•°æ®ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå¯¹ä¸€ä¸ªäºŒç»´ç¤ºä¾‹æ¥è¯´ï¼Œéœ€è¦ç®¡ç†3ç§ç´¢å¼•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/09/cuda014/image-20230309113733674.png&#34; alt=&#34;image-20230309113733674&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;çº¿ç¨‹å’Œå—ç´¢å¼•&lt;/li&gt;
&lt;li&gt;çŸ©é˜µä¸­ç»™å®šç‚¹çš„åæ ‡&lt;/li&gt;
&lt;li&gt;å…¨å±€çº¿æ€§å†…å­˜ä¸­çš„åç§»é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯¹äºä¸€ä¸ªç»™å®šçš„çº¿ç¨‹ï¼Œé¦–å…ˆå¯ä»¥é€šè¿‡æŠŠçº¿ç¨‹å’Œå—ç´¢å¼•æ˜ å°„åˆ°çŸ©é˜µåæ ‡ä¸Šæ¥è·å–çº¿ç¨‹å—å’Œçº¿ç¨‹ç´¢å¼•çš„å…¨å±€å†…å­˜åç§»é‡ï¼Œç„¶åå°†è¿™äº›çŸ©é˜µåæ ‡æ˜ å°„åˆ°å…¨å±€å†…å­˜çš„å­˜å‚¨å•å…ƒä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ­¥ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹å…¬å¼æŠŠçº¿ç¨‹å’Œå—ç´¢å¼•æ˜ å°„åˆ°çŸ©é˜µåæ ‡ä¸Šï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;ix = threadIdx.x + blockIdx.x * blockDim.x;&lt;br&gt;iy = threadIdx.y + blockIdx.y * blockDim.y;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ç¬¬äºŒæ­¥ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹å…¬å¼æŠŠçŸ©é˜µåæ ‡æ˜ å°„åˆ°å…¨å±€å†…å­˜ä¸­çš„ç´¢å¼•&amp;#x2F;å­˜å‚¨å•å…ƒä¸Š:&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;idx = iy * nx + ix&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å›¾2-10è¯´æ˜äº†å—å’Œçº¿ç¨‹ç´¢å¼•ï¼ŒçŸ©é˜µåæ ‡ä»¥åŠçº¿æ€§å…¨å±€å†…å­˜ç´¢å¼•ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/09/cuda014/image-20230309114815497.png&#34; alt=&#34;image-20230309114815497&#34;&gt;&lt;/p&gt;
&lt;p&gt;printThreadInfoå‡½æ•°è¢«ç”¨äºè¾“å‡ºå…³äºæ¯ä¸ªçº¿ç¨‹çš„ä»¥ä¸‹ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;çº¿ç¨‹ç´¢å¼•&lt;/li&gt;
&lt;li&gt;å—ç´¢å¼•&lt;/li&gt;
&lt;li&gt;çŸ©é˜µåæ ‡&lt;/li&gt;
&lt;li&gt;çº¿æ€§å…¨å±€å†…å­˜åç§»é‡&lt;/li&gt;
&lt;li&gt;ç›¸åº”å…ƒç´ çš„å€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç”¨ä»¥ä¸‹å‘½ä»¤ç¼–è¯‘å¹¶è¿è¡Œè¯¥ç¨‹åºï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;nvcc -arch=sm_20 checkThreadIndex.cu -o checkIndex&lt;br&gt;./checkIndex&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å¯¹äºæ¯ä¸ªçº¿ç¨‹ï¼Œä½ å¯ä»¥è·å–ä»¥ä¸‹ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;thread_id&lt;/span&gt;(&lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;)	&lt;span class=&#34;hljs-built_in&#34;&gt;block_id&lt;/span&gt;(&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;)	&lt;span class=&#34;hljs-built_in&#34;&gt;coordinate&lt;/span&gt;(&lt;span class=&#34;hljs-number&#34;&gt;6&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;)	global index &lt;span class=&#34;hljs-number&#34;&gt;14&lt;/span&gt; ival &lt;span class=&#34;hljs-number&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å›¾2-11è¯´æ˜äº†è¿™ä¸‰é¡¹ç´¢å¼•ä¹‹é—´çš„å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/09/cuda014/image-20230309115229368.png&#34; alt=&#34;image-20230309115229368&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç æ¸…å•2-6 æ£€æŸ¥å—å’Œçº¿ç¨‹ç´¢å¼•ï¼ˆcheckTå’ŒreadIndex.cuï¼‰&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;88&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;hljs-meta-string&#34;&gt;&amp;lt;cuda_runtime.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#inclde &lt;span class=&#34;hljs-meta-string&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;define&lt;/span&gt; CHECK(call)&lt;/span&gt;&lt;br&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;const&lt;/span&gt; cudaError_t error = call;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt;(error != cudaSuccess)&lt;br&gt;    &amp;#123;&lt;br&gt;        &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;Error: %s:%d, &amp;quot;&lt;/span&gt;,__FILE__, __LINE__);&lt;br&gt;        &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;code:%d, reason: %s\n&amp;quot;&lt;/span&gt;,error, &lt;span class=&#34;hljs-built_in&#34;&gt;cudaGetErrorString&lt;/span&gt;(error));&lt;br&gt;        &lt;span class=&#34;hljs-built_in&#34;&gt;exit&lt;/span&gt;(&lt;span class=&#34;hljs-number&#34;&gt;-10&lt;/span&gt;*error);&lt;br&gt;    &amp;#125;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;initialInt&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; *p, &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; size)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i=&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;i&amp;lt;size;i++)&amp;#123;&lt;br&gt;        ip[i] = i;&lt;br&gt;    &amp;#125;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;printMateix&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; *C,&lt;span class=&#34;hljs-keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; nx, &lt;span class=&#34;hljs-keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; ny)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; *ic = C;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;\nMatrix:	(%d.%d)\n&amp;quot;&lt;/span&gt;.nx,ny);&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; iy=&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;iy&amp;lt;ny;iy++)&amp;#123;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; ix=&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;; ix&amp;lt;nx;ix++)&amp;#123;&lt;br&gt;            &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;%3d&amp;quot;&lt;/span&gt;,ic[ix]);&lt;br&gt;        &amp;#125;&lt;br&gt;        ic += nx;&lt;br&gt;        &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;);&lt;br&gt;    &amp;#125;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;);&lt;br&gt;&amp;#125;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;__global__ &lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;printThreadIndex&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; *A, &lt;span class=&#34;hljs-keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; nx, &lt;span class=&#34;hljs-keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; ny)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; ix = threadIdx.x + blockIdx.x * blockDim.x;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; iy = threadIdx.y + blockIdx.y * blockDim.y;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; idx = iy*nx + ix;&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;thread_id (%d,%d) block_id (%d,%d) coordinate (%d,%d) global index %2d ival %2d\n&amp;quot;&lt;/span&gt;, threadIdx.x, threadIdx.y, blockIdx.x,blockIdx.y,ix,iy,idx,A[idx]);&lt;br&gt;&amp;#125;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; argc,&lt;span class=&#34;hljs-keyword&#34;&gt;char&lt;/span&gt; **argv)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;%s Starting...\n&amp;quot;&lt;/span&gt;,argv[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;]);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//get device information&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; dev = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;    cudaDeviceProp deviceProp;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;CHECK&lt;/span&gt;(&lt;span class=&#34;hljs-built_in&#34;&gt;cudaGetDeviceProperties&lt;/span&gt;(&amp;amp;deviceProp, dev));&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;Using Device %d: %s\n&amp;quot;&lt;/span&gt;, dev, deviceProp.name);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//set matrix dimension&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; nx = &lt;span class=&#34;hljs-number&#34;&gt;8&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; ny = &lt;span class=&#34;hljs-number&#34;&gt;6&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; nxy = nx*ny;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; nBytes = nxy * &lt;span class=&#34;hljs-built_in&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;sizeof&lt;/span&gt;&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//malloc host memory&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; *h_A;&lt;br&gt;    h_A = (&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; *)&lt;span class=&#34;hljs-built_in&#34;&gt;malloc&lt;/span&gt;(nBytes);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//initialize host matrix with interger&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;initialInt&lt;/span&gt;(h_A, nxy);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;printMatrix&lt;/span&gt;(h_A, nx, ny);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//malloc device memory&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; *d_MatA;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMalloc&lt;/span&gt;((&lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt;**)&amp;amp;d_MatA, nBytes);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//transfer data from host to device&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMemcpy&lt;/span&gt;(d_MatA, h_A, nBytes, cudaMemcpyHostToDevice);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//set up execution configuration&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-function&#34;&gt;dim3 &lt;span class=&#34;hljs-title&#34;&gt;block&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-function&#34;&gt;dim3 &lt;span class=&#34;hljs-title&#34;&gt;grid&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;((nx+block.x&lt;span class=&#34;hljs-number&#34;&gt;-1&lt;/span&gt;)/block.x,(ny+block.y&lt;span class=&#34;hljs-number&#34;&gt;-1&lt;/span&gt;)/block.y)&lt;/span&gt;&lt;/span&gt;;&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//invoke the kernel&lt;/span&gt;&lt;br&gt;    printThreadIndex&amp;lt;&amp;lt;&amp;lt;grid,block&amp;gt;&amp;gt;&amp;gt;(d_MatA,nx,ny);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaDeviceSynchronize&lt;/span&gt;();&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//free host and device memory&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaFree&lt;/span&gt;(d_MatA);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;free&lt;/span&gt;(h_A);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//reset device&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaDeviceReset&lt;/span&gt;();&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt;(&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;);&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;a href=&#34;#å‚è€ƒèµ„æ–™&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;p&gt;CUDA Cç¼–ç¨‹æƒå¨æŒ‡å— ç¨‹æ¶¦ä¼Ÿï¼ŒMax Grossman(ç¾)ï¼ŒTy Mckercher &lt;/p&gt;
</content>
        <category term="CUDA" />
        <updated>2023-03-09T03:32:36.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/03/08/cuda013/</id>
        <title>CUDAç»„ç»‡å¹¶è¡Œç¼–ç¨‹</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/03/08/cuda013/"/>
        <content type="html">&lt;h2 id=&#34;ç»„ç»‡å¹¶è¡Œç¼–ç¨‹&#34;&gt;&lt;a href=&#34;#ç»„ç»‡å¹¶è¡Œç¼–ç¨‹&#34; class=&#34;headerlink&#34; title=&#34;ç»„ç»‡å¹¶è¡Œç¼–ç¨‹&#34;&gt;&lt;/a&gt;ç»„ç»‡å¹¶è¡Œç¼–ç¨‹&lt;/h2&gt;&lt;p&gt;ä»å‰é¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œå¦‚æœä½¿ç”¨äº†åˆé€‚çš„ç½‘æ ¼å’Œå—å¤§å°æ¥æ­£ç¡®åœ°ç»„ç»‡çº¿ç¨‹ï¼Œé‚£ä¹ˆå¯ä»¥å¯¹å†…æ ¸æ€§èƒ½äº§ç”Ÿå¾ˆå¤§çš„å½±å“ã€‚åœ¨å‘é‡åŠ æ³•çš„ä¾‹å­ä¸­ï¼Œä¸ºäº†å®ç°æœ€ä½³æ€§èƒ½æˆ‘ä»¬è°ƒæ•´äº†å—çš„å¤§å°ï¼Œå¹¶åŸºäºå—å¤§å°å’Œå‘é‡æ•°æ®å¤§å°è®¡ç®—å‡ºäº†ç½‘æ ¼å¤§å°ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨é€šè¿‡ä¸€ä¸ªçŸ©é˜µåŠ æ³•çš„ä¾‹å­è¯´æ˜è¿™ä¸€ç‚¹ã€‚å¯¹äºçŸ©é˜µè¿ç®—ï¼Œä¼ ç»Ÿçš„æ–¹æ³•æ˜¯åœ¨å†…æ ¸ä¸­ä½¿ç”¨ä¸€ä¸ªåŒ…å«äºŒç»´ç½‘æ ¼ä¸äºŒä½å—çš„å¸ƒå±€æ¥ç»„ç»‡çº¿ç¨‹ã€‚ä½†æ˜¯ï¼Œè¿™ç§ä¼ ç»Ÿçš„æ–¹æ³•æ— æ³•è·å¾—æœ€ä½³æ€§èƒ½ã€‚åœ¨çŸ©é˜µåŠ æ³•ä¸­ä½¿ç”¨ä»¥ä¸‹å¸ƒå±€å°†æœ‰åŠ©äºäº†è§£æ›´å¤šå…³äºç½‘æ ¼å’Œå—çš„å¯å‘æ€§çš„ç”¨æ³•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æœ‰äºŒç»´çº¿ç¨‹å—æ„æˆçš„äºŒç»´ç½‘æ ¼&lt;/li&gt;
&lt;li&gt;ç”±ä¸€ç»´çº¿ç¨‹å—æ„æˆçš„ä¸€ç»´ç½‘æ ¼&lt;/li&gt;
&lt;li&gt;ç”±ä¸€ç»´çº¿ç¨‹å—æ„æˆçš„äºŒç»´ç½‘æ ¼&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;a href=&#34;#å‚è€ƒèµ„æ–™&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;p&gt;CUDA Cç¼–ç¨‹æƒå¨æŒ‡å— ç¨‹æ¶¦ä¼Ÿï¼ŒMax Grossman(ç¾)ï¼ŒTy Mckercher &lt;/p&gt;
</content>
        <category term="CUDA" />
        <updated>2023-03-08T14:13:01.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/03/07/CUDA012/</id>
        <title>CUDAç»™æ ¸å‡½æ•°è®¡æ—¶</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/03/07/CUDA012/"/>
        <content type="html">&lt;h2 id=&#34;CUDAç»™æ ¸å‡½æ•°è®¡æ—¶&#34;&gt;&lt;a href=&#34;#CUDAç»™æ ¸å‡½æ•°è®¡æ—¶&#34; class=&#34;headerlink&#34; title=&#34;CUDAç»™æ ¸å‡½æ•°è®¡æ—¶&#34;&gt;&lt;/a&gt;CUDAç»™æ ¸å‡½æ•°è®¡æ—¶&lt;/h2&gt;&lt;p&gt;åœ¨å†…æ ¸çš„æ€§èƒ½è½¬æ¢è¿‡ç¨‹ä¸­ï¼Œäº†è§£æ ¸å‡½æ•°çš„æ‰§è¡Œéœ€è¦å¤šé•¿æ—¶é—´æ˜¯å¾ˆæœ‰å¸®åŠ©å¹¶ä¸”ååˆ†å…³é”®çš„ã€‚è¡¡é‡æ ¸å‡½æ•°æ€§èƒ½çš„æ–¹æ³•æœ‰å¾ˆå¤šã€‚æœ€ç®€å•çš„æ–¹æ³•æ˜¯åœ¨ä¸»æœºç«¯ä½¿ç”¨ä¸€ä¸ªCPUæˆ–GPUè®¡æ—¶å™¨æ¥è®¡ç®—å†…æ ¸çš„æ‰§è¡Œæ—¶é—´ã€‚åœ¨æœ¬èŠ‚ï¼Œä½ éœ€è¦è®¾ç½®ä¸€ä¸ªCPUè®¡æ—¶å™¨ï¼Œå¹¶ä½¿ç”¨NVIDIAåˆ†æå·¥å…·æ¥è®¡ç®—æ‰§è¡Œæ—¶é—´ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç”¨CPUè®¡æ—¶å™¨è®¡æ—¶&#34;&gt;&lt;a href=&#34;#ç”¨CPUè®¡æ—¶å™¨è®¡æ—¶&#34; class=&#34;headerlink&#34; title=&#34;ç”¨CPUè®¡æ—¶å™¨è®¡æ—¶&#34;&gt;&lt;/a&gt;ç”¨CPUè®¡æ—¶å™¨è®¡æ—¶&lt;/h3&gt;&lt;p&gt;å¯ä»¥ä½¿ç”¨gettimeofdayç³»ç»Ÿè°ƒç”¨æ¥åˆ›å»ºä¸€ä¸ªCPUè®¡æ—¶å™¨ï¼Œä»¥è·å–ç³»ç»Ÿçš„æ—¶é’Ÿæ—¶é—´ï¼Œå®ƒå°†è¿”å›è‡ª1970å¹´1æœˆ1æ—¥é›¶ç‚¹ä»¥æ¥ï¼Œåˆ°ç°åœ¨çš„ç§’æ•°ã€‚ç¨‹åºä¸­éœ€è¦æ·»åŠ sys&amp;#x2F;time.hå¤´æ–‡ä»¶ï¼Œå¦‚ä»£ç æ¸…å•2-5æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;double&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;cpuSecond&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-class&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;timeval&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;tp&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;gettimeofday&lt;/span&gt;(&amp;amp;tp,&lt;span class=&#34;hljs-literal&#34;&gt;NULL&lt;/span&gt;);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; ((&lt;span class=&#34;hljs-keyword&#34;&gt;double&lt;/span&gt;)tp.tv_sec + (&lt;span class=&#34;hljs-keyword&#34;&gt;double&lt;/span&gt;)tp.tv_usec*&lt;span class=&#34;hljs-number&#34;&gt;1.e-6&lt;/span&gt;);&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ä½ å¯ä»¥ç”¨cpuSecondå‡½æ•°æ¥æµ‹è¯•ä½ çš„æ ¸å‡½æ•°ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;double&lt;/span&gt; iStart = &lt;span class=&#34;hljs-built_in&#34;&gt;cpuSecond&lt;/span&gt;();&lt;br&gt;kernel_name&amp;lt;&amp;lt;&amp;lt;grid,block&amp;gt;&amp;gt;&amp;gt;(argument list);&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;cudaDeviceSynchronize&lt;/span&gt;();&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;double&lt;/span&gt; iElaps = &lt;span class=&#34;hljs-built_in&#34;&gt;cpuSecond&lt;/span&gt;() - iStart;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ç”±äºæ ¸å‡½æ•°è°ƒç”¨ä¸ä¸»æœºç«¯ç¨‹åºæ˜¯å¼‚æ­¥çš„ï¼Œä½ éœ€è¦ç”¨cudaDeviceSynchronizeå‡½æ•°æ¥ç­‰å¾…æ‰€æœ‰çš„GPUçº¿ç¨‹è¿è¡Œç»“æŸã€‚å˜é‡iElapsè¡¨ç¤ºç¨‹åºè¿è¡Œçš„æ—¶é—´ï¼Œå°±åƒä½ ç”¨æ‰‹è¡¨è®°å½•çš„æ ¸å‡½æ•°çš„æ‰§è¡Œæ—¶é—´ï¼ˆç”¨ç§’è®¡ç®—ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼Œé€šè¿‡è®¾ç½®æ•°æ®é›†å¤§å°æ¥å¯¹ä¸€ä¸ªæœ‰16Mä¸ªå…ƒç´ çš„å¤§å‘é‡è¿›è¡Œæµ‹è¯•ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; nElem = &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&amp;lt;&amp;lt;&lt;span class=&#34;hljs-number&#34;&gt;24&lt;/span&gt;;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ç”±äºGPUçš„å¯æ‰©å±•æ€§ï¼Œä½ éœ€è¦å€ŸåŠ©å—å’Œçº¿ç¨‹çš„ç´¢å¼•æ¥è®¡ç®—ä¸€ä¸ªæŒ‰è¡Œä¼˜å…ˆçš„æ•°ç»„ç´¢å¼• i ï¼Œå¹¶å¯¹æ ¸å‡½æ•°è¿›è¡Œä¿®æ”¹ï¼Œæ·»åŠ é™å®šæ¡ä»¶ï¼ˆi &amp;lt; Nï¼‰æ¥æ£€éªŒç´¢å¼•å€¼æ˜¯å¦è¶Šç•Œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;__global__ &lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;sumArraysOnGPU&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *A, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *B, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *C, &lt;span class=&#34;hljs-keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; N)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i = blockIdx.x * blockDim.x + threadIdx.x;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt;( n &amp;lt; N) C[i] = A[i] + B[i];&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;æœ‰äº†è¿™äº›æ›´æ”¹ï¼Œå¯ä»¥ä½¿ç”¨ä¸åŒçš„æ‰§è¡Œé…ç½®æ¥è¡¡é‡æ ¸å‡½æ•°ã€‚ä¸ºäº†è§£å†³åˆ›å»ºçš„çº¿ç¨‹æ€»æ•°å¤§äºå‘é‡å…ƒç´ æ€»æ•°çš„æƒ…å†µï¼Œä½ éœ€è¦é™åˆ¶å†…æ ¸ä¸èƒ½éæ³•è®¿é—®å…¨å±€å†…å­˜ï¼Œå¦‚å›¾2-7æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/07/CUDA012/image-20230307120643741.png&#34; alt=&#34;image-20230307120643741&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç æ¸…å•2-5å±•ç¤ºäº†å¦‚ä½•åœ¨ä¸»å‡½æ•°ä¸­ç”¨CPUè®¡æ—¶å™¨æµ‹è¯•å‘é‡åŠ æ³•çš„æ ¸å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ä»£ç æ¸…å•2-5	æµ‹è¯•å‘é‡åŠ æ³•çš„æ ¸å‡½æ•°ï¼ˆsumArraysOnGPU-timer.cuï¼‰&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;83&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;hljs-meta-string&#34;&gt;&amp;lt;cuda_runtime.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;hljs-meta-string&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;hljs-meta-string&#34;&gt;&amp;lt;sys/time.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; argc,&lt;span class=&#34;hljs-keyword&#34;&gt;char&lt;/span&gt; **argv)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;%s Starting...\n&amp;quot;&lt;/span&gt;,argv[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;]);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//set up device&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; dev = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;    cudaDeviceProp deviceProp;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;CHECK&lt;/span&gt;(&lt;span class=&#34;hljs-built_in&#34;&gt;cudaGetDeviceProperties&lt;/span&gt;(&amp;amp;deviceProp, dev));&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;Using Device %d: %s\n&amp;quot;&lt;/span&gt;, dev, deviceProp.name);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;CHECK&lt;/span&gt;(&lt;span class=&#34;hljs-built_in&#34;&gt;cudaSetDevice&lt;/span&gt;(dev));&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//set up data size of vectors&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; nElem = &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&amp;lt;&amp;lt;&lt;span class=&#34;hljs-number&#34;&gt;24&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;Vector size %d\n&amp;quot;&lt;/span&gt;,nElem);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//malloc host memory&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;size_t&lt;/span&gt; nBytes = nElem * &lt;span class=&#34;hljs-built_in&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;sizeof&lt;/span&gt;&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *h_A, *h_B, *hostRef, *gpuRef;&lt;br&gt;    h_A = (&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;*)&lt;span class=&#34;hljs-built_in&#34;&gt;malloc&lt;/span&gt;(nBytes);&lt;br&gt;    h_B = (&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;*)&lt;span class=&#34;hljs-built_in&#34;&gt;malloc&lt;/span&gt;(nBytes);&lt;br&gt;    hostRef = (&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;*)&lt;span class=&#34;hljs-built_in&#34;&gt;malloc&lt;/span&gt;(nBytes);&lt;br&gt;    gpuRef = (&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;*)&lt;span class=&#34;hljs-built_in&#34;&gt;malloc&lt;/span&gt;(nBytes);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;double&lt;/span&gt; iStart,iElaps;&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//initialize data at host side&lt;/span&gt;&lt;br&gt;    iStart = &lt;span class=&#34;hljs-built_in&#34;&gt;cpuSecond&lt;/span&gt;();&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;initialData&lt;/span&gt;(h_A, nElem);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;initialData&lt;/span&gt;(h_B, nElem);&lt;br&gt;    iElaps = &lt;span class=&#34;hljs-built_in&#34;&gt;cpuSecond&lt;/span&gt;() - iStart;&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;memset&lt;/span&gt;(hostRef, &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt; ,nBytes);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;memset&lt;/span&gt;(gpuRef, &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt; ,nBytes);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//add vector at host side for result checks&lt;/span&gt;&lt;br&gt;    iStart = &lt;span class=&#34;hljs-built_in&#34;&gt;cpuSecond&lt;/span&gt;();&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;sumArraysOnHost&lt;/span&gt;(h_A, h_B, hostRef, nElem);&lt;br&gt;    iElaps = &lt;span class=&#34;hljs-built_in&#34;&gt;cpuSecond&lt;/span&gt;() - iStart;&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//malloc device global memory&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *d_A, *d_B, *d_C;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMalloc&lt;/span&gt;((&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;**)&amp;amp;d_A, nBytes);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMalloc&lt;/span&gt;((&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;**)&amp;amp;d_B, nBytes);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMalloc&lt;/span&gt;((&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;**)&amp;amp;d_C, nBytes);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//transfer data from host to device&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMemcpy&lt;/span&gt;(d_A, h_A, nBytes, cudaMemcpyHostTodevice);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMemcpy&lt;/span&gt;(d_B, h_B, nBytes, cudaMemcpyHostTodevice);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//invoke kernel at host side&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; iLen = &lt;span class=&#34;hljs-number&#34;&gt;1024&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-function&#34;&gt;dim3 &lt;span class=&#34;hljs-title&#34;&gt;block&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(iLen)&lt;/span&gt;&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-function&#34;&gt;dim3 &lt;span class=&#34;hljs-title&#34;&gt;grid&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;((nElem+block.x&lt;span class=&#34;hljs-number&#34;&gt;-1&lt;/span&gt;))&lt;/span&gt;/block.x)&lt;/span&gt;;&lt;br&gt;    &lt;br&gt;    iStart = &lt;span class=&#34;hljs-built_in&#34;&gt;cpuSecond&lt;/span&gt;();&lt;br&gt;    sumArraysOnGPU&amp;lt;&amp;lt;&amp;lt;grid,block&amp;gt;&amp;gt;&amp;gt;(d_A, d_B, d_C,nElem);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaDeviceSynchronize&lt;/span&gt;();&lt;br&gt;    iElaps = &lt;span class=&#34;hljs-built_in&#34;&gt;cpuSecond&lt;/span&gt;() - iStart;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;sumArraysOnGPU&amp;lt;&amp;lt;&amp;lt;%d,%d&amp;gt;&amp;gt;&amp;gt; Time elapsed %f sec\n&amp;quot;&lt;/span&gt;,grid.x, block.x, iElaps);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//copy kernel result back to host side&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMemcpy&lt;/span&gt;(gpuRef, d_C, nBytes, cudaMemcpyDeviceToHost);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//check device results&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;checkResult&lt;/span&gt;(hostRef, gpuRef, nElem);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//free device global memory&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaFree&lt;/span&gt;(d_A);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaFree&lt;/span&gt;(d_B);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaFree&lt;/span&gt;(d_C);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//free host memory&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;free&lt;/span&gt;(h_A);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;free&lt;/span&gt;(h_B);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;free&lt;/span&gt;(hostRef);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;free&lt;/span&gt;(gpuRef);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt;(&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;);&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;é»˜è®¤çš„æ‰§è¡Œé…ç½®è¢«è®¾ç½®ä¸ºä¸€ä¸ªåŒ…å«16384ä¸ªå—çš„ä¸€ç»´ç½‘æ ¼ï¼Œæ¯ä¸ªå—åŒ…å«1024ä¸ªçº¿ç¨‹ã€‚ç”¨ä»¥ä¸‹å‘½ä»¤ç¼–è¯‘å¹¶è¿è¡Œç¨‹åºï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;nvcc sumArraysOnGPU-timer.cu -o sumArraysOnGPU-timer&lt;br&gt;./sumArraysOnGPU-timer&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;åœ¨åŸºäºè‹±ç‰¹å°”Sandy Bridgeæ¶æ„çš„ç³»ç»Ÿä¸Šè¿›è¡Œæµ‹è¯•ï¼Œä»ä»£ç æ¸…å•2-5çš„ç¤ºä¾‹ä¸­å¯ä»¥çœ‹å‡ºï¼Œåœ¨GPUä¸Šè¿›è¡Œçš„å‘é‡åŠ æ³•çš„è¿ç®—é€Ÿåº¦æ˜¯åœ¨CPUä¸Šè¿è¡Œå‘é‡åŠ æ³•çš„3.86å€ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;./sumArraysOnGPU-timer Starting...&lt;br&gt;Using Device 0:Tesia M2070&lt;br&gt;Vector size 16777216&lt;br&gt;sumArraysOnGPU&amp;lt;&amp;lt;&amp;lt;16384, 1024&amp;gt;&amp;gt;&amp;gt;		Time elapsed 0.002456 sec&lt;br&gt;Arrays match.&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;æŠŠå—çš„ç»´åº¦å‡å°‘åˆ°512å¯ä»¥åˆ›å»º32768ä¸ªå—ã€‚åœ¨è¿™ä¸ªæ–°çš„é…ç½®ä¸‹ï¼Œå†…æ ¸çš„æ€§èƒ½æå‡äº†1.19å€ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;sumArraysOnGPU&amp;lt;&amp;lt;&amp;lt;32768, 512&amp;gt;&amp;gt;&amp;gt;	Time elapsed 0.002058 sec&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å¦‚æœè¿›ä¸€æ­¥å°†å—çš„ç»´åº¦é™ä½åˆ°256ï¼Œç³»ç»Ÿå°†æç¤ºä»¥ä¸‹é”™è¯¯ä¿¡æ¯ï¼Œä¿¡æ¯è¡¨ç¤ºå—çš„æ€»æ•°è¶…è¿‡ä¸€ç»´ç½‘æ ¼çš„é™åˆ¶ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;./sumArraysOnGPU-timer Starting...&lt;br&gt;Using Device 0:	Tesla M2070&lt;br&gt;Vector size 16777216&lt;br&gt;sumArraysOnGPU&amp;lt;&amp;lt;&amp;lt;65536, 256&amp;gt;&amp;gt;&amp;gt;  Time elapsed 0.000183 sec&lt;br&gt;Error: sumArraysOnGPU-timer.cu:153, code:9, reason: invalid configuration argument&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;äº†è§£è‡ªèº«å±€é™æ€§&#34;&gt;&lt;a href=&#34;#äº†è§£è‡ªèº«å±€é™æ€§&#34; class=&#34;headerlink&#34; title=&#34;äº†è§£è‡ªèº«å±€é™æ€§&#34;&gt;&lt;/a&gt;äº†è§£è‡ªèº«å±€é™æ€§&lt;/h3&gt;&lt;p&gt;åœ¨è°ƒæ•´æ‰§è¡Œé…ç½®æ—¶éœ€è¦äº†è§£çš„ä¸€ä¸ªå…³é”®ç‚¹æ˜¯å¯¹ç½‘æ ¼å’Œå—ç»´åº¦çš„é™åˆ¶ã€‚çº¿ç¨‹å±‚æ¬¡ç»“æ„ä¸­æ¯ä¸ªå±‚æ¬¡çš„æœ€å¤§å°ºå¯¸å–å†³äºè®¾å¤‡ã€‚&lt;/p&gt;
&lt;p&gt;CUDAæä¾›äº†é€šè¿‡æŸ¥è¯¢GPUæ¥äº†è§£è¿™äº›é™åˆ¶çš„èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºFermiè®¾å¤‡ï¼Œæ¯ä¸ªå—çš„æœ€å¤§çº¿ç¨‹æ•°æ˜¯1024ï¼Œä¸”ç½‘æ ¼çš„x,y,zä¸‰ä¸ªæ–¹å‘ä¸Šçš„ç»´åº¦æœ€å¤§å€¼æ˜¯65535&lt;/p&gt;
&lt;h3 id=&#34;ç”¨nvprofå·¥å…·è®¡æ—¶&#34;&gt;&lt;a href=&#34;#ç”¨nvprofå·¥å…·è®¡æ—¶&#34; class=&#34;headerlink&#34; title=&#34;ç”¨nvprofå·¥å…·è®¡æ—¶&#34;&gt;&lt;/a&gt;ç”¨nvprofå·¥å…·è®¡æ—¶&lt;/h3&gt;&lt;p&gt;è‡ªCUDA 5.0ä»¥æ¥ï¼ŒNVIDIAæä¾›äº†ä¸€ä¸ªåä¸ºnvprofçš„å‘½ä»¤è¡Œåˆ†æå·¥å…·ï¼Œå¯ä»¥å¸®åŠ©ä»åº”ç”¨ç¨‹åºçš„CPUå’ŒGPUæ´»åŠ¨æƒ…å†µä¸­è·å–æ—¶é—´çº¿ä¿¡æ¯ï¼Œå…¶åŒ…æ‹¬å†…æ ¸æ‰§è¡Œï¼Œå†…å­˜ä¼ è¾“ä»¥åŠCUDA APIçš„è°ƒç”¨ã€‚å…¶ç”¨æ³•å¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;nvprof [nvprof_args] &amp;lt;application&amp;gt;  [application_args]&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è·å–æ›´å¤šå…³äºnvprofçš„å¸®åŠ©ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;nvprof --help&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ä½ å¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤å»æµ‹è¯•å†…æ ¸ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;nvprof  ./sumArraysOnGPU-timer&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;nvprofçš„è¾“å‡ºç»“æœä¼šå› ä¸ºä½ ä½¿ç”¨çš„GPUç±»å‹ä¸åŒè€Œæœ‰æ‰€å·®å¼‚ã€‚ä»¥ä¸‹ç»“æœæ˜¯ä»Tesla GPUä¸­å¾—åˆ°çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/07/CUDA012/image-20230307142027522.png&#34; alt=&#34;image-20230307142027522&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šç»“æœçš„å‰åŠéƒ¨åˆ†æ¥è‡ªäºç¨‹åºçš„è¾“å‡ºï¼ŒååŠéƒ¨åˆ†æ¥è‡ªäºnvprofçš„è¾“å‡ºã€‚å¯ä»¥æ³¨æ„åˆ°ï¼ŒCPUè®¡æ—¶å™¨æ˜¾ç¤ºæ¶ˆè€—çš„å†…æ ¸æ—¶é—´ä¸º3.26msï¼Œè€Œnvprofæ˜¾ç¤ºæ¶ˆè€—çš„å†…æ ¸æ—¶é—´ä¸º2.90msã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œnvprofçš„ç»“æœæ›´ä¸ºç²¾ç¡®ï¼Œå› ä¸ºCPUè®¡æ—¶å™¨æµ‹é‡çš„æ—¶é—´ä¸­åŒ…å«äº†æ¥è‡ªnvprofé™„åŠ çš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;nvprofæ˜¯ä¸€ä¸ªèƒ½å¸®åŠ©ä½ ç†è§£åœ¨æ‰§è¡Œåº”ç”¨ç¨‹åºæ—¶æ‰€èŠ±è´¹çš„æ—¶é—´ä¸»è¦ç”¨åœ¨ä½•å¤„çš„å¼ºå¤§å·¥å…·ã€‚å¯ä»¥æ³¨æ„åˆ°ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¸»æœºå’Œè®¾å¤‡ä¹‹é—´çš„æ•°æ®ä¼ è¾“éœ€è¦çš„æ—¶é—´æ¯”å†…æ ¸æ‰§è¡Œçš„æ—¶é—´è¦å¤šã€‚å›¾2-8æ‰€æç»˜çš„æ—¶é—´çº¿ï¼ˆæœªæŒ‰æ¯”ä¾‹ç»˜åˆ¶ï¼‰ï¼Œæ˜¾ç¤ºäº†åœ¨CPUä¸Šæ¶ˆè€—çš„æ—¶é—´ï¼Œæ•°æ®ä¼ è¾“æ‰€ç”¨çš„æ—¶é—´ä»¥åŠåœ¨GPUä¸Šè®¡ç®—æ‰€ç”¨çš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/07/CUDA012/image-20230307145539161.png&#34; alt=&#34;image-20230307145539161&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºHPCå·¥ä½œè´Ÿè½½ï¼Œç†è§£ç¨‹åºä¸­é€šä¿¡æ¯”çš„è®¡ç®—æ˜¯éå¸¸é‡è¦çš„ã€‚å¦‚æœä½ çš„åº”ç”¨ç¨‹åºç”¨äºè®¡ç®—çš„æ—¶é—´å¤§äºæ•°æ®ä¼ è¾“æ‰€ç”¨çš„æ—¶é—´ï¼Œé‚£ä¹ˆæˆ–è®¸å¯ä»¥å‹ç¼©è¿™äº›æ“ä½œï¼Œå¹¶å®Œå…¨éšè—ä¸ä¼ è¾“æ•°æ®æœ‰å…³çš„å»¶è¿Ÿã€‚å¦‚æœä½ çš„åº”ç”¨ç¨‹åºç”¨äºè®¡ç®—çš„æ—¶é—´å°‘äºæ•°æ®ä¼ è¾“æ‰€ç”¨çš„æ—¶é—´ï¼Œé‚£ä¹ˆéœ€è¦å°½é‡å‡å°‘ä¸»æœºå’Œè®¾å¤‡ä¹‹é—´çš„ä¼ è¾“ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ¯”è¾ƒåº”ç”¨ç¨‹åºçš„æ€§èƒ½å°†ç†è®ºç•Œé™æœ€å¤§åŒ–&#34;&gt;&lt;a href=&#34;#æ¯”è¾ƒåº”ç”¨ç¨‹åºçš„æ€§èƒ½å°†ç†è®ºç•Œé™æœ€å¤§åŒ–&#34; class=&#34;headerlink&#34; title=&#34;æ¯”è¾ƒåº”ç”¨ç¨‹åºçš„æ€§èƒ½å°†ç†è®ºç•Œé™æœ€å¤§åŒ–&#34;&gt;&lt;/a&gt;æ¯”è¾ƒåº”ç”¨ç¨‹åºçš„æ€§èƒ½å°†ç†è®ºç•Œé™æœ€å¤§åŒ–&lt;/h3&gt;&lt;p&gt;åœ¨è¿›è¡Œç¨‹åºä¼˜åŒ–æ—¶ï¼Œå¦‚ä½•å°†åº”ç”¨ç¨‹åºå’Œç†è®ºç•Œé™è¿›è¡Œæ¯”è¾ƒæ˜¯å¾ˆé‡è¦çš„ã€‚ç”±nvprofå¾—åˆ°çš„è®¡æ•°å™¨å¯ä»¥å¸®åŠ©ä½ è·å–åº”ç”¨ç¨‹åºçš„æŒ‡ä»¤å’Œå†…å­˜ååé‡ã€‚å¦‚æœå°†åº”ç”¨ç¨‹åºçš„æµ‹é‡å€¼ä¸ç†è®ºå³°å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¯ä»¥åˆ¤å®šä½ çš„åº”ç”¨ç¨‹åºçš„æ€§èƒ½æ˜¯å—é™äºç®—æ³•è¿˜æ˜¯å—é™äºå†…å­˜å¸¦å®½çš„ã€‚ä»¥Tesla K10ä¸ºä¾‹ï¼Œå¯ä»¥å¾—åˆ°ç†è®ºä¸Šçš„æ¯”ç‡ï¼š&lt;/p&gt;
&lt;p&gt;Tesla K10å•ç²¾åº¦å³°å€¼æµ®ç‚¹è¿ç®—æ¬¡æ•°&lt;/p&gt;
&lt;p&gt;745 MHzæ ¸å¿ƒé¢‘ç‡*2 GPU&amp;#x2F;èŠ¯ç‰‡*  ï¼ˆ8ä¸ªå¤šå¤„ç†å™¨&lt;em&gt;192ä¸ªæµ®ç‚¹å•å…ƒ&lt;/em&gt;32æ ¸å¿ƒ&amp;#x2F;å¤šå¤„ç†å™¨ï¼‰*2OPS&amp;#x2F;å‘¨æœŸ &amp;#x3D; 4.58 TFLOPS ï¼ˆFLOPSè¡¨ç¤ºæ¯ç§’æµ®ç‚¹è¿ç®—æ¬¡æ•°ï¼‰&lt;/p&gt;
&lt;p&gt;Tesla K10å†…å­˜å¸¦å®½å³°å€¼&lt;/p&gt;
&lt;p&gt;2 GPU&amp;#x2F;èŠ¯ç‰‡&lt;em&gt;256ä½&lt;/em&gt;2500 MHzå†…å­˜æ—¶é’Ÿ*2 DDR&amp;#x2F;8ä½&amp;#x2F;å­—èŠ‚ &amp;#x3D; 320 GB&amp;#x2F;s&lt;/p&gt;
&lt;p&gt;æŒ‡ä»¤æ¯”ï¼šå­—èŠ‚&lt;/p&gt;
&lt;p&gt;4.58 TFLOPS&amp;#x2F;320 GB&amp;#x2F;s,	ä¹Ÿå°±æ˜¯13.6ä¸ªæŒ‡ä»¤ï¼š1ä¸ªå­—èŠ‚&lt;/p&gt;
&lt;p&gt;å¯¹äºTesla K10è€Œè¨€ï¼Œå¦‚æœä½ çš„åº”ç”¨ç¨‹åºæ¯è®¿é—®ä¸€ä¸ªå­—èŠ‚æ‰€äº§ç”Ÿçš„æŒ‡ä»¤æ•°å¤šäº13.6ï¼Œé‚£ä¹ˆä½ çš„åº”ç”¨ç¨‹åºå—ç®—æ³•æ€§èƒ½é™åˆ¶ã€‚å¤§å¤šæ•°HPCå·¥ä½œè´Ÿè½½å—å†…å­˜å¸¦å®½çš„é™åˆ¶ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;a href=&#34;#å‚è€ƒèµ„æ–™&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;p&gt;CUDA Cç¼–ç¨‹æƒå¨æŒ‡å— ç¨‹æ¶¦ä¼Ÿï¼ŒMax Grossman(ç¾)ï¼ŒTy Mckercher &lt;/p&gt;
</content>
        <category term="CUDA" />
        <updated>2023-03-07T01:53:34.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/03/06/ML001/</id>
        <title>çº¿æ€§å›å½’æ¨¡å‹</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/03/06/ML001/"/>
        <content type="html">&lt;h2 id=&#34;çº¿æ€§å›å½’æ¨¡å‹&#34;&gt;&lt;a href=&#34;#çº¿æ€§å›å½’æ¨¡å‹&#34; class=&#34;headerlink&#34; title=&#34;çº¿æ€§å›å½’æ¨¡å‹&#34;&gt;&lt;/a&gt;çº¿æ€§å›å½’æ¨¡å‹&lt;/h2&gt;&lt;h3 id=&#34;MOdel-Representation&#34;&gt;&lt;a href=&#34;#MOdel-Representation&#34; class=&#34;headerlink&#34; title=&#34;MOdel Representation&#34;&gt;&lt;/a&gt;MOdel Representation&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;/2023/03/06/ML001/image-20230306195956356.png&#34; alt=&#34;image-20230306195956356&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;Goals&#34;&gt;&lt;a href=&#34;#Goals&#34; class=&#34;headerlink&#34; title=&#34;Goals&#34;&gt;&lt;/a&gt;Goals&lt;/h3&gt;&lt;p&gt;In this lab you will:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;learn to implement the model f_{w,b} for linear regression with one variable&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;Notation&#34;&gt;&lt;a href=&#34;#Notation&#34; class=&#34;headerlink&#34; title=&#34;Notation&#34;&gt;&lt;/a&gt;Notation&lt;/h3&gt;&lt;p&gt;Here is a summary of some of the notation you will encounter.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/06/ML001/image-20230306200250050.png&#34; alt=&#34;image-20230306200250050&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;Tools&#34;&gt;&lt;a href=&#34;#Tools&#34; class=&#34;headerlink&#34; title=&#34;Tools&#34;&gt;&lt;/a&gt;Tools&lt;/h3&gt;&lt;p&gt;In this lab you will make use of:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;NumPy,a popular library for scientific computing&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Matplotlib,a popular library for plotting data&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;import&lt;/span&gt; numpy &lt;span class=&#34;hljs-keyword&#34;&gt;as&lt;/span&gt; np&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;import&lt;/span&gt; matplotlib.pyplot &lt;span class=&#34;hljs-keyword&#34;&gt;as&lt;/span&gt; plt&lt;br&gt;plt.style.use(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;./deeplearning.mpstyle&amp;#x27;&lt;/span&gt;)&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;Problem-Statement&#34;&gt;&lt;a href=&#34;#Problem-Statement&#34; class=&#34;headerlink&#34; title=&#34;Problem Statement&#34;&gt;&lt;/a&gt;Problem Statement&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;/2023/03/06/ML001/image-20230306200642937.png&#34; alt=&#34;image-20230306200642937&#34;&gt;&lt;/p&gt;
&lt;p&gt;As in the lecture,you will use the motivating example of housing price prediction. This lab will use a simple data set with only two data points - a house with 1000 square feet(sqft) sold for $300,000 and a house with 2000 square feet sold for $500,000.These two points will constitute our data or training set. In this lab, the units of size are 1000 sqft and the units of price are 1000s of dollars.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Size (1000 sqft)&lt;/th&gt;
&lt;th&gt;Price (1000s of dollars)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;300&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;You would like to fit a linear regression model(shown above as the blue straight line)through these two points, so you can then predict price for other houses - say, a house with 1200 sqft.&lt;/p&gt;
&lt;p&gt;Please run the following code cell to create your x_train and y_train variables. The data is stored in one-dimensional NumPy arrays.&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;&lt;span class=&#34;hljs-comment&#34;&gt;#x_train is the input variable (size in 1000 square feet)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;#y_train is the target (price in 1000s of dollars)&lt;/span&gt;&lt;br&gt;x_train = np.array([&lt;span class=&#34;hljs-number&#34;&gt;1.0&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;2.0&lt;/span&gt;])&lt;br&gt;y_train = np.array([&lt;span class=&#34;hljs-number&#34;&gt;300.0&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;500.0&lt;/span&gt;])&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;x_train = &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;x_train&amp;#125;&lt;/span&gt;&amp;quot;&lt;/span&gt;)&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;y_train = &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;y_train&amp;#125;&lt;/span&gt;&amp;quot;&lt;/span&gt;)&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;Number-of-training-examples-m&#34;&gt;&lt;a href=&#34;#Number-of-training-examples-m&#34; class=&#34;headerlink&#34; title=&#34;Number of training examples m&#34;&gt;&lt;/a&gt;Number of training examples m&lt;/h3&gt;&lt;p&gt;you will use m to denote the number of training examples. Numpy arrays have a .shape parameter. x_train.shape return a python tuple with an entry for each dimension. x_train.shape[0] is the length of the array and number of examples as shown below.&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# m is the number of training examples&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;x_train.shape: &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;x_train.shape&amp;#125;&lt;/span&gt;&amp;quot;&lt;/span&gt;)&lt;br&gt;m = x_train.shape[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;]&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;Number of training example is: &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;m&amp;#125;&lt;/span&gt;&amp;quot;&lt;/span&gt;)&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;x.train.shape: (2,)&lt;/p&gt;
&lt;p&gt;Number of training examples is: 2&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;One can also use the Python len() function as shown below.&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# m is the number of training examples&lt;/span&gt;&lt;br&gt;m = &lt;span class=&#34;hljs-built_in&#34;&gt;len&lt;/span&gt;(x_train)&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;Number of training example is: &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;m&amp;#125;&lt;/span&gt;&amp;quot;&lt;/span&gt;)&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;Number of training examples  is:	2&lt;/p&gt;
&lt;h3 id=&#34;Training-example-x-i-y-i&#34;&gt;&lt;a href=&#34;#Training-example-x-i-y-i&#34; class=&#34;headerlink&#34; title=&#34;Training example x_i, y_i&#34;&gt;&lt;/a&gt;Training example x_i, y_i&lt;/h3&gt;&lt;p&gt;You will use (x(ğ‘–), y(ğ‘–)) to denote the ğ‘–(th) training example. Since Python is zero indexed, (x(0), y(0) is (1.0, 300.0) and (x(1), y(1) is (2.0, 500.0).&lt;/p&gt;
&lt;p&gt;To access a value in a Numpy array, one indexes the array with the desired offset. For example the syntax to access location zero of x_train is x_train[0]. Run the next code block below to get the i(th) training example.&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;i = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;hljs-comment&#34;&gt;#Change this to 1 to see (x^1,y^1)&lt;/span&gt;&lt;br&gt;&lt;br&gt;x_i = x_train[i]&lt;br&gt;y_i = y_train[i]&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;(x^(&lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;i&amp;#125;&lt;/span&gt;), y^(&lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;i&amp;#125;&lt;/span&gt;)) = (&lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;x_i&amp;#125;&lt;/span&gt;, &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;y_i&amp;#125;&lt;/span&gt;)&amp;quot;&lt;/span&gt;)&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;(x^(&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;), y^(&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;)) = (&lt;span class=&#34;hljs-number&#34;&gt;1.0&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;300.0&lt;/span&gt;)&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;Plotting-the-data&#34;&gt;&lt;a href=&#34;#Plotting-the-data&#34; class=&#34;headerlink&#34; title=&#34;Plotting the data&#34;&gt;&lt;/a&gt;Plotting the data&lt;/h3&gt;&lt;p&gt;You can plot these two points using the scatter() function is the matplotlib library,as shown in the cell below.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The function arguments marker and c show the points as red crosses(the default is blue dots.)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can use other functions in the matplotlib library to set title and labels to display.&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;&lt;span class=&#34;hljs-comment&#34;&gt;#Plot the data points&lt;/span&gt;&lt;br&gt;plt.scatter(x_train, y_train, marker=&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;x&amp;#x27;&lt;/span&gt; c=&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;r&amp;#x27;&lt;/span&gt;)&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;#Set the title&lt;/span&gt;&lt;br&gt;plt.title(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;Housing Prices&amp;quot;&lt;/span&gt;)&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;#Set the y-axis label&lt;/span&gt;&lt;br&gt;plt.ylabel(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;Price (in 1000s of dollars)&amp;#x27;&lt;/span&gt;)&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;#Set the x-axis lbel&lt;/span&gt;&lt;br&gt;plt.xlabel(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;Size (1000 sqft)&amp;#x27;&lt;/span&gt;)&lt;br&gt;plt.show()&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&#34;/2023/03/06/ML001/image-20230306204822102.png&#34; alt=&#34;image-20230306204822102&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;Model-function&#34;&gt;&lt;a href=&#34;#Model-function&#34; class=&#34;headerlink&#34; title=&#34;Model function&#34;&gt;&lt;/a&gt;Model function&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;/2023/03/06/ML001/image-20230306204918585.png&#34; alt=&#34;image-20230306204918585&#34;&gt;&lt;/p&gt;
&lt;p&gt;As described in lecture, the model function for linear regression (which is a function that maps from x to y)is represented as&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/06/ML001/image-20230306205107527.png&#34; alt=&#34;image-20230306205107527&#34;&gt;&lt;/p&gt;
&lt;p&gt;The formula above is how you can represent straight lines - different values of w and b give you different straight lines on the plot.&lt;/p&gt;
&lt;p&gt;Letâ€™s try to get a better intuition for this through the code blocks below. Letâ€™s start with w &amp;#x3D; 100 and b &amp;#x3D;100.&lt;/p&gt;
&lt;p&gt;Note: You can come back to this cell to adjust the modelâ€™s w and b parameters.&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;w = &lt;span class=&#34;hljs-number&#34;&gt;100&lt;/span&gt;&lt;br&gt;b = &lt;span class=&#34;hljs-number&#34;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;w: &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;w&amp;#125;&lt;/span&gt;&amp;quot;&lt;/span&gt;)&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;b: &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;b&amp;#125;&lt;/span&gt;&amp;quot;&lt;/span&gt;)&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;w:	&lt;span class=&#34;hljs-number&#34;&gt;100&lt;/span&gt;&lt;br&gt;b:	&lt;span class=&#34;hljs-number&#34;&gt;100&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;Now,letâ€™s compute the value of f_{w,b}(x^i) for your two data points. You can explicitly write this out for each data poins as -&lt;/p&gt;
&lt;p&gt;for x(0),f_wb &amp;#x3D; w * x[0] + b&lt;/p&gt;
&lt;p&gt;for x(1),f_wb &amp;#x3D; w * x[1] + b&lt;/p&gt;
&lt;p&gt;For a large number of data points, this can get unwieldy and repetitive. So instead, you can calculate the function output in a for loop as shown in the compute_model_output function below.&lt;/p&gt;
&lt;p&gt;Note:The argument description (ndarray (m,)) describes a Numpy n-dimensional array of shape (m,). (scalar) describes an argument without dimensions, just a magnitude.&lt;/p&gt;
&lt;p&gt;Note: np.zero(n) will return a one-dimensional numpy array with n entries&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;compute_model_output&lt;/span&gt;(&lt;span class=&#34;hljs-params&#34;&gt;x, w, b&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    Computes the prediction of a linear model&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    Args:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    	x (ndarray (m,)):Data, m examples&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    	w,b (scalar)	:model parameters&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    Returns&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    	y (ndarray (m,)):target values&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;br&gt;    &lt;br&gt;    m = x.shape[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;]&lt;br&gt;    f_wb = np.zeros(m)&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; i &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;hljs-built_in&#34;&gt;range&lt;/span&gt;(m)&lt;br&gt;    	f_wb[i] = w * x[i] + b&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; f_wb&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;Now letâ€™s call the compute_model_output function and plot the output.&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;tmp_f_wb = compute_model_output(x_train, w, b,)&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;#Plot our model prediction&lt;/span&gt;&lt;br&gt;plt.plot(x_train, tmp_f_wb, c=&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;b&amp;#x27;&lt;/span&gt;,label=&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;Our Prediction&amp;#x27;&lt;/span&gt;)&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;#Plot the data points&lt;/span&gt;&lt;br&gt;plt.scatter(x_train, y_train, marker=&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;x&amp;#x27;&lt;/span&gt;, c=&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;r&amp;#x27;&lt;/span&gt;,label=&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;Actual Values&amp;#x27;&lt;/span&gt;)&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;#Set the title&lt;/span&gt;&lt;br&gt;plt.title(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;Housing Prices&amp;quot;&lt;/span&gt;)&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;#Set the y-axis label&lt;/span&gt;&lt;br&gt;plt.ylabel(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;Price (in 1000s of dollars)&amp;#x27;&lt;/span&gt;)&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;#Set the x-axis label&lt;/span&gt;&lt;br&gt;plt.xlabel(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;Size (1000 sqft)&amp;#x27;&lt;/span&gt;)&lt;br&gt;plt.legend()&lt;br&gt;plt.show()&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&#34;/2023/03/06/ML001/image-20230306211337338.png&#34; alt=&#34;image-20230306211337338&#34;&gt;&lt;/p&gt;
&lt;p&gt;As you can see, setting w &amp;#x3D; 100 and b &amp;#x3D; 100 does not result in a line that fits our data.&lt;/p&gt;
&lt;h3 id=&#34;Challenge&#34;&gt;&lt;a href=&#34;#Challenge&#34; class=&#34;headerlink&#34; title=&#34;Challenge&#34;&gt;&lt;/a&gt;Challenge&lt;/h3&gt;&lt;p&gt;Try experimenting with different values of w and b. What should the values be for a line that fits our data?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;You can use  your mouse to click on the triangle to the left of the green â€œHintsâ€ below to reveal some hints for choosing b and w.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Hints&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;Prediction&#34;&gt;&lt;a href=&#34;#Prediction&#34; class=&#34;headerlink&#34; title=&#34;Prediction&#34;&gt;&lt;/a&gt;Prediction&lt;/h3&gt;&lt;p&gt;Now that we have a model, we can use it to make our original prediction. Letâ€™s predict the price of a house with 1200 sqft. Since the units of x are in 1000â€™s of sqft, x is 1.2.&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;w = &lt;span class=&#34;hljs-number&#34;&gt;200&lt;/span&gt;&lt;br&gt;b = &lt;span class=&#34;hljs-number&#34;&gt;100&lt;/span&gt;&lt;br&gt;x_i = &lt;span class=&#34;hljs-number&#34;&gt;1.2&lt;/span&gt;&lt;br&gt;cost_1200sqft = w * x_i + b&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;$&lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;cost_1200sqft:&lt;span class=&#34;hljs-number&#34;&gt;.0&lt;/span&gt;f&amp;#125;&lt;/span&gt; thousand dollars&amp;quot;&lt;/span&gt; )&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs python&#34;&gt;$&lt;span class=&#34;hljs-number&#34;&gt;340&lt;/span&gt; thousand dollars&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;Congratulations&#34;&gt;&lt;a href=&#34;#Congratulations&#34; class=&#34;headerlink&#34; title=&#34;Congratulations!&#34;&gt;&lt;/a&gt;Congratulations!&lt;/h3&gt;&lt;p&gt;In this lab you have learned:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Linear regression bulids a model which establishes a relationship between features and targets&lt;/li&gt;
&lt;li&gt;In the example above, the feature was house size and the target was house price&lt;/li&gt;
&lt;li&gt;for simple linear regression, the model has two parameters w and b whose calue are â€˜fitâ€™ using training data.&lt;/li&gt;
&lt;li&gt;once a modelâ€™s parameters have been determined, the model can be used to make predictions on novel data.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;a href=&#34;#å‚è€ƒèµ„æ–™&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;p&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1Pa411X76s?p=5&amp;amp;vd_source=3ae32e36058f58c5b85935fca9b77797&#34;&gt;https://www.bilibili.com/video/BV1Pa411X76s?p=5&amp;amp;vd_source=3ae32e36058f58c5b85935fca9b77797&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/kaieye/2022-Machine-Learning-Specialization&#34;&gt;kaieye&amp;#x2F;2022-Machine-Learning-Specialization (github.com)&lt;/a&gt;&lt;/p&gt;
</content>
        <category term="Tensorflow" />
        <category term="Machine Learning" />
        <updated>2023-03-06T11:00:34.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/03/06/cuda011/</id>
        <title>CUDAç¼–è¯‘ä¸æ‰§è¡Œ</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/03/06/cuda011/"/>
        <content type="html">&lt;h2 id=&#34;CUDAç¼–è¯‘ä¸æ‰§è¡Œ&#34;&gt;&lt;a href=&#34;#CUDAç¼–è¯‘ä¸æ‰§è¡Œ&#34; class=&#34;headerlink&#34; title=&#34;CUDAç¼–è¯‘ä¸æ‰§è¡Œ&#34;&gt;&lt;/a&gt;CUDAç¼–è¯‘ä¸æ‰§è¡Œ&lt;/h2&gt;&lt;p&gt;ç°åœ¨æŠŠæ‰€æœ‰çš„ä»£ç æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶åä¸ºsumArraysOnGPU-small-case.cuçš„æ–‡ä»¶ä¸­ï¼Œå¦‚ä»£ç æ¸…å•2-4æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä»£ç æ¸…å•2-4		åŸºäºGPUçš„å‘é‡åŠ æ³•ï¼ˆsumArraysOnGPU-small-case.cuï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;114&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;hljs-meta-string&#34;&gt;&amp;lt;cuda_runtime.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;hljs-meta-string&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;/*&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;#define CHECK(call)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;    const cudaError_t error = call;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;    if(error != cudaSuccess)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;        printf(&amp;quot;Error:%s:%d, &amp;quot;, __FILE__, __LINE__);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;        printf(&amp;quot;code:%d, reason: %s\n&amp;quot;, error, cudaGetErrorString(error));&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;*/&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;checkResult&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *hostRef, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *gpuRef, &lt;span class=&#34;hljs-keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; N)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;double&lt;/span&gt; epsilon = &lt;span class=&#34;hljs-number&#34;&gt;1.0E-8&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; match = &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt; ;i &amp;lt; N; i++)&amp;#123;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt;(&lt;span class=&#34;hljs-built_in&#34;&gt;abs&lt;/span&gt;(hostRef[i] - gpuRef[i]) &amp;gt; epsilon)&amp;#123;&lt;br&gt;            match = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;            &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;Arrays do not match!\n&amp;quot;&lt;/span&gt;);&lt;br&gt;            &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;host %5.2f gpu %5.2f at current %d\n&amp;quot;&lt;/span&gt;,hostRef[i],gpuRef[i],i);&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;break&lt;/span&gt;;&lt;br&gt;        &amp;#125;&lt;br&gt;    &amp;#125;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt;(match) &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;Arrays match.\n\n&amp;quot;&lt;/span&gt;);&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt;;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;initialData&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *ip,&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; size)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//generate different seed for random number&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;time_t&lt;/span&gt; t;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;srand&lt;/span&gt;((&lt;span class=&#34;hljs-keyword&#34;&gt;unsigned&lt;/span&gt;) &lt;span class=&#34;hljs-built_in&#34;&gt;time&lt;/span&gt;(&amp;amp;t));&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;; i&amp;lt;size;i++)&amp;#123;&lt;br&gt;        ip[i] = (&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;)(&lt;span class=&#34;hljs-built_in&#34;&gt;rand&lt;/span&gt;() &amp;amp; &lt;span class=&#34;hljs-number&#34;&gt;0xFF&lt;/span&gt;) /&lt;span class=&#34;hljs-number&#34;&gt;10.0f&lt;/span&gt;;&lt;br&gt;    &amp;#125;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;sumArraysOnHost&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *A,&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *B, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *C)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i = threadIdx.x;&lt;br&gt;    C[i] = A[i] + B[i];&lt;br&gt;&amp;#125;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;__gloal__ &lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;sumArraysOnGPU&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *A, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *B, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *C)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i = threadIdx.x;&lt;br&gt;    C[i] = A[i] + B[i];&lt;br&gt;&amp;#125;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; argc,&lt;span class=&#34;hljs-keyword&#34;&gt;char&lt;/span&gt; **argv)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;%s Starting...\n&amp;quot;&lt;/span&gt;,argv[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;]);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//set up device&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; dev = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaSetDevice&lt;/span&gt;(dev);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//set up data size of vectors&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; nElem = &lt;span class=&#34;hljs-number&#34;&gt;32&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;Vector size %d\n&amp;quot;&lt;/span&gt;,nElem);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//malloc host memory&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;size_t&lt;/span&gt; nBytes = nElem * &lt;span class=&#34;hljs-built_in&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;sizeof&lt;/span&gt;&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *h_A, *h_B, *hostRef, *gpuRef;&lt;br&gt;    h_A = (&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;*)&lt;span class=&#34;hljs-built_in&#34;&gt;malloc&lt;/span&gt;(nBytes);&lt;br&gt;    h_B = (&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;*)&lt;span class=&#34;hljs-built_in&#34;&gt;malloc&lt;/span&gt;(nBytes);&lt;br&gt;    hostRef = (&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;*)&lt;span class=&#34;hljs-built_in&#34;&gt;malloc&lt;/span&gt;(nBytes);&lt;br&gt;    gpuRef = (&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;*)&lt;span class=&#34;hljs-built_in&#34;&gt;malloc&lt;/span&gt;(nBytes);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//initialize data at host side&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;initialData&lt;/span&gt;(h_A, nElem);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;initialData&lt;/span&gt;(h_B, nElem);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;memset&lt;/span&gt;(hostRef, &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt; ,nBytes);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;memset&lt;/span&gt;(gpuRef, &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt; ,nBytes);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//malloc device global memory&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *d_A, *d_B, *d_C;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMalloc&lt;/span&gt;((&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;**)&amp;amp;d_A, nBytes);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMalloc&lt;/span&gt;((&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;**)&amp;amp;d_B, nBytes);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMalloc&lt;/span&gt;((&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt;**)&amp;amp;d_C, nBytes);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//transfer data from host to device&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMemcpy&lt;/span&gt;(d_A, h_A, nBytes, cudaMemcpyHostTodevice);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMemcpy&lt;/span&gt;(d_B, h_B, nBytes, cudaMemcpyHostTodevice);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//invoke kernel at host side&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-function&#34;&gt;dim3 &lt;span class=&#34;hljs-title&#34;&gt;block&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(nElem)&lt;/span&gt;&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-function&#34;&gt;dim3 &lt;span class=&#34;hljs-title&#34;&gt;grid&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(nElem/block.x)&lt;/span&gt;&lt;/span&gt;;&lt;br&gt;    &lt;br&gt;    sumArraysOnGPU&amp;lt;&amp;lt;&amp;lt;grid,block&amp;gt;&amp;gt;&amp;gt;(d_A, d_B, d_C);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;pritnf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;Execution configuration &amp;lt;&amp;lt;&amp;lt;%d, %d&amp;gt;&amp;gt;&amp;gt;\n&amp;quot;&lt;/span&gt;,grid.x,block.x);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//copy kernel result back to host side&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaMemcpy&lt;/span&gt;(gpuRef, d_C, nBytes, cudaMemcpyDeviceToHost);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//add vector at host side for result checks&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;sumArraysOnHost&lt;/span&gt;(h_A, h_B, hostRef, nElem);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//check device results&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;checkResult&lt;/span&gt;(hostRef, gpuRef, nElem);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//free device global memory&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaFree&lt;/span&gt;(d_A);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaFree&lt;/span&gt;(d_B);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;cudaFree&lt;/span&gt;(d_C);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;//free host memory&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;free&lt;/span&gt;(h_A);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;free&lt;/span&gt;(h_B);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;free&lt;/span&gt;(hostRef);&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;free&lt;/span&gt;(gpuRef);&lt;br&gt;    &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt;(&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;);&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå‘é‡å¤§å°è¢«è®¾ç½®ä¸º32ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; nElem = &lt;span class=&#34;hljs-number&#34;&gt;32&lt;/span&gt;;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;æ‰§è¡Œé…ç½®è¢«æ”¾å…¥ä¸€ä¸ªå—å†…ï¼Œå…¶ä¸­åŒ…å«32ä¸ªå…ƒç´ ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;dim3 &lt;span class=&#34;hljs-title&#34;&gt;block&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(nElem)&lt;/span&gt;&lt;/span&gt;;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;dim3 &lt;span class=&#34;hljs-title&#34;&gt;grid&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(nElem/block.x)&lt;/span&gt;&lt;/span&gt;;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç¼–è¯‘å’Œæ‰§è¡Œè¯¥å¸¦å•Šå—ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;nvcc sumArraysOnGPU-small-case.cu -o addvector&lt;br&gt;./addvector&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ç³»ç»ŸæŠ¥å‘Šå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;./addvector Starting...&lt;br&gt;Vector size 32&lt;br&gt;Execution configuration &amp;lt;&amp;lt;&amp;lt;1,32&amp;gt;&amp;gt;&amp;gt;&lt;br&gt;Arrays match.&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å¦‚æœä½ å°†æ‰§è¡Œé…ç½®é‡æ–°å®šä¹‰ä¸º32ä¸ªå—ï¼Œæ¯ä¸ªå—åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼›&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;dim3 &lt;span class=&#34;hljs-title&#34;&gt;block&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;dim3 &lt;span class=&#34;hljs-title&#34;&gt;grid&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(nElem)&lt;/span&gt;&lt;/span&gt;;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;é‚£ä¹ˆå°±éœ€è¦åœ¨ä»£ç æ¸…å•2-4ä¸­å¯¹æ ¸å‡½æ•°sumArraysOnGPUè¿›è¡Œä¿®æ”¹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;ç”¨&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i = threadIdx.x;    æ›¿æ¢&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i = blockIdx.x;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯ä»¥åŸºäºç»™å®šçš„ä¸€ç»´ç½‘æ ¼å’Œå—çš„ä¿¡æ¯æ¥è®¡ç®—å…¨å±€æ•°æ®è®¿é—®çš„å”¯ä¸€ç´¢å¼•ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;__gloal__ &lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;sumArraysOnGPU&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *A, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *B, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *C)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i = blockIdx.x * blockDim.x * threadIdx.x;&lt;br&gt;    C[i] = A[i] + B[i];&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ä½ éœ€è¦ç¡®ä¿ä¸€èˆ¬æƒ…å†µä¸‹è¿›è¡Œæ›´æ”¹æ‰€äº§ç”Ÿç»“æœçš„æ­£ç¡®æ€§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;a href=&#34;#å‚è€ƒèµ„æ–™&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;p&gt;CUDA Cç¼–ç¨‹æƒå¨æŒ‡å— ç¨‹æ¶¦ä¼Ÿï¼ŒMax Grossman(ç¾)ï¼ŒTy Mckercher &lt;/p&gt;
</content>
        <category term="CUDA" />
        <updated>2023-03-06T08:18:09.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/03/06/cuda010/</id>
        <title>CUDAå¤„ç†é”™è¯¯</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/03/06/cuda010/"/>
        <content type="html">&lt;h2 id=&#34;CUDAå¤„ç†é”™è¯¯&#34;&gt;&lt;a href=&#34;#CUDAå¤„ç†é”™è¯¯&#34; class=&#34;headerlink&#34; title=&#34;CUDAå¤„ç†é”™è¯¯&#34;&gt;&lt;/a&gt;CUDAå¤„ç†é”™è¯¯&lt;/h2&gt;&lt;p&gt;ç”±äºè®¸å¤šCUDAè°ƒç”¨æ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥æœ‰æ—¶å¯èƒ½å¾ˆéš¾ç¡®å®šæŸä¸ªé”™è¯¯æ˜¯ç”±å“ªä¸€æ­¥ç¨‹åºå¼•èµ·çš„ã€‚å®šä¹‰ä¸€ä¸ªé”™è¯¯å¤„ç†å®å°è£…æ‰€æœ‰çš„CUDA APIè°ƒç”¨ï¼Œè¿™ç®€åŒ–äº†é”™è¯¯æ£€æŸ¥è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;define&lt;/span&gt; CHECK(call)&lt;/span&gt;&lt;br&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;const&lt;/span&gt; cudaError_t error = call;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt;(error != cudaSuccess)&lt;br&gt;    &amp;#123;&lt;br&gt;        &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;Error:%s:%d, &amp;quot;&lt;/span&gt;, __FILE__, __LINE__);&lt;br&gt;        &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;code:%d, reason: %s\n&amp;quot;&lt;/span&gt;, error, &lt;span class=&#34;hljs-built_in&#34;&gt;cudaGetErrorString&lt;/span&gt;(error));&lt;br&gt;    &amp;#125;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ä¾‹å¦‚ï¼Œä½ å¯ä»¥åœ¨ä»¥ä¸‹ä»£ç ä¸­ä½¿ç”¨å®ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight reasonml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs reasonml&#34;&gt;&lt;span class=&#34;hljs-constructor&#34;&gt;CHECK(&lt;span class=&#34;hljs-params&#34;&gt;cudaMemcpy&lt;/span&gt;(&lt;span class=&#34;hljs-params&#34;&gt;d_C&lt;/span&gt;, &lt;span class=&#34;hljs-params&#34;&gt;gpuRef&lt;/span&gt;, &lt;span class=&#34;hljs-params&#34;&gt;nBytes&lt;/span&gt;, &lt;span class=&#34;hljs-params&#34;&gt;cudaMemcpyHostToDevice&lt;/span&gt;)&lt;/span&gt;);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å¦‚æœå†…å­˜æ‹·è´æˆ–ä¹‹å‰çš„å¼‚æ­¥æ“ä½œäº§ç”Ÿäº†é”™è¯¯ï¼Œè¿™ä¸ªå®ä¼šæŠ¥å‘Šé”™è¯¯ä»£ç ï¼Œå¹¶è¾“å‡ºä¸€ä¸ªå¯è¯»ä¿¡æ¯ï¼Œç„¶ååœæ­¢ç¨‹åºã€‚ä¹Ÿå¯ä»¥ç”¨ä¸‹è¿°æ–¹æ³•ï¼Œåœ¨æ ¸å‡½æ•°è°ƒç”¨åæ£€æŸ¥æ ¸å‡½æ•°é”™è¯¯ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;kernel_function&amp;lt;&amp;lt;&amp;lt;grid,block&amp;gt;&amp;gt;&amp;gt;(argument list);&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;CHECK&lt;/span&gt;(&lt;span class=&#34;hljs-built_in&#34;&gt;cudaDeviceSynchronize&lt;/span&gt;());&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;CHECK(cudaDeviceSynchronize())ä¼šé˜»å¡ä¸»æœºç«¯çº¿ç¨‹çš„è¿è¡Œç›´åˆ°è®¾å¤‡ç«¯æ‰€æœ‰çš„è¯·æ±‚ä»»åŠ¡éƒ½ç»“æŸï¼Œå¹¶ç¡®ä¿æœ€åçš„æ ¸å‡½æ•°å¯åŠ¨éƒ¨åˆ†ä¸ä¼šå‡ºé”™ã€‚ä»¥ä¸Šä»…æ˜¯ä»¥è°ƒè¯•ä¸ºç›®çš„çš„ï¼Œå› ä¸ºåœ¨æ ¸å‡½æ•°å¯åŠ¨åæ·»åŠ è¿™ä¸ªæ£€æŸ¥ç‚¹ä¼šé˜»å¡ä¸»æœºç«¯çº¿ç¨‹ï¼Œä½¿è¯¥æ£€æŸ¥ç‚¹æˆä¸ºå…¨å±€å±éšœã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;a href=&#34;#å‚è€ƒèµ„æ–™&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;p&gt;CUDA Cç¼–ç¨‹æƒå¨æŒ‡å— ç¨‹æ¶¦ä¼Ÿï¼ŒMax Grossman(ç¾)ï¼ŒTy Mckercher &lt;/p&gt;
</content>
        <category term="CUDA" />
        <updated>2023-03-06T08:17:59.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/03/06/cuda009/</id>
        <title>CUDAéªŒè¯æ ¸å‡½æ•°</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/03/06/cuda009/"/>
        <content type="html">&lt;h2 id=&#34;CUDAéªŒè¯æ ¸å‡½æ•°&#34;&gt;&lt;a href=&#34;#CUDAéªŒè¯æ ¸å‡½æ•°&#34; class=&#34;headerlink&#34; title=&#34;CUDAéªŒè¯æ ¸å‡½æ•°&#34;&gt;&lt;/a&gt;CUDAéªŒè¯æ ¸å‡½æ•°&lt;/h2&gt;&lt;p&gt;æ—¢ç„¶ä½ å·²ç»ç¼–å†™äº†æ ¸å‡½æ•°ï¼Œä½ å¦‚ä½•èƒ½çŸ¥é“å®ƒæ˜¯å¦æ­£ç¡®è¿è¡Œï¼Ÿä½ éœ€è¦ä¸€ä¸ªä¸»æœºå‡½æ•°æ¥éªŒè¯æ ¸å‡½æ•°çš„ç»“æœã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;checkResult&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *hostRef, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *gpuRef, &lt;span class=&#34;hljs-keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; N)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;double&lt;/span&gt; epsilon = &lt;span class=&#34;hljs-number&#34;&gt;1.0E-8&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; match = &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt; ;i &amp;lt; N; i++)&amp;#123;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt;(&lt;span class=&#34;hljs-built_in&#34;&gt;abs&lt;/span&gt;(hostRef[i] - gpuRef[i]) &amp;gt; epsilon)&amp;#123;&lt;br&gt;            match = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;            &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;Arrays do not match!\n&amp;quot;&lt;/span&gt;);&lt;br&gt;            &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;host %5.2f gpu %5.2f at current %d\n&amp;quot;&lt;/span&gt;,hostRef[i],gpuRef[i],i);&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;break&lt;/span&gt;;&lt;br&gt;        &amp;#125;&lt;br&gt;    &amp;#125;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt;(match) &lt;span class=&#34;hljs-built_in&#34;&gt;printf&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;Arrays match.\n\n&amp;quot;&lt;/span&gt;);&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt;;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;éªŒè¯æ ¸å‡½æ•°ä»£ç &#34;&gt;&lt;a href=&#34;#éªŒè¯æ ¸å‡½æ•°ä»£ç &#34; class=&#34;headerlink&#34; title=&#34;éªŒè¯æ ¸å‡½æ•°ä»£ç &#34;&gt;&lt;/a&gt;éªŒè¯æ ¸å‡½æ•°ä»£ç &lt;/h3&gt;&lt;p&gt;é™¤äº†è®¸å¤šå¯ç”¨çš„è°ƒè¯•å·¥å…·å¤–ï¼Œè¿˜æœ‰ä¸¤ä¸ªéå¸¸ç®€å•å®ç”¨çš„æ–¹æ³•å¯ä»¥éªŒè¯æ ¸å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œä½ å¯ä»¥åœ¨FermiåŠæ›´é«˜ç‰ˆæœ¬çš„è®¾å¤‡ç«¯çš„æ ¸å‡½æ•°ä¸­ä½¿ç”¨printfå‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å…¶æ¬¡ï¼Œå¯ä»¥å°†æ‰§è¡Œå‚æ•°è®¾ç½®ä¸º&amp;lt;&amp;lt;&amp;lt;1,1&amp;gt;&amp;gt;&amp;gt;ï¼Œå› æ­¤å¼ºåˆ¶ç”¨ä¸€ä¸ªå—å’Œä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œæ ¸å‡½æ•°ï¼Œè¿™æ¨¡æ‹Ÿäº†ä¸²è¡Œæ‰§è¡Œç¨‹åºã€‚è¿™å¯¹äºè°ƒè¯•å’ŒéªŒè¯ç»“æœæ˜¯å¦æ­£ç¡®æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œè€Œä¸”ï¼Œå¦‚æœä½ é‡åˆ°äº†è¿ç®—æ¬¡åºçš„é—®é¢˜ï¼Œè¿™æœ‰åŠ©äºä½ å¯¹æ¯”éªŒè¯æ•°å€¼ç»“æœæ˜¯å¦æ˜¯æŒ‰ä½ç²¾ç¡®çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;a href=&#34;#å‚è€ƒèµ„æ–™&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;p&gt;CUDA Cç¼–ç¨‹æƒå¨æŒ‡å— ç¨‹æ¶¦ä¼Ÿï¼ŒMax Grossman(ç¾)ï¼ŒTy Mckercher &lt;/p&gt;
</content>
        <category term="CUDA" />
        <updated>2023-03-06T08:06:35.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/03/06/cuda008/</id>
        <title>CUDAç¼–å†™æ ¸å‡½æ•°</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/03/06/cuda008/"/>
        <content type="html">&lt;h2 id=&#34;ç¼–å†™æ ¸å‡½æ•°&#34;&gt;&lt;a href=&#34;#ç¼–å†™æ ¸å‡½æ•°&#34; class=&#34;headerlink&#34; title=&#34;ç¼–å†™æ ¸å‡½æ•°&#34;&gt;&lt;/a&gt;ç¼–å†™æ ¸å‡½æ•°&lt;/h2&gt;&lt;p&gt;æ ¸å‡½æ•°æ˜¯åœ¨è®¾å¤‡ç«¯æ‰§è¡Œçš„ä»£ç ã€‚åœ¨æ ¸å‡½æ•°ä¸­ï¼Œéœ€è¦ä¸ºä¸€ä¸ªçº¿ç¨‹è§„å®šè¦è¿›è¡Œçš„è®¡ç®—ä»¥åŠè¦è¿›è¡Œçš„æ•°æ®è®¿é—®ã€‚å½“æ ¸å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè®¸å¤šä¸åŒçš„CUDAçº¿ç¨‹å¹¶è¡Œæ‰§è¡ŒåŒä¸€ä¸ªè®¡ç®—ä»»åŠ¡ã€‚ä»¥ä¸‹æ˜¯ç”¨_&lt;em&gt;global&lt;/em&gt;_&lt;/p&gt;
&lt;p&gt;å£°æ˜å®šä¹‰æ ¸å‡½æ•°ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight reasonml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs reasonml&#34;&gt;__global__  void kernel&lt;span class=&#34;hljs-constructor&#34;&gt;_name(&lt;span class=&#34;hljs-params&#34;&gt;argument&lt;/span&gt; &lt;span class=&#34;hljs-params&#34;&gt;list&lt;/span&gt;)&lt;/span&gt;;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;æ ¸å‡½æ•°å¿…é¡»æœ‰ä¸€ä¸ªvoidè¿”å›ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;è¡¨2-2æ€»ç»“äº†CUDA Cç¨‹åºä¸­çš„å‡½æ•°ç±»å‹é™å®šç¬¦ã€‚å‡½æ•°ç±»å‹é™å®šç¬¦æŒ‡å®šä¸€ä¸ªå‡½æ•°åœ¨ä¸»æœºä¸Šæ‰§è¡Œè¿˜æ˜¯åœ¨è®¾å¤‡ä¸Šæ‰§è¡Œï¼Œä»¥åŠå¯è¢«ä¸»æœºè°ƒç”¨è¿˜æ˜¯è¢«è®¾å¤‡è°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2023/03/06/cuda008/image-20230306155126122.png&#34; alt=&#34;image-20230306155126122&#34;&gt;&lt;/p&gt;
&lt;p&gt;_&lt;em&gt;device&lt;/em&gt;_   å’Œ __host__é™å®šç¬¦å¯ä»¥ä¸€é½ä½¿ç”¨ï¼Œè¿™æ ·å‡½æ•°å¯ä»¥åŒæ—¶åœ¨ä¸»æœºå’Œè®¾å¤‡ç«¯è¿›è¡Œç¼–è¯‘ã€‚&lt;/p&gt;
&lt;h3 id=&#34;CUDAæ ¸å‡½æ•°çš„é™åˆ¶&#34;&gt;&lt;a href=&#34;#CUDAæ ¸å‡½æ•°çš„é™åˆ¶&#34; class=&#34;headerlink&#34; title=&#34;CUDAæ ¸å‡½æ•°çš„é™åˆ¶&#34;&gt;&lt;/a&gt;CUDAæ ¸å‡½æ•°çš„é™åˆ¶&lt;/h3&gt;&lt;p&gt;ä»¥ä¸‹é™åˆ¶é€‚ç”¨äºæ‰€æœ‰æ ¸å‡½æ•°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åªèƒ½è®¿é—®è®¾å¤‡å†…å­˜&lt;/li&gt;
&lt;li&gt;å¿…é¡»å…·æœ‰voidè¿”å›ç±»å‹&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒå¯å˜æ•°é‡çš„å‚æ•°&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒé™æ€å˜é‡&lt;/li&gt;
&lt;li&gt;æ˜¾ç¤ºå¼‚æ­¥è¡Œä¸º&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è€ƒè™‘ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šå°†ä¸¤ä¸ªå¤§å°ä¸ºNçš„å‘é‡Aå’ŒBç›¸åŠ ï¼Œä¸»æœºç«¯çš„å‘é‡åŠ æ³•Cä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;sumArrayOnHost&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *A, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *B, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *C, &lt;span class=&#34;hljs-keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; N)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;i &amp;lt; N; i++)&lt;br&gt;        C[i] = A[i] + B[i];&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªè¿­ä»£Næ¬¡çš„ä¸²è¡Œç¨‹åºï¼Œå¾ªç¯ç»“æŸåå°†äº§ç”Ÿä»¥ä¸‹æ ¸å‡½æ•°ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;__global__ &lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;sumArrayOnHost&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *A, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *B, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *C)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    	&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i = threadIdx.x;&lt;br&gt;        C[i] = A[i] + B[i];&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;Cå‡½æ•°å’Œæ ¸å‡½æ•°ä¹‹é—´æœ‰ä»€ä¹ˆä¸åŒï¼Ÿä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°å¾ªç¯ä½“æ¶ˆå¤±äº†ï¼Œå†…ç½®çš„çº¿ç¨‹åæ ‡å˜é‡æ›¿æ¢äº†æ•°ç»„ç´¢å¼•ï¼Œç”±äºNæ˜¯è¢«éšå¼å®šä¹‰ç”¨æ¥å¯åŠ¨Nä¸ªçº¿ç¨‹çš„ï¼Œæ‰€ä»¥Næ²¡æœ‰ä»€ä¹ˆå‚è€ƒä»·å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æœ‰ä¸€ä¸ªé•¿åº¦ä¸º32ä¸ªå…ƒç´ çš„å‘é‡ï¼Œä½ å¯ä»¥æŒ‰ä»¥ä¸‹æ–¹æ³•ç”¨32ä¸ªçº¿ç¨‹æ¥è°ƒç”¨æ ¸å‡½æ•°ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;sumArraysOnGPU&amp;lt;&amp;lt;&amp;lt;&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;32&lt;/span&gt;&amp;gt;&amp;gt;&amp;gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *A, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *B, &lt;span class=&#34;hljs-keyword&#34;&gt;float&lt;/span&gt; *C);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;a href=&#34;#å‚è€ƒèµ„æ–™&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;p&gt;CUDA Cç¼–ç¨‹æƒå¨æŒ‡å— ç¨‹æ¶¦ä¼Ÿï¼ŒMax Grossman(ç¾)ï¼ŒTy Mckercher &lt;/p&gt;
</content>
        <category term="CUDA" />
        <updated>2023-03-06T07:46:00.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/03/06/cuda007/</id>
        <title>å¯åŠ¨ä¸€ä¸ªCUDAæ ¸å‡½æ•°</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/03/06/cuda007/"/>
        <content type="html">&lt;h2 id=&#34;å¯åŠ¨ä¸€ä¸ªCUDAæ ¸å‡½æ•°&#34;&gt;&lt;a href=&#34;#å¯åŠ¨ä¸€ä¸ªCUDAæ ¸å‡½æ•°&#34; class=&#34;headerlink&#34; title=&#34;å¯åŠ¨ä¸€ä¸ªCUDAæ ¸å‡½æ•°&#34;&gt;&lt;/a&gt;å¯åŠ¨ä¸€ä¸ªCUDAæ ¸å‡½æ•°&lt;/h2&gt;&lt;p&gt;ä½ åº”è¯¥å¯¹ä¸‹åˆ—Cè¯­è¨€å‡½æ•°è°ƒç”¨è¯­å¥å¾ˆç†Ÿæ‚‰ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;function_name&lt;/span&gt; (argument list);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;CUDAå†…æ ¸è°ƒç”¨æ˜¯å¯¹Cè¯­è¨€å‡½æ•°è°ƒç”¨è¯­å¥çš„å»¶ç”³ï¼Œ&amp;lt;&amp;lt;&amp;lt;&amp;gt;&amp;gt;&amp;gt;è¿ç®—ç¬¦å†…æ˜¯æ ¸å‡½æ•°çš„æ‰§è¡Œé…ç½®ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;kerbel_name&amp;lt;&amp;lt;&amp;lt;grid,block&amp;gt;&amp;gt;&amp;gt;(srgument list);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;æ­£å¦‚ä¸Šä¸€èŠ‚æ‰€è¿°ï¼ŒCUDAç¼–ç¨‹æ¨¡å‹æ­ç¤ºäº†çº¿ç¨‹å±‚æ¬¡ç»“æ„ã€‚åˆ©ç”¨æ‰§è¡Œé…ç½®å¯ä»¥æŒ‡å®šçº¿ç¨‹åœ¨GPUä¸Šè°ƒåº¦è¿è¡Œçš„æ–¹å¼ã€‚æ‰§è¡Œé…ç½®çš„ç¬¬ä¸€ä¸ªå€¼æ˜¯ç½‘æ ¼ç»´åº¦ï¼Œä¹Ÿå°±æ˜¯å¯åŠ¨å—çš„æ•°ç›®ã€‚ç¬¬äºŒä¸ªå€¼æ˜¯å—ç»´åº¦ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªå—ä¸­çº¿ç¨‹çš„æ•°ç›®ã€‚é€šè¿‡æŒ‡å®šç½‘æ ¼å’Œå—çš„ç»´åº¦ï¼Œä½ å¯ä»¥è¿›è¡Œä¸€ä¸‹é…ç½®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å†…æ ¸ä¸­çº¿ç¨‹çš„æ•°ç›®&lt;/li&gt;
&lt;li&gt;å†…æ ¸ä¸­ä½¿ç”¨çš„çº¿ç¨‹å¸ƒå±€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åŒä¸€ä¸ªå—ä¸­çš„çº¿ç¨‹ä¹‹é—´å¯ä»¥ç›¸äº’åä½œï¼Œä¸åŒå—å†…çš„çº¿ç¨‹ä¸èƒ½åä½œã€‚å¯¹äºä¸€ä¸ªç»™å®šçš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ä¸åŒçš„ç½‘æ ¼å’Œå—å¸ƒå±€æ¥ç»„ç»‡ä½ çš„çº¿ç¨‹ã€‚ä¾‹å¦‚ï¼Œå‡è®¾ä½ æœ‰32ä¸ªæ•°æ®å…ƒç´ ç”¨äºè®¡ç®—ï¼Œæ¯8ä¸ªå…ƒç´ ä¸€ä¸ªå—ï¼Œéœ€è¦å¯åŠ¨4ä¸ªå—ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;kernel_name&amp;lt;&amp;lt;&amp;lt;&lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;8&lt;/span&gt;&amp;gt;&amp;gt;&amp;gt;(argument list);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&#34;/2023/03/06/cuda007/image-20230306140924311.png&#34; alt=&#34;image-20230306140924311&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç”±äºæ•°æ®åœ¨å…¨å±€å†…å­˜ä¸­æ˜¯çº¿æ€§å­˜å‚¨çš„ï¼Œå› æ­¤å¯ä»¥ç”¨å˜é‡blockIdx.xå’ŒthreadIdx.xæ¥è¿›è¡Œä»¥ä¸‹æ“ä½œã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ç½‘æ ¼ä¸­æ ‡è¯†ä¸€ä¸ªå”¯ä¸€çš„çº¿ç¨‹&lt;/li&gt;
&lt;li&gt;å»ºç«‹çº¿ç¨‹å’Œæ•°æ®å…ƒç´ ä¹‹é—´çš„æ˜ å°„å…³ç³»&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœæŠŠ32ä¸ªå…ƒç´ æ”¾åˆ°ä¸€ä¸ªå—é‡Œï¼Œé‚£ä¹ˆåªä¼šå¾—åˆ°ä¸€ä¸ªå—ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;kernel_name&amp;lt;&amp;lt;&amp;lt;&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;32&lt;/span&gt;&amp;gt;&amp;gt;&amp;gt;(argument list);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å¦‚æœæ¯ä¸ªå—åªå«ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆä¼šæœ‰32ä¸ªå—ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;kernel_name&amp;lt;&amp;lt;&amp;lt;&lt;span class=&#34;hljs-number&#34;&gt;32&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&amp;gt;&amp;gt;&amp;gt;(argument list);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;æ ¸å‡½æ•°çš„è°ƒç”¨ä¸ä¸»æœºçº¿ç¨‹æ˜¯å¼‚æ­¥çš„ã€‚æ ¸å‡½æ•°è°ƒç”¨ç»“æŸåï¼Œæ§åˆ¶æƒç«‹åˆ»è¿”å›ç»™ä¸»æœºç«¯ã€‚ä½ å¯ä»¥è°ƒç”¨ä»¥ä¸‹å‡½æ•°æ¥å¼ºåˆ¶ä¸»æœºç«¯ç¨‹åºç­‰å¾…æ‰€æœ‰çš„æ ¸å‡½æ•°æ‰§è¡Œç»“æŸï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;cudaError_t &lt;span class=&#34;hljs-title&#34;&gt;cudaDeviceSynchronize&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ä¸€äº›CUDAè¿è¡Œæ—¶APIåœ¨ä¸»æœºå’Œè®¾å¤‡ä¹‹é—´æ˜¯éšå¼åŒæ­¥çš„ã€‚å½“ä½¿ç”¨cudaMemcpyå‡½æ•°åœ¨ä¸»æœºå’Œè®¾å¤‡ä¹‹é—´æ‹·è´æ•°æ®æ—¶ï¼Œä¸»æœºç«¯éšå¼åŒæ­¥ï¼Œå³ä¸»æœºç«¯ç¨‹åºå¿…é¡»ç­‰å¾…æ•°æ®æ‹·è´å®Œæˆåæ‰èƒ½ç»§ç»­æ‰§è¡Œç¨‹åºã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;cudaError_t &lt;span class=&#34;hljs-title&#34;&gt;cudaMemcpy&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt;* dst, &lt;span class=&#34;hljs-keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt;* src, &lt;span class=&#34;hljs-keyword&#34;&gt;size_t&lt;/span&gt; count, cudaMemcpyKind kind)&lt;/span&gt;&lt;/span&gt;;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ä¹‹å‰æ‰€æœ‰çš„æ ¸å‡½æ•°è°ƒç”¨å®Œæˆåå¼€å§‹æ‹·è´æ•°æ®ã€‚å½“æ‹·è´å®Œæˆåï¼Œæ§åˆ¶æƒç«‹åˆ»è¿”å›ç»™ä¸»æœºç«¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¼‚æ­¥è¡Œä¸º&#34;&gt;&lt;a href=&#34;#å¼‚æ­¥è¡Œä¸º&#34; class=&#34;headerlink&#34; title=&#34;å¼‚æ­¥è¡Œä¸º&#34;&gt;&lt;/a&gt;å¼‚æ­¥è¡Œä¸º&lt;/h3&gt;&lt;p&gt;ä¸åŒäºCè¯­è¨€çš„å‡½æ•°è°ƒç”¨ï¼Œæ‰€æœ‰çš„CUDAæ ¸å‡½æ•°çš„å¯åŠ¨éƒ½æ˜¯å¼‚æ­¥çš„ã€‚CUDAå†…æ ¸è°ƒç”¨å®Œæˆåï¼Œæ§åˆ¶æƒç«‹åˆ»è¿”å›ç»™CPUã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;a href=&#34;#å‚è€ƒèµ„æ–™&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;p&gt;CUDA Cç¼–ç¨‹æƒå¨æŒ‡å— ç¨‹æ¶¦ä¼Ÿï¼ŒMax Grossman(ç¾)ï¼ŒTy Mckercher &lt;/p&gt;
</content>
        <category term="CUDA" />
        <updated>2023-03-06T05:59:18.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/03/02/leetcode205/</id>
        <title>205.åŒæ„å­—ç¬¦ä¸²</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/03/02/leetcode205/"/>
        <content type="html">&lt;h2 id=&#34;205-åŒæ„å­—ç¬¦ä¸²&#34;&gt;&lt;a href=&#34;#205-åŒæ„å­—ç¬¦ä¸²&#34; class=&#34;headerlink&#34; title=&#34;205.åŒæ„å­—ç¬¦ä¸²&#34;&gt;&lt;/a&gt;205.åŒæ„å­—ç¬¦ä¸²&lt;/h2&gt;&lt;h2 id=&#34;é¢˜ç›®é“¾æ¥&#34;&gt;&lt;a href=&#34;#é¢˜ç›®é“¾æ¥&#34; class=&#34;headerlink&#34; title=&#34;é¢˜ç›®é“¾æ¥&#34;&gt;&lt;/a&gt;é¢˜ç›®é“¾æ¥&lt;/h2&gt;&lt;p&gt;&lt;a href=&#34;https://leetcode.cn/problems/isomorphic-strings/&#34;&gt;205. åŒæ„å­—ç¬¦ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;å®Œæ•´ä»£ç &#34;&gt;&lt;a href=&#34;#å®Œæ•´ä»£ç &#34; class=&#34;headerlink&#34; title=&#34;å®Œæ•´ä»£ç &#34;&gt;&lt;/a&gt;å®Œæ•´ä»£ç &lt;/h2&gt;&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-class&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;Solution&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;public&lt;/span&gt;:&lt;br&gt;    &lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;bool&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;isIsomorphic&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(string s, string t)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;br&gt;        string ss;&lt;br&gt;        string st;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; hash[&lt;span class=&#34;hljs-number&#34;&gt;255&lt;/span&gt;];&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; index=&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;        &lt;span class=&#34;hljs-built_in&#34;&gt;memset&lt;/span&gt;(hash, &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;, &lt;span class=&#34;hljs-built_in&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;sizeof&lt;/span&gt;&lt;/span&gt;(hash));&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i=&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;i&amp;lt;s.&lt;span class=&#34;hljs-built_in&#34;&gt;size&lt;/span&gt;();i++)&amp;#123;&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt;(hash[&lt;span class=&#34;hljs-built_in&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;&lt;/span&gt;(s[i])]==&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;)&lt;br&gt;            &amp;#123;&lt;br&gt;                index++;&lt;br&gt;                hash[&lt;span class=&#34;hljs-built_in&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;&lt;/span&gt;(s[i])]=index;&lt;br&gt;                ss.&lt;span class=&#34;hljs-built_in&#34;&gt;push_back&lt;/span&gt;(index+&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;0&amp;#x27;&lt;/span&gt;);&lt;br&gt;            &amp;#125;&lt;span class=&#34;hljs-keyword&#34;&gt;else&lt;/span&gt;&amp;#123;&lt;br&gt;                ss.&lt;span class=&#34;hljs-built_in&#34;&gt;push_back&lt;/span&gt;(hash[&lt;span class=&#34;hljs-built_in&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;&lt;/span&gt;(s[i])]+&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;0&amp;#x27;&lt;/span&gt;);&lt;br&gt;            &amp;#125;&lt;br&gt;        &amp;#125;&lt;br&gt;        index=&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;        &lt;span class=&#34;hljs-built_in&#34;&gt;memset&lt;/span&gt;(hash, &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;, &lt;span class=&#34;hljs-built_in&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;sizeof&lt;/span&gt;&lt;/span&gt;(hash));&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i=&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;i&amp;lt;t.&lt;span class=&#34;hljs-built_in&#34;&gt;size&lt;/span&gt;();i++)&amp;#123;&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt;(hash[&lt;span class=&#34;hljs-built_in&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;&lt;/span&gt;(t[i])]==&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;)&lt;br&gt;            &amp;#123;&lt;br&gt;                index++;&lt;br&gt;                hash[&lt;span class=&#34;hljs-built_in&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;&lt;/span&gt;(t[i])]=index;&lt;br&gt;                st.&lt;span class=&#34;hljs-built_in&#34;&gt;push_back&lt;/span&gt;(index+&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;0&amp;#x27;&lt;/span&gt;);&lt;br&gt;            &amp;#125;&lt;span class=&#34;hljs-keyword&#34;&gt;else&lt;/span&gt;&amp;#123;&lt;br&gt;                st.&lt;span class=&#34;hljs-built_in&#34;&gt;push_back&lt;/span&gt;(hash[&lt;span class=&#34;hljs-built_in&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;&lt;/span&gt;(t[i])]+&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;0&amp;#x27;&lt;/span&gt;);&lt;br&gt;            &amp;#125;&lt;br&gt;        &amp;#125;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; ans = ss.&lt;span class=&#34;hljs-built_in&#34;&gt;compare&lt;/span&gt;(st);&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt;(ans==&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;)&amp;#123;&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;true&lt;/span&gt;;&lt;br&gt;        &amp;#125;&lt;span class=&#34;hljs-keyword&#34;&gt;else&lt;/span&gt;&amp;#123;&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;false&lt;/span&gt;;&lt;br&gt;        &amp;#125;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;true&lt;/span&gt;;&lt;br&gt;    &amp;#125;&lt;br&gt;&amp;#125;;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;å‚è€ƒä»£ç &#34;&gt;&lt;a href=&#34;#å‚è€ƒä»£ç &#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒä»£ç &#34;&gt;&lt;/a&gt;å‚è€ƒä»£ç &lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;/2023/03/02/leetcode205/image-20230302204605581.png&#34; alt=&#34;image-20230302204605581&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-class&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;Solution&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;public&lt;/span&gt;:&lt;br&gt;    &lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;bool&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;isIsomorphic&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(string s, string t)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;br&gt;        unordered_map&amp;lt;&lt;span class=&#34;hljs-keyword&#34;&gt;char&lt;/span&gt;, &lt;span class=&#34;hljs-keyword&#34;&gt;char&lt;/span&gt;&amp;gt; s2t;&lt;br&gt;        unordered_map&amp;lt;&lt;span class=&#34;hljs-keyword&#34;&gt;char&lt;/span&gt;, &lt;span class=&#34;hljs-keyword&#34;&gt;char&lt;/span&gt;&amp;gt; t2s;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; len = s.&lt;span class=&#34;hljs-built_in&#34;&gt;length&lt;/span&gt;();&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;; i &amp;lt; len; ++i) &amp;#123;&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;char&lt;/span&gt; x = s[i], y = t[i];&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; ((s2t.&lt;span class=&#34;hljs-built_in&#34;&gt;count&lt;/span&gt;(x) &amp;amp;&amp;amp; s2t[x] != y) || (t2s.&lt;span class=&#34;hljs-built_in&#34;&gt;count&lt;/span&gt;(y) &amp;amp;&amp;amp; t2s[y] != x)) &amp;#123;&lt;br&gt;                &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;false&lt;/span&gt;;&lt;br&gt;            &amp;#125;&lt;br&gt;            s2t[x] = y;&lt;br&gt;            t2s[y] = x;&lt;br&gt;        &amp;#125;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;true&lt;/span&gt;;&lt;br&gt;    &amp;#125;&lt;br&gt;&amp;#125;;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;å‚è€ƒé“¾æ¥&#34;&gt;&lt;a href=&#34;#å‚è€ƒé“¾æ¥&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒé“¾æ¥&#34;&gt;&lt;/a&gt;å‚è€ƒé“¾æ¥&lt;/h2&gt;&lt;p&gt;&lt;a href=&#34;https://leetcode.cn/problems/isomorphic-strings/solution/tong-gou-zi-fu-chuan-by-leetcode-solutio-s6fd/&#34;&gt;åŒæ„å­—ç¬¦ä¸² - åŒæ„å­—ç¬¦ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰&lt;/a&gt;&lt;/p&gt;
</content>
        <category term="C++" />
        <category term="LeetCode" />
        <category term="å“ˆå¸Œè¡¨" />
        <updated>2023-03-02T12:44:27.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/03/02/leetcode189/</id>
        <title>189.è½®è½¬æ•°ç»„</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/03/02/leetcode189/"/>
        <content type="html">&lt;h2 id=&#34;189-è½®è½¬æ•°ç»„&#34;&gt;&lt;a href=&#34;#189-è½®è½¬æ•°ç»„&#34; class=&#34;headerlink&#34; title=&#34;189.è½®è½¬æ•°ç»„&#34;&gt;&lt;/a&gt;189.è½®è½¬æ•°ç»„&lt;/h2&gt;&lt;h2 id=&#34;é¢˜ç›®é“¾æ¥&#34;&gt;&lt;a href=&#34;#é¢˜ç›®é“¾æ¥&#34; class=&#34;headerlink&#34; title=&#34;é¢˜ç›®é“¾æ¥&#34;&gt;&lt;/a&gt;é¢˜ç›®é“¾æ¥&lt;/h2&gt;&lt;p&gt;&lt;a href=&#34;https://leetcode.cn/problems/rotate-array/&#34;&gt;189. è½®è½¬æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;å®Œæ•´ä»£ç &#34;&gt;&lt;a href=&#34;#å®Œæ•´ä»£ç &#34; class=&#34;headerlink&#34; title=&#34;å®Œæ•´ä»£ç &#34;&gt;&lt;/a&gt;å®Œæ•´ä»£ç &lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;/2023/03/02/leetcode189/image-20230302200538871.png&#34; alt=&#34;image-20230302200538871&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-class&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;Solution&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;public&lt;/span&gt;:&lt;br&gt;    &lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;reverse&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(vector&amp;lt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;&amp;gt;&amp;amp; nums,&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; begin,&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; end)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;    &lt;/span&gt;&amp;#123;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;while&lt;/span&gt;(begin&amp;lt;end)&amp;#123;&lt;br&gt;            &lt;span class=&#34;hljs-built_in&#34;&gt;swap&lt;/span&gt;(nums[begin], nums[end]);&lt;br&gt;            begin++;&lt;br&gt;            end--;&lt;br&gt;        &amp;#125;&lt;br&gt;    &amp;#125;&lt;br&gt;    &lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;rotate&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(vector&amp;lt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;&amp;gt;&amp;amp; nums, &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; k)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;br&gt;        &lt;span class=&#34;hljs-comment&#34;&gt;//æ•°ç»„ç¿»è½¬&lt;/span&gt;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; p = k%nums.&lt;span class=&#34;hljs-built_in&#34;&gt;size&lt;/span&gt;();&lt;br&gt;        &lt;span class=&#34;hljs-built_in&#34;&gt;reverse&lt;/span&gt;(nums,&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;,nums.&lt;span class=&#34;hljs-built_in&#34;&gt;size&lt;/span&gt;()&lt;span class=&#34;hljs-number&#34;&gt;-1&lt;/span&gt;);&lt;br&gt;        &lt;span class=&#34;hljs-built_in&#34;&gt;reverse&lt;/span&gt;(nums,&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;,p&lt;span class=&#34;hljs-number&#34;&gt;-1&lt;/span&gt;);&lt;br&gt;        &lt;span class=&#34;hljs-built_in&#34;&gt;reverse&lt;/span&gt;(nums,p,nums.&lt;span class=&#34;hljs-built_in&#34;&gt;size&lt;/span&gt;()&lt;span class=&#34;hljs-number&#34;&gt;-1&lt;/span&gt;);&lt;br&gt;    &amp;#125;&lt;br&gt;&amp;#125;;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;a href=&#34;#å‚è€ƒèµ„æ–™&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;p&gt;&lt;a href=&#34;https://leetcode.cn/problems/rotate-array/solution/xuan-zhuan-shu-zu-by-leetcode-solution-nipk/&#34;&gt;æ—‹è½¬æ•°ç»„ - è½®è½¬æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰&lt;/a&gt;&lt;/p&gt;
</content>
        <category term="C++" />
        <category term="LeetCode" />
        <category term="æ•°ç»„ç¿»è½¬" />
        <updated>2023-03-02T12:03:32.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/03/01/leetcode724/</id>
        <title>724.å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/03/01/leetcode724/"/>
        <content type="html">&lt;h1 id=&#34;724-å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡&#34;&gt;&lt;a href=&#34;#724-å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡&#34; class=&#34;headerlink&#34; title=&#34;724.å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡&#34;&gt;&lt;/a&gt;724.å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡&lt;/h1&gt;&lt;h2 id=&#34;é¢˜ç›®é“¾æ¥&#34;&gt;&lt;a href=&#34;#é¢˜ç›®é“¾æ¥&#34; class=&#34;headerlink&#34; title=&#34;é¢˜ç›®é“¾æ¥&#34;&gt;&lt;/a&gt;é¢˜ç›®é“¾æ¥&lt;/h2&gt;&lt;p&gt;&lt;a href=&#34;https://leetcode.cn/problems/find-pivot-index/&#34;&gt;724. å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;å®Œæ•´ä»£ç &#34;&gt;&lt;a href=&#34;#å®Œæ•´ä»£ç &#34; class=&#34;headerlink&#34; title=&#34;å®Œæ•´ä»£ç &#34;&gt;&lt;/a&gt;å®Œæ•´ä»£ç &lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;/2023/03/01/leetcode724/image-20230301173931031.png&#34; alt=&#34;image-20230301173931031&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-class&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;Solution&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;public&lt;/span&gt;:&lt;br&gt;    &lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;pivotIndex&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(vector&amp;lt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;&amp;gt;&amp;amp; nums)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; total=&lt;span class=&#34;hljs-built_in&#34;&gt;accumulate&lt;/span&gt;(nums.&lt;span class=&#34;hljs-built_in&#34;&gt;begin&lt;/span&gt;(), nums.&lt;span class=&#34;hljs-built_in&#34;&gt;end&lt;/span&gt;(),&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;);	&lt;span class=&#34;hljs-comment&#34;&gt;//ç¬¬ä¸‰ä¸ªå½¢å‚æ˜¯ç´¯åŠ çš„åˆå§‹å€¼&lt;/span&gt;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; sum=&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i=&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;i&amp;lt;nums.&lt;span class=&#34;hljs-built_in&#34;&gt;size&lt;/span&gt;();i++)&lt;br&gt;        &amp;#123;&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt;(&lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;*sum+nums[i] == total)&amp;#123;&lt;br&gt;                &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; i;&lt;br&gt;            &amp;#125;&lt;br&gt;            sum+=nums[i];&lt;br&gt;        &amp;#125;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;-1&lt;/span&gt;;&lt;br&gt;    &amp;#125;&lt;br&gt;&amp;#125;;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;a href=&#34;#å‚è€ƒèµ„æ–™&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;p&gt;&lt;a href=&#34;https://leetcode.cn/problems/find-pivot-index/solution/xun-zhao-shu-zu-de-zhong-xin-suo-yin-by-gzjle/&#34;&gt;å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒç´¢å¼• - å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰&lt;/a&gt;&lt;/p&gt;
</content>
        <category term="C++" />
        <category term="LeetCode" />
        <category term="å‰ç¼€å’Œ" />
        <updated>2023-03-01T09:35:03.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/02/28/vectorbool/</id>
        <title>vector&lt;bool&gt;ä¸vector&lt;T&gt;</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/02/28/vectorbool/"/>
        <content type="html">&lt;h1 id=&#34;vector-lt-bool-gt-ä¸vector-lt-T-gt&#34;&gt;&lt;a href=&#34;#vector-lt-bool-gt-ä¸vector-lt-T-gt&#34; class=&#34;headerlink&#34; title=&#34;vector&amp;lt;bool&amp;gt;ä¸vector&amp;lt;T&amp;gt;&#34;&gt;&lt;/a&gt;vector&amp;lt;bool&amp;gt;ä¸vector&amp;lt;T&amp;gt;&lt;/h1&gt;&lt;p&gt;vector&amp;lt;bool&amp;gt; ä¸åƒå…¶ä»–å®¹å™¨ä¸€æ ·æŒ‰Byteå­˜å‚¨çš„ï¼Œå®ƒæ˜¯æŒ‰bitå­˜å‚¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªæ­£å¸¸çš„boolç±»å‹çš„ç©ºé—´å¯ä»¥å­˜æ”¾vector&amp;lt;bool&amp;gt;ä¸­çš„8ä¸ªï¼Œç©ºé—´ä¸Šç¡®å®ä¼˜åŒ–äº†å¾ˆå¤šï¼Œç„¶è€Œï¼Œc++æ˜¯ä¸èƒ½ç›´æ¥å–å¯¹bitæ“ä½œçš„ï¼ˆå› ä¸ºC++çš„æœ€å°å¯å¯»å€å€¼é€šå¸¸ä»¥byteä¸ºå•ä½ï¼‰ï¼Œå¯¹å…¶ä½¿ç”¨operator[]å…¶å®è¿”å›çš„ä¸æ˜¯boolçš„å¼•ç”¨è€Œæ˜¯ä¸€ä¸ªâ€proxy referenceâ€æ˜¯â€std::vector&amp;lt; bool&amp;gt;:referenceâ€ç±»å‹çš„å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;æ­£å› ä¸ºå¦‚æ­¤ï¼Œvector&amp;lt;bool&amp;gt;é€šè¿‡ä»£ç†å¯¹è±¡è¿›è¡Œå­˜å–è®¿é—®æ—¶éœ€è¦æ‰§è¡Œé€ä½å¤„ç†ï¼Œè®¿é—®é€šå¸¸æ¯”intä¹‹ç±»çš„æ™®é€šç±»å‹æ“ä½œè¦æ…¢å¾ˆå¤šã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œå¯¹vecotr&amp;lt;bool&amp;gt;çš„ä½¿ç”¨éœ€æ…é‡è€ƒè™‘ä»¥ä¸‹å‡ ç‚¹ï¼š&lt;br&gt;(1)æ˜¯å¦éœ€è¦ç‰ºç‰²é€Ÿåº¦æ¥è·å–ç©ºé—´ä¸Šçš„ä¼˜åŒ–&lt;br&gt;(2)ç®—æ³•ä¸­ä¼šå¦æœ‰å¯¹vecotråœ°å€è¿›è¡Œè§£å¼•ç”¨æ“ä½œçš„å¯èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸æ»¡è¶³ä»¥ä¸Šæ¡ä»¶ï¼Œå»ºè®®ä½¿ç”¨deque&amp;lt;bool&amp;gt;æ¥å–ä»£vector&amp;lt;bool&amp;gt;ï¼ŒåŠŸèƒ½åŸºæœ¬ç›¸åŒï¼Œä½†deque&amp;lt;bool&amp;gt;æœªå¯¹å…¶è¿›è¡Œç‰¹æ®Šå¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯vector&amp;lt;bool&amp;gt;ä¸vector&amp;lt;T&amp;gt;ç®€å•çš„å¯¹æ¯”ä¾‹å­ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;()&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;	vector&amp;lt;&lt;span class=&#34;hljs-keyword&#34;&gt;char&lt;/span&gt;&amp;gt; ch;&lt;br&gt;	vector&amp;lt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;&amp;gt; in;&lt;br&gt;	vector&amp;lt;&lt;span class=&#34;hljs-keyword&#34;&gt;bool&lt;/span&gt;&amp;gt; bo;&lt;br&gt; &lt;br&gt;	&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; m = &lt;span class=&#34;hljs-number&#34;&gt;1e6&lt;/span&gt;;&lt;br&gt;	&lt;span class=&#34;hljs-keyword&#34;&gt;clock_t&lt;/span&gt; t1, t2, t3;&lt;br&gt; &lt;br&gt;	t1 = &lt;span class=&#34;hljs-built_in&#34;&gt;clock&lt;/span&gt;();&lt;br&gt;	&lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;; i &amp;lt; m; i++)&amp;#123;&lt;br&gt;		ch.&lt;span class=&#34;hljs-built_in&#34;&gt;push_back&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;0&amp;#x27;&lt;/span&gt;);&lt;br&gt;	&amp;#125;&lt;br&gt;	t1 = &lt;span class=&#34;hljs-built_in&#34;&gt;clock&lt;/span&gt;() - t1;&lt;br&gt; &lt;br&gt;	t2 = &lt;span class=&#34;hljs-built_in&#34;&gt;clock&lt;/span&gt;();&lt;br&gt;	&lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;; i &amp;lt; m; i++)&amp;#123;&lt;br&gt;		in.&lt;span class=&#34;hljs-built_in&#34;&gt;push_back&lt;/span&gt;(&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;);&lt;br&gt;	&amp;#125;&lt;br&gt;	t2 = &lt;span class=&#34;hljs-built_in&#34;&gt;clock&lt;/span&gt;() - t2;&lt;br&gt; &lt;br&gt;	t3 = &lt;span class=&#34;hljs-built_in&#34;&gt;clock&lt;/span&gt;();&lt;br&gt;	&lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; i = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;; i &amp;lt; m; i++)&amp;#123;&lt;br&gt;		bo.&lt;span class=&#34;hljs-built_in&#34;&gt;push_back&lt;/span&gt;(&lt;span class=&#34;hljs-literal&#34;&gt;true&lt;/span&gt;);&lt;br&gt;	&amp;#125;&lt;br&gt;	t3 = &lt;span class=&#34;hljs-built_in&#34;&gt;clock&lt;/span&gt;() - t3;&lt;br&gt; &lt;br&gt;	cout &amp;lt;&amp;lt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;vector&amp;lt;char&amp;gt; &amp;quot;&lt;/span&gt;&amp;lt;&amp;lt; t1 &amp;lt;&amp;lt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;\n vector&amp;lt;int&amp;gt; &amp;quot;&lt;/span&gt; &amp;lt;&amp;lt; t2 &amp;lt;&amp;lt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;\nvector&amp;lt;bool&amp;gt; &amp;quot;&lt;/span&gt; &amp;lt;&amp;lt; t3 &amp;lt;&amp;lt; endl;&lt;br&gt;	cout &amp;lt;&amp;lt; endl;&lt;br&gt; &lt;br&gt;	&lt;span class=&#34;hljs-built_in&#34;&gt;system&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;pause&amp;quot;&lt;/span&gt;);&lt;br&gt;	&lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight cpp&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs cpp&#34;&gt;vector&amp;lt;&lt;span class=&#34;hljs-keyword&#34;&gt;char&lt;/span&gt;&amp;gt; &lt;span class=&#34;hljs-number&#34;&gt;216&lt;/span&gt;&lt;br&gt;vextor&amp;lt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;&amp;gt; &lt;span class=&#34;hljs-number&#34;&gt;229&lt;/span&gt;&lt;br&gt;vector&amp;lt;&lt;span class=&#34;hljs-keyword&#34;&gt;bool&lt;/span&gt;&amp;gt; &lt;span class=&#34;hljs-number&#34;&gt;16535&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;è¿™é‡Œå‘ç°vector&amp;lt;bool&amp;gt;ç›¸è¾ƒäºå…¶ä»–vector&amp;lt;T&amp;gt;é€Ÿåº¦è¦æ…¢çš„å¤šï¼&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;a href=&#34;#å‚è€ƒèµ„æ–™&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/qq_52134928/article/details/121066304?spm=1001.2101.3001.6661.1&amp;utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-121066304-blog-86603050.pc_relevant_3mothn_strategy_and_data_recovery&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-121066304-blog-86603050.pc_relevant_3mothn_strategy_and_data_recovery&amp;utm_relevant_index=1&#34;&gt;(65æ¡æ¶ˆæ¯) ã€C++ã€‘vectorï¼œboolï¼çš„ç‰¹åˆ«ä¹‹å¤„_å°é™¶åŒå­¦_çš„åšå®¢-CSDNåšå®¢&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/u013249689/article/details/25297657&#34;&gt;(65æ¡æ¶ˆæ¯) ä¸ä½¿ç”¨vectorçš„åŸå› å’Œæ›¿ä»£æ–¹æ³•_jackycmuçš„åšå®¢-CSDNåšå®¢&lt;/a&gt;&lt;/p&gt;
</content>
        <category term="STL" />
        <category term="Vector" />
        <category term="C/C++" />
        <category term="bool" />
        <updated>2023-02-28T12:59:01.000Z</updated>
    </entry>
    <entry>
        <id>https://xingyuanjie.top/2023/02/28/Linux004/</id>
        <title>C/C++å…³é”®å­—ä¹‹restrict</title>
        <link rel="alternate" href="https://xingyuanjie.top/2023/02/28/Linux004/"/>
        <content type="html">&lt;h1 id=&#34;C-x2F-C-å…³é”®å­—ä¹‹restrict&#34;&gt;&lt;a href=&#34;#C-x2F-C-å…³é”®å­—ä¹‹restrict&#34; class=&#34;headerlink&#34; title=&#34;C&amp;#x2F;C++å…³é”®å­—ä¹‹restrict&#34;&gt;&lt;/a&gt;C&amp;#x2F;C++å…³é”®å­—ä¹‹restrict&lt;/h1&gt;&lt;p&gt;åœ¨Cè¯­è¨€ä¸­ï¼Œrestrictå…³é”®å­—ç”¨äºä¿®é¥°æŒ‡é’ˆï¼ˆC99æ ‡å‡†ï¼‰ã€‚é€šè¿‡åŠ ä¸Šrestrictå…³é”®å­—ï¼Œç¨‹åºå‘˜å¯æç¤ºç¼–è¯‘å™¨ï¼šåœ¨è¯¥æŒ‡é’ˆçš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œå…¶æŒ‡å‘çš„å¯¹è±¡ä¸ä¼šè¢«åˆ«çš„æŒ‡é’ˆæ‰€å¼•ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨C++ä¸­ï¼Œå¹¶æ— æ˜ç¡®ç»Ÿä¸€çš„æ ‡å‡†æ”¯æŒrestrictå…³é”®å­—ã€‚ä½†æ˜¯å¾ˆå¤šç¼–è¯‘å™¨å®ç°äº†åŠŸèƒ½ç›¸åŒçš„å…³é”®å­—ï¼Œä¾‹å¦‚gccå’Œclangä¸­çš„__restrictå…³é”®å­—ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;add1&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;*a, &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;* b)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    *a = &lt;span class=&#34;hljs-number&#34;&gt;10&lt;/span&gt;;&lt;br&gt;    *b = &lt;span class=&#34;hljs-number&#34;&gt;12&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; *a + *b;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;add1å‡½æ•°çš„è¿”å›å€¼ä¼šæ°¸è¿œæ˜¯10 + 12 &amp;#x3D; 22å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”æ¡ˆæ˜¯ä¸ä¸€å®šã€‚åœ¨æŒ‡é’ˆaå’Œbçš„åœ°å€ä¸åŒæ—¶ï¼Œè¿”å›22æ²¡æœ‰é—®é¢˜ã€‚ä½†æ˜¯å½“æŒ‡é’ˆaä¸bæŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªintå¯¹è±¡æ—¶ï¼Œè¯¥å¯¹è±¡å…ˆè¢«èµ‹å€¼ä¸º10ï¼Œåè¢«èµ‹å€¼ä¸º12ï¼Œå› æ­¤aå’Œbéƒ½è¿”å›12ï¼Œå› æ­¤add1å‡½æ•°æœ€ç»ˆè¿”å›24ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-meta&#34;&gt;#&lt;span class=&#34;hljs-meta-keyword&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;hljs-meta-string&#34;&gt;&amp;lt;bits/stdc++.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;using&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;namespace&lt;/span&gt; std;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;add1&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;* a, &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;* b)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    *a = &lt;span class=&#34;hljs-number&#34;&gt;10&lt;/span&gt;;&lt;br&gt;    *b = &lt;span class=&#34;hljs-number&#34;&gt;12&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; *a + *b;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;()&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;* c;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;* d;&lt;br&gt;    d=(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;*)&lt;span class=&#34;hljs-built_in&#34;&gt;malloc&lt;/span&gt;(&lt;span class=&#34;hljs-built_in&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;sizeof&lt;/span&gt;&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;)*&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;);&lt;br&gt;    c=(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;*)&lt;span class=&#34;hljs-built_in&#34;&gt;malloc&lt;/span&gt;(&lt;span class=&#34;hljs-built_in&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;sizeof&lt;/span&gt;&lt;/span&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;)*&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;);&lt;br&gt;    *c=&lt;span class=&#34;hljs-number&#34;&gt;10&lt;/span&gt;;&lt;br&gt;    *d=&lt;span class=&#34;hljs-number&#34;&gt;12&lt;/span&gt;;&lt;br&gt;    *d=&lt;span class=&#34;hljs-number&#34;&gt;12&lt;/span&gt;;&lt;br&gt;    cout&amp;lt;&amp;lt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;c:&amp;quot;&lt;/span&gt;&amp;lt;&amp;lt;*c&amp;lt;&amp;lt;endl;&lt;br&gt;    cout&amp;lt;&amp;lt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;d:&amp;quot;&lt;/span&gt;&amp;lt;&amp;lt;*d&amp;lt;&amp;lt;endl;&lt;br&gt;    cout&amp;lt;&amp;lt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;When Pointers a and b have different addresses&amp;quot;&lt;/span&gt;&amp;lt;&amp;lt;endl;&lt;br&gt;    cout&amp;lt;&amp;lt;&lt;span class=&#34;hljs-built_in&#34;&gt;add1&lt;/span&gt;(c,d)&amp;lt;&amp;lt;endl;&lt;br&gt;    cout&amp;lt;&amp;lt;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;When Pointers a and b have the same address&amp;quot;&lt;/span&gt;&amp;lt;&amp;lt;endl;&lt;br&gt;    cout&amp;lt;&amp;lt;&lt;span class=&#34;hljs-built_in&#34;&gt;add1&lt;/span&gt;(c,c)&amp;lt;&amp;lt;endl;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ç¨‹åºè¾“å‡ºï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;c:&lt;span class=&#34;hljs-number&#34;&gt;10&lt;/span&gt;&lt;br&gt;d:&lt;span class=&#34;hljs-number&#34;&gt;12&lt;/span&gt;&lt;br&gt;When Pointers a &lt;span class=&#34;hljs-keyword&#34;&gt;and&lt;/span&gt; b have different addresses&lt;br&gt;&lt;span class=&#34;hljs-number&#34;&gt;22&lt;/span&gt;&lt;br&gt;When Pointers a &lt;span class=&#34;hljs-keyword&#34;&gt;and&lt;/span&gt; b have the same address&lt;br&gt;&lt;span class=&#34;hljs-number&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å¼€å¯-O3ä¼˜åŒ–ï¼Œadd1å¯¹åº”çš„æ±‡ç¼–ä»£ç å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å¾—åˆ°&lt;code&gt;*a&lt;/code&gt;çš„å€¼è®¿é—®äº†1æ¬¡å†…å­˜ï¼Œè€Œä¸ç®¡åœ¨ä½•ç§æ¡ä»¶ä¸‹(&lt;code&gt;a == b&lt;/code&gt; or &lt;code&gt;a != b&lt;/code&gt;)ï¼Œ&lt;code&gt;*b&lt;/code&gt;çš„å€¼éƒ½æ˜¯12ã€‚å› æ­¤ç¼–è¯‘å™¨å°†&lt;code&gt;*a&lt;/code&gt;çš„å€¼è½½å…¥&lt;code&gt;eax&lt;/code&gt;å¯„å­˜å™¨åï¼Œç›´æ¥åŠ ä¸Šç«‹å³æ•°12ï¼Œè€Œæ— éœ€å†è®¿é—®å†…å­˜è·å–&lt;code&gt;*b&lt;/code&gt;çš„å€¼ã€‚åœ¨æ— æ³•ç¡®å®šæŒ‡é’ˆaå’Œbæ˜¯å¦ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨åªèƒ½å¸®ä½ ä¼˜åŒ–åˆ°è¿™é‡Œäº†ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight fortran&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs fortran&#34;&gt;&lt;span class=&#34;hljs-number&#34;&gt;0000000000400&lt;/span&gt;a10 &amp;lt;_Z4add1PiS_&amp;gt;:&lt;br&gt;  &lt;span class=&#34;hljs-number&#34;&gt;400&lt;/span&gt;a10:   c7 &lt;span class=&#34;hljs-number&#34;&gt;07&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;a &lt;span class=&#34;hljs-number&#34;&gt;00&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;00&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;00&lt;/span&gt;       movl   $&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;xa,(%rdi) ; *a = &lt;span class=&#34;hljs-number&#34;&gt;10&lt;/span&gt;&lt;br&gt;  &lt;span class=&#34;hljs-number&#34;&gt;400&lt;/span&gt;a16:   c7 &lt;span class=&#34;hljs-number&#34;&gt;06&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;c &lt;span class=&#34;hljs-number&#34;&gt;00&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;00&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;00&lt;/span&gt;       movl   $&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;xc,(%rsi) ; *b = &lt;span class=&#34;hljs-number&#34;&gt;10&lt;/span&gt;&lt;br&gt;  &lt;span class=&#34;hljs-number&#34;&gt;400&lt;/span&gt;a1c:   &lt;span class=&#34;hljs-number&#34;&gt;8&lt;/span&gt;b &lt;span class=&#34;hljs-number&#34;&gt;07&lt;/span&gt;                   mov    (%rdi),%eax ; ç»“æœ = *a&lt;br&gt;  &lt;span class=&#34;hljs-number&#34;&gt;400&lt;/span&gt;a1e:   &lt;span class=&#34;hljs-number&#34;&gt;83&lt;/span&gt; c0 &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;c                add    $&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;xc,%eax   ; ç»“æœ += &lt;span class=&#34;hljs-number&#34;&gt;12&lt;/span&gt; &lt;br&gt;  &lt;span class=&#34;hljs-number&#34;&gt;400&lt;/span&gt;a21:   c3                      retq&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;åŠ ä¸Šäº†restrictå…³é”®å­—è¿‡åï¼ŒåŒæ ·å¼€å¯-O3ä¼˜åŒ–ï¼Œadd1å¯¹åº”çš„æ±‡ç¼–ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;åŠ ä¸Šå…³é”®å­—restrictåï¼Œç¼–è¯‘å™¨èƒ½å¤Ÿç¡®è®¤æŒ‡é’ˆaå’Œbä¸å¯èƒ½æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤åœ¨æ±‚*a + *bæ—¶ï¼Œæ— è™šè®¿é—®å†…å­˜ï¼Œå› ä¸º*aå¿…ç„¶ç­‰äºç«‹å³æ•°10ï¼Œ*bå¿…ç„¶ç­‰äºç«‹å³æ•°12ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter hljs&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;div class=&#34;hljs code-wrapper&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;add2&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;(&lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;* __restrict  a, &lt;span class=&#34;hljs-keyword&#34;&gt;int&lt;/span&gt;* __restrict b)&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;    *a = &lt;span class=&#34;hljs-number&#34;&gt;10&lt;/span&gt;;&lt;br&gt;    *b = &lt;span class=&#34;hljs-number&#34;&gt;12&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; *a + *b ;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;span class=&#34;hljs-number&#34;&gt;0000000000400&lt;/span&gt;a30 &amp;lt;_Z4add2PiS_&amp;gt;:&lt;br&gt;  &lt;span class=&#34;hljs-number&#34;&gt;400&lt;/span&gt;a30:   c7 &lt;span class=&#34;hljs-number&#34;&gt;07&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;a &lt;span class=&#34;hljs-number&#34;&gt;00&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;00&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;00&lt;/span&gt;       movl   $&lt;span class=&#34;hljs-number&#34;&gt;0xa&lt;/span&gt;,(%rdi) ; *a = &lt;span class=&#34;hljs-number&#34;&gt;10&lt;/span&gt;&lt;br&gt;  &lt;span class=&#34;hljs-number&#34;&gt;400&lt;/span&gt;a36:   b8 &lt;span class=&#34;hljs-number&#34;&gt;16&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;00&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;00&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;00&lt;/span&gt;          mov    $&lt;span class=&#34;hljs-number&#34;&gt;0x16&lt;/span&gt;,%eax  ; ç»“æœ = &lt;span class=&#34;hljs-number&#34;&gt;22&lt;/span&gt;&lt;br&gt;  &lt;span class=&#34;hljs-number&#34;&gt;400&lt;/span&gt;a3b:   c7 &lt;span class=&#34;hljs-number&#34;&gt;06&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;c &lt;span class=&#34;hljs-number&#34;&gt;00&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;00&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;00&lt;/span&gt;       movl   $&lt;span class=&#34;hljs-number&#34;&gt;0xc&lt;/span&gt;,(%rsi) ; *b = &lt;span class=&#34;hljs-number&#34;&gt;12&lt;/span&gt;&lt;br&gt;  &lt;span class=&#34;hljs-number&#34;&gt;400&lt;/span&gt;a41:   c3  &lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;æœ‰æ— restrictå…³é”®å­—çš„ä¸¤ç§æƒ…å†µä¸‹çš„æ±‡ç¼–æŒ‡ä»¤å¯çœ‹åˆ°ï¼Œåè€…æ¯”å‰è€…å°‘è®¿é—®ä¸€æ¬¡å†…å­˜ï¼Œä¸”å°‘æ‰§è¡Œä¸€æ¡æŒ‡ä»¤ã€‚å°±æ˜¯å› ä¸ºæ²¡åŠ restructå…³é”®å­—æ—¶ï¼Œç¼–è¯‘å™¨ä¸èƒ½ç¡®å®šåˆ«çš„åœ°æ–¹æ˜¯ä¸æ˜¯ä¼šä¿®æ”¹æ­¤å€¼ï¼Œæ‰€ä»¥ä¼šå»ç›¸åº”çš„åœ°å€æŸ¥çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¿™æ ·å½“æˆ‘ä»¬æ˜ç¡®çŸ¥é“ä¸¤ä¸ªæŒ‡é’ˆä¸å¯èƒ½æŒ‡å‘åŒä¸€ä¸ªåœ°å€æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä½¿ç”¨restrictå…³é”®å­—æ¥è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„ä½¿ç”¨restrictçš„æ—¶å€™ï¼Œç¨‹åºå‘˜å¿…é¡»ç¡®ä¿ä¸ä¼šå‡ºç°&lt;strong&gt;pointer aliasing&lt;/strong&gt;ï¼Œå³åŒä¸€å—å†…å­˜æ— æ³•é€šè¿‡ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„æŒ‡é’ˆå˜é‡åè®¿é—®ã€‚ä¸æ»¡è¶³è¿™ä¸ªæ¡ä»¶å¼ºè¡ŒæŒ‡å®šrestrictï¼Œå°†ä¼šå‡ºç°&lt;strong&gt;underfined behavior&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é€šå¸¸ç¼–å†™ä»£ç æ—¶ä¼šå¿½ç•¥pointer aliasingçš„é—®é¢˜ã€‚æ›´å¸¸è§æ˜¯åœ¨æ€§èƒ½åˆ†ææ—¶ï¼Œé€šè¿‡åæ±‡ç¼–çœ‹åˆ°å¾ˆå¤šå†—ä½™çš„è¯»å–æŒ‡ä»¤ï¼Œæ‰ä¼šæƒ³åˆ°åŠ å…¥restrictå…³é”®å­—æ¥æå‡æ€§èƒ½ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;a href=&#34;#å‚è€ƒèµ„æ–™&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒèµ„æ–™&#34;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;p&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/349726808&#34;&gt;C&amp;#x2F;C++å…³é”®å­—ä¹‹restrict - çŸ¥ä¹ (zhihu.com)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/ClickHouse/ClickHouse/pull/19946&#34;&gt;Improve performance of aggregate functions by alexey-milovidov Â· Pull Request #19946 Â· ClickHouse&amp;#x2F;ClickHouse (github.com)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://en.cppreference.com/w/c/language/restrict&#34;&gt;restrict type qualifier - cppreference.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.zhihu.com/question/41653775/answer/2535730128&#34;&gt;å¦‚ä½•ç†è§£Cè¯­è¨€å…³é”®å­—restrictï¼Ÿ - çŸ¥ä¹ (zhihu.com)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/qq_41822235/article/details/83479562&#34;&gt;(65æ¡æ¶ˆæ¯) å…³é”®å­—_restrict___restrict_æ¥šæ¥šå¯è–‡çš„åšå®¢-CSDNåšå®¢&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/qq_41950508/article/details/126619881?spm=1001.2101.3001.6661.1&amp;utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-126619881-blog-102577325.pc_relevant_3mothn_strategy_recovery&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-126619881-blog-102577325.pc_relevant_3mothn_strategy_recovery&amp;utm_relevant_index=1&#34;&gt;(65æ¡æ¶ˆæ¯) ã€C++ã€‘å…³é”®å­—restrictçš„ä½œç”¨_restrictå…³é”®å­—çš„ä½œç”¨_ä¸çŸ¥æ‰€æªçš„æ¸£æ¸£è¾‰çš„åšå®¢-CSDNåšå®¢&lt;/a&gt;&lt;/p&gt;
</content>
        <category term="Linux" />
        <updated>2023-02-28T11:45:09.000Z</updated>
    </entry>
</feed>
