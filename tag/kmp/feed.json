{
    "version": "https://jsonfeed.org/version/1",
    "title": "Amicoyuan • All posts by \"kmp\" tag",
    "description": "",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2022/04/27/Algorithm034/",
            "url": "http://example.com/2022/04/27/Algorithm034/",
            "title": "串的模式匹配算法-KMP算法",
            "date_published": "2022-04-27T11:39:05.000Z",
            "content_html": "<h2 id=\"串的模式匹配算法-KMP算法\"><a href=\"#串的模式匹配算法-KMP算法\" class=\"headerlink\" title=\"串的模式匹配算法-KMP算法\"></a>串的模式匹配算法-KMP算法</h2><h3 id=\"求next数组\"><a href=\"#求next数组\" class=\"headerlink\" title=\"求next数组\"></a>求next数组</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs c++\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">get_next</span><span class=\"hljs-params\">(SSting t,<span class=\"hljs-keyword\">int</span> next[])</span></span><br><span class=\"hljs-function\"></span>&#123;<br>    <span class=\"hljs-keyword\">int</span> i=<span class=\"hljs-number\">1</span>,j=<span class=\"hljs-number\">0</span>;<br>    next[<span class=\"hljs-number\">1</span>]=<span class=\"hljs-number\">0</span>;<br>    <span class=\"hljs-keyword\">while</span>(i&lt;t.length)<br>    &#123;<br>        <span class=\"hljs-keyword\">if</span>(j==<span class=\"hljs-number\">0</span>||t.ch[i]==t.ch[j])<br>        &#123;<br>            i++;<br>            j++;<br>            next[i]=j;      <span class=\"hljs-comment\">//若pi=pj,则next[j+i]=next[j]+1</span><br>        &#125;<span class=\"hljs-keyword\">else</span>&#123;<br>            j=next[j];      <span class=\"hljs-comment\">//否则令j=next[j]，循环继续</span><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"KMP匹配算法\"><a href=\"#KMP匹配算法\" class=\"headerlink\" title=\"KMP匹配算法\"></a>KMP匹配算法</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs c++\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">Index_KMP</span><span class=\"hljs-params\">(SSting s,SSting t,<span class=\"hljs-keyword\">int</span> next[])</span></span>&#123;<br>    <span class=\"hljs-keyword\">int</span> i=<span class=\"hljs-number\">1</span>,j=<span class=\"hljs-number\">1</span>;<br>    <span class=\"hljs-keyword\">while</span> (i&lt;=s.length&amp;&amp;j&lt;=t.length)&#123;<br>        <span class=\"hljs-keyword\">if</span>(j==<span class=\"hljs-number\">0</span>||s.ch[i]==t.ch[j])<br>        &#123;<br>            j++;                    <span class=\"hljs-comment\">//继续比较后续字符</span><br>            i++;<br>        &#125;<span class=\"hljs-keyword\">else</span>&#123;<br>            j=next[j];              <span class=\"hljs-comment\">//模式串向右移动</span><br>        &#125;<br>    &#125;<br>    <span class=\"hljs-keyword\">if</span>(j&gt;t.length)<br>    &#123;<br>        <span class=\"hljs-keyword\">return</span> i-t.length;          <span class=\"hljs-comment\">//匹配成功</span><br>    &#125;<span class=\"hljs-keyword\">else</span>&#123;<br>        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"完整代码：\"><a href=\"#完整代码：\" class=\"headerlink\" title=\"完整代码：\"></a>完整代码：</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs c++\"><span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span><span class=\"hljs-meta-string\">&lt;bits/stdc++.h&gt;</span></span><br><span class=\"hljs-keyword\">using</span> <span class=\"hljs-keyword\">namespace</span> std;<br><span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">define</span> MAXLEN 255\t\t\t\t\t<span class=\"hljs-comment\">//预定义最大串长</span></span><br><span class=\"hljs-keyword\">typedef</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">struct</span>&#123;</span><br>    <span class=\"hljs-keyword\">char</span> ch[MAXLEN];\t\t\t\t<span class=\"hljs-comment\">//每个分量存储一个字符</span><br>    <span class=\"hljs-keyword\">int</span> length;\t\t\t\t\t\t<span class=\"hljs-comment\">//串的实际长度</span><br>&#125;SSting;<br><span class=\"hljs-function\"><span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">get_next</span><span class=\"hljs-params\">(SSting t,<span class=\"hljs-keyword\">int</span> next[])</span></span><br><span class=\"hljs-function\"></span>&#123;<br>    <span class=\"hljs-keyword\">int</span> i=<span class=\"hljs-number\">1</span>,j=<span class=\"hljs-number\">0</span>;<br>    next[<span class=\"hljs-number\">1</span>]=<span class=\"hljs-number\">0</span>;<br>    <span class=\"hljs-keyword\">while</span>(i&lt;t.length)<br>    &#123;<br>        <span class=\"hljs-keyword\">if</span>(j==<span class=\"hljs-number\">0</span>||t.ch[i]==t.ch[j])<br>        &#123;<br>            i++;<br>            j++;<br>            next[i]=j;      <span class=\"hljs-comment\">//若pi=pj,则next[j+i]=next[j]+1</span><br>        &#125;<span class=\"hljs-keyword\">else</span>&#123;<br>            j=next[j];      <span class=\"hljs-comment\">//否则令j=next[j]，循环继续</span><br>        &#125;<br>    &#125;<br>&#125;<br><span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">Index_KMP</span><span class=\"hljs-params\">(SSting s,SSting t,<span class=\"hljs-keyword\">int</span> next[])</span></span>&#123;<br>    <span class=\"hljs-keyword\">int</span> i=<span class=\"hljs-number\">1</span>,j=<span class=\"hljs-number\">1</span>;<br>    <span class=\"hljs-keyword\">while</span> (i&lt;=s.length&amp;&amp;j&lt;=t.length)&#123;<br>        <span class=\"hljs-keyword\">if</span>(j==<span class=\"hljs-number\">0</span>||s.ch[i]==t.ch[j])<br>        &#123;<br>            j++;                    <span class=\"hljs-comment\">//继续比较后续字符</span><br>            i++;<br>        &#125;<span class=\"hljs-keyword\">else</span>&#123;<br>            j=next[j];              <span class=\"hljs-comment\">//模式串向右移动</span><br>        &#125;<br>    &#125;<br>    <span class=\"hljs-keyword\">if</span>(j&gt;t.length)<br>    &#123;<br>        <span class=\"hljs-keyword\">return</span> i-t.length;          <span class=\"hljs-comment\">//匹配成功</span><br>    &#125;<span class=\"hljs-keyword\">else</span>&#123;<br>        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;<br>    &#125;<br>&#125;<br><span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span></span><br><span class=\"hljs-function\"></span>&#123;<br>    SSting a,b;<br>    string s1=<span class=\"hljs-string\">&quot;ababcabcacbab&quot;</span>;<br>    string s2=<span class=\"hljs-string\">&quot;abcac&quot;</span>;<br>    a.length=s1.<span class=\"hljs-built_in\">size</span>();<br>    b.length=s2.<span class=\"hljs-built_in\">size</span>();<br>    <span class=\"hljs-keyword\">int</span> next[s2.<span class=\"hljs-built_in\">size</span>()+<span class=\"hljs-number\">1</span>];<br>    <span class=\"hljs-built_in\">get_next</span>(b,next);<br>    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt;s1.<span class=\"hljs-built_in\">size</span>(); ++i) &#123;\t<span class=\"hljs-comment\">//初始化</span><br>        a.ch[i+<span class=\"hljs-number\">1</span>]=s1[i];<br>    &#125;<br>    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">int</span> j = <span class=\"hljs-number\">0</span>; j &lt;s2.<span class=\"hljs-built_in\">size</span>() ; ++j) &#123;\t<span class=\"hljs-comment\">//初始化</span><br>        b.ch[j+<span class=\"hljs-number\">1</span>]=s2[j];<br>    &#125;<br>    <span class=\"hljs-keyword\">int</span> x=<span class=\"hljs-built_in\">Index_KMP</span>(a,b,next);<br>    <span class=\"hljs-keyword\">if</span>(x!=<span class=\"hljs-number\">0</span>)<br>    &#123;<br>        cout&lt;&lt;<span class=\"hljs-string\">&quot;找到了位置是：&quot;</span>&lt;&lt;x&lt;&lt;endl;<br>    &#125;<span class=\"hljs-keyword\">else</span>&#123;<br>        cout&lt;&lt;<span class=\"hljs-string\">&quot;没有找到&quot;</span>&lt;&lt;endl;<br>    &#125;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"程序输出：\"><a href=\"#程序输出：\" class=\"headerlink\" title=\"程序输出：\"></a>程序输出：</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs c++\">找到了位置是：<span class=\"hljs-number\">6</span><br></code></pre></td></tr></table></figure>\n\n",
            "tags": [
                "Data Structure",
                "String",
                "KMP"
            ]
        }
    ]
}